(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function s(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(r){if(r.ep)return;r.ep=!0;const u=s(r);fetch(r.href,u)}})();function ep(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var h0={exports:{}},Qo={};var Cv;function wj(){if(Cv)return Qo;Cv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(l,r,u){var d=null;if(u!==void 0&&(d=""+u),r.key!==void 0&&(d=""+r.key),"key"in r){u={};for(var f in r)f!=="key"&&(u[f]=r[f])}else u=r;return r=u.ref,{$$typeof:i,type:l,key:d,ref:r!==void 0?r:null,props:u}}return Qo.Fragment=e,Qo.jsx=s,Qo.jsxs=s,Qo}var Tv;function _j(){return Tv||(Tv=1,h0.exports=wj()),h0.exports}var c=_j(),m0={exports:{}},ot={};var Mv;function Sj(){if(Mv)return ot;Mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function k(T,D,H){this.props=T,this.context=D,this.refs=N,this.updater=H||S}k.prototype.isReactComponent={},k.prototype.setState=function(T,D){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,D,"setState")},k.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function E(){}E.prototype=k.prototype;function M(T,D,H){this.props=T,this.context=D,this.refs=N,this.updater=H||S}var A=M.prototype=new E;A.constructor=M,w(A,k.prototype),A.isPureReactComponent=!0;var z=Array.isArray;function O(){}var F={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function V(T,D,H){var Q=H.ref;return{$$typeof:i,type:T,key:D,ref:Q!==void 0?Q:null,props:H}}function re(T,D){return V(T.type,D,T.props)}function oe(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function se(T){var D={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(H){return D[H]})}var Se=/\/+/g;function Ee(T,D){return typeof T=="object"&&T!==null&&T.key!=null?se(""+T.key):D.toString(36)}function Me(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(O,O):(T.status="pending",T.then(function(D){T.status==="pending"&&(T.status="fulfilled",T.value=D)},function(D){T.status==="pending"&&(T.status="rejected",T.reason=D)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function W(T,D,H,Q,de){var je=typeof T;(je==="undefined"||je==="boolean")&&(T=null);var U=!1;if(T===null)U=!0;else switch(je){case"bigint":case"string":case"number":U=!0;break;case"object":switch(T.$$typeof){case i:case e:U=!0;break;case y:return U=T._init,W(U(T._payload),D,H,Q,de)}}if(U)return de=de(T),U=Q===""?"."+Ee(T,0):Q,z(de)?(H="",U!=null&&(H=U.replace(Se,"$&/")+"/"),W(de,D,H,"",function(he){return he})):de!=null&&(oe(de)&&(de=re(de,H+(de.key==null||T&&T.key===de.key?"":(""+de.key).replace(Se,"$&/")+"/")+U)),D.push(de)),1;U=0;var ne=Q===""?".":Q+":";if(z(T))for(var Z=0;Z<T.length;Z++)Q=T[Z],je=ne+Ee(Q,Z),U+=W(Q,D,H,je,de);else if(Z=_(T),typeof Z=="function")for(T=Z.call(T),Z=0;!(Q=T.next()).done;)Q=Q.value,je=ne+Ee(Q,Z++),U+=W(Q,D,H,je,de);else if(je==="object"){if(typeof T.then=="function")return W(Me(T),D,H,Q,de);throw D=String(T),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return U}function le(T,D,H){if(T==null)return T;var Q=[],de=0;return W(T,Q,"","",function(je){return D.call(H,je,de++)}),Q}function X(T){if(T._status===-1){var D=T._result;D=D(),D.then(function(H){(T._status===0||T._status===-1)&&(T._status=1,T._result=H)},function(H){(T._status===0||T._status===-1)&&(T._status=2,T._result=H)}),T._status===-1&&(T._status=0,T._result=D)}if(T._status===1)return T._result.default;throw T._result}var L=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},q={map:le,forEach:function(T,D,H){le(T,function(){D.apply(this,arguments)},H)},count:function(T){var D=0;return le(T,function(){D++}),D},toArray:function(T){return le(T,function(D){return D})||[]},only:function(T){if(!oe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ot.Activity=x,ot.Children=q,ot.Component=k,ot.Fragment=s,ot.Profiler=r,ot.PureComponent=M,ot.StrictMode=l,ot.Suspense=m,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ot.__COMPILER_RUNTIME={__proto__:null,c:function(T){return F.H.useMemoCache(T)}},ot.cache=function(T){return function(){return T.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(T,D,H){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Q=w({},T.props),de=T.key;if(D!=null)for(je in D.key!==void 0&&(de=""+D.key),D)!P.call(D,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&D.ref===void 0||(Q[je]=D[je]);var je=arguments.length-2;if(je===1)Q.children=H;else if(1<je){for(var U=Array(je),ne=0;ne<je;ne++)U[ne]=arguments[ne+2];Q.children=U}return V(T.type,de,Q)},ot.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ot.createElement=function(T,D,H){var Q,de={},je=null;if(D!=null)for(Q in D.key!==void 0&&(je=""+D.key),D)P.call(D,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(de[Q]=D[Q]);var U=arguments.length-2;if(U===1)de.children=H;else if(1<U){for(var ne=Array(U),Z=0;Z<U;Z++)ne[Z]=arguments[Z+2];de.children=ne}if(T&&T.defaultProps)for(Q in U=T.defaultProps,U)de[Q]===void 0&&(de[Q]=U[Q]);return V(T,je,de)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(T){return{$$typeof:f,render:T}},ot.isValidElement=oe,ot.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:X}},ot.memo=function(T,D){return{$$typeof:g,type:T,compare:D===void 0?null:D}},ot.startTransition=function(T){var D=F.T,H={};F.T=H;try{var Q=T(),de=F.S;de!==null&&de(H,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(O,L)}catch(je){L(je)}finally{D!==null&&H.types!==null&&(D.types=H.types),F.T=D}},ot.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ot.use=function(T){return F.H.use(T)},ot.useActionState=function(T,D,H){return F.H.useActionState(T,D,H)},ot.useCallback=function(T,D){return F.H.useCallback(T,D)},ot.useContext=function(T){return F.H.useContext(T)},ot.useDebugValue=function(){},ot.useDeferredValue=function(T,D){return F.H.useDeferredValue(T,D)},ot.useEffect=function(T,D){return F.H.useEffect(T,D)},ot.useEffectEvent=function(T){return F.H.useEffectEvent(T)},ot.useId=function(){return F.H.useId()},ot.useImperativeHandle=function(T,D,H){return F.H.useImperativeHandle(T,D,H)},ot.useInsertionEffect=function(T,D){return F.H.useInsertionEffect(T,D)},ot.useLayoutEffect=function(T,D){return F.H.useLayoutEffect(T,D)},ot.useMemo=function(T,D){return F.H.useMemo(T,D)},ot.useOptimistic=function(T,D){return F.H.useOptimistic(T,D)},ot.useReducer=function(T,D,H){return F.H.useReducer(T,D,H)},ot.useRef=function(T){return F.H.useRef(T)},ot.useState=function(T){return F.H.useState(T)},ot.useSyncExternalStore=function(T,D,H){return F.H.useSyncExternalStore(T,D,H)},ot.useTransition=function(){return F.H.useTransition()},ot.version="19.2.3",ot}var Av;function tp(){return Av||(Av=1,m0.exports=Sj()),m0.exports}var j=tp();const dn=ep(j);var p0={exports:{}},Ko={},g0={exports:{}},y0={};var Ev;function jj(){return Ev||(Ev=1,(function(i){function e(W,le){var X=W.length;W.push(le);e:for(;0<X;){var L=X-1>>>1,q=W[L];if(0<r(q,le))W[L]=le,W[X]=q,X=L;else break e}}function s(W){return W.length===0?null:W[0]}function l(W){if(W.length===0)return null;var le=W[0],X=W.pop();if(X!==le){W[0]=X;e:for(var L=0,q=W.length,T=q>>>1;L<T;){var D=2*(L+1)-1,H=W[D],Q=D+1,de=W[Q];if(0>r(H,X))Q<q&&0>r(de,H)?(W[L]=de,W[Q]=X,L=Q):(W[L]=H,W[D]=X,L=D);else if(Q<q&&0>r(de,X))W[L]=de,W[Q]=X,L=Q;else break e}}return le}function r(W,le){var X=W.sortIndex-le.sortIndex;return X!==0?X:W.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();i.unstable_now=function(){return d.now()-f}}var m=[],g=[],y=1,x=null,v=3,_=!1,S=!1,w=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function A(W){for(var le=s(g);le!==null;){if(le.callback===null)l(g);else if(le.startTime<=W)l(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=s(g)}}function z(W){if(w=!1,A(W),!S)if(s(m)!==null)S=!0,O||(O=!0,se());else{var le=s(g);le!==null&&Me(z,le.startTime-W)}}var O=!1,F=-1,P=5,V=-1;function re(){return N?!0:!(i.unstable_now()-V<P)}function oe(){if(N=!1,O){var W=i.unstable_now();V=W;var le=!0;try{e:{S=!1,w&&(w=!1,E(F),F=-1),_=!0;var X=v;try{t:{for(A(W),x=s(m);x!==null&&!(x.expirationTime>W&&re());){var L=x.callback;if(typeof L=="function"){x.callback=null,v=x.priorityLevel;var q=L(x.expirationTime<=W);if(W=i.unstable_now(),typeof q=="function"){x.callback=q,A(W),le=!0;break t}x===s(m)&&l(m),A(W)}else l(m);x=s(m)}if(x!==null)le=!0;else{var T=s(g);T!==null&&Me(z,T.startTime-W),le=!1}}break e}finally{x=null,v=X,_=!1}le=void 0}}finally{le?se():O=!1}}}var se;if(typeof M=="function")se=function(){M(oe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ee=Se.port2;Se.port1.onmessage=oe,se=function(){Ee.postMessage(null)}}else se=function(){k(oe,0)};function Me(W,le){F=k(function(){W(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(W){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var X=v;v=le;try{return W()}finally{v=X}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=v;v=W;try{return le()}finally{v=X}},i.unstable_scheduleCallback=function(W,le,X){var L=i.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?L+X:L):X=L,W){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=X+q,W={id:y++,callback:le,priorityLevel:W,startTime:X,expirationTime:q,sortIndex:-1},X>L?(W.sortIndex=X,e(g,W),s(m)===null&&W===s(g)&&(w?(E(F),F=-1):w=!0,Me(z,X-L))):(W.sortIndex=q,e(m,W),S||_||(S=!0,O||(O=!0,se()))),W},i.unstable_shouldYield=re,i.unstable_wrapCallback=function(W){var le=v;return function(){var X=v;v=le;try{return W.apply(this,arguments)}finally{v=X}}}})(y0)),y0}var zv;function kj(){return zv||(zv=1,g0.exports=jj()),g0.exports}var x0={exports:{}},Xn={};var Dv;function Nj(){if(Dv)return Xn;Dv=1;var i=tp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(m,g,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:m,containerInfo:g,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Xn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,y)},Xn.flushSync=function(m){var g=d.T,y=l.p;try{if(d.T=null,l.p=2,m)return m()}finally{d.T=g,l.p=y,l.d.f()}},Xn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},Xn.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},Xn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,x=f(y,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:_}):y==="script"&&l.d.X(m,{crossOrigin:x,integrity:v,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},Xn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,x=f(y,g.crossOrigin);l.d.L(m,y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},Xn.requestFormReset=function(m){l.d.r(m)},Xn.unstable_batchedUpdates=function(m,g){return m(g)},Xn.useFormState=function(m,g,y){return d.H.useFormState(m,g,y)},Xn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xn.version="19.2.3",Xn}var Pv;function t2(){if(Pv)return x0.exports;Pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),x0.exports=Nj(),x0.exports}var Rv;function Cj(){if(Rv)return Ko;Rv=1;var i=kj(),e=tp(),s=t2();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function f(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(l(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(l(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return m(h),t;if(p===o)return m(h),n;p=p.sibling}throw Error(l(188))}if(a.return!==o.return)a=h,o=p;else{for(var b=!1,C=h.child;C;){if(C===a){b=!0,a=h,o=p;break}if(C===o){b=!0,o=h,a=p;break}C=C.sibling}if(!b){for(C=p.child;C;){if(C===a){b=!0,a=p,o=h;break}if(C===o){b=!0,o=p,a=h;break}C=C.sibling}if(!b)throw Error(l(189))}}if(a.alternate!==o)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case M:return t.displayName||"Context";case E:return(t._context.displayName||"Context")+".Consumer";case A:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:Ee(t.type)||"Memo";case P:n=t._payload,t=t._init;try{return Ee(t(n))}catch{}}return null}var Me=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},L=[],q=-1;function T(t){return{current:t}}function D(t){0>q||(t.current=L[q],L[q]=null,q--)}function H(t,n){q++,L[q]=t.current,t.current=n}var Q=T(null),de=T(null),je=T(null),U=T(null);function ne(t,n){switch(H(je,n),H(de,t),H(Q,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Qx(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Qx(n),t=Kx(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}D(Q),H(Q,t)}function Z(){D(Q),D(de),D(je)}function he(t){t.memoizedState!==null&&H(U,t);var n=Q.current,a=Kx(n,t.type);n!==a&&(H(de,t),H(Q,a))}function xe(t){de.current===t&&(D(Q),D(de)),U.current===t&&(D(U),Xo._currentValue=X)}var J,I;function fe(t){if(J===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);J=n&&n[1]||"",I=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+t+I}var me=!1;function Y(t,n){if(!t||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ue){var ae=ue}Reflect.construct(t,[],we)}else{try{we.call()}catch(ue){ae=ue}t.call(we.prototype)}}else{try{throw Error()}catch(ue){ae=ue}(we=t())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ue){if(ue&&ae&&typeof ue.stack=="string")return[ue.stack,ae.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),b=p[0],C=p[1];if(b&&C){var R=b.split(`
`),te=C.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<te.length&&!te[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===te.length)for(o=R.length-1,h=te.length-1;1<=o&&0<=h&&R[o]!==te[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==te[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==te[h]){var ge=`
`+R[o].replace(" at new "," at ");return t.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",t.displayName)),ge}while(1<=o&&0<=h);break}}}finally{me=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fe(a):""}function ke(t,n){switch(t.tag){case 26:case 27:case 5:return fe(t.type);case 16:return fe("Lazy");case 13:return t.child!==n&&n!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return Y(t.type,!1);case 11:return Y(t.type.render,!1);case 1:return Y(t.type,!0);case 31:return fe("Activity");default:return""}}function ze(t){try{var n="",a=null;do n+=ke(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Ue=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,lt=i.unstable_shouldYield,ut=i.unstable_requestPaint,De=i.unstable_now,Be=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,qe=i.unstable_UserBlockingPriority,Pe=i.unstable_NormalPriority,mt=i.unstable_LowPriority,Qe=i.unstable_IdlePriority,$t=i.log,En=i.unstable_setDisableYieldValue,St=null,Oe=null;function Xt(t){if(typeof $t=="function"&&En(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(St,t)}catch{}}var _e=Math.clz32?Math.clz32:Ie,at=Math.log,pt=Math.LN2;function Ie(t){return t>>>=0,t===0?32:31-(at(t)/pt|0)|0}var Ze=256,ye=262144,tt=4194304;function Je(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function rt(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,p=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var C=o&134217727;return C!==0?(o=C&~p,o!==0?h=Je(o):(b&=C,b!==0?h=Je(b):a||(a=C&~t,a!==0&&(h=Je(a))))):(C=o&~p,C!==0?h=Je(C):b!==0?h=Je(b):a||(a=o&~t,a!==0&&(h=Je(a)))),h===0?0:n!==0&&n!==h&&(n&p)===0&&(p=h&-h,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:h}function gt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Nt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(){var t=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),t}function st(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function We(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yt(t,n,a,o,h,p){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,R=t.expirationTimes,te=t.hiddenUpdates;for(a=b&~a;0<a;){var ge=31-_e(a),we=1<<ge;C[ge]=0,R[ge]=-1;var ae=te[ge];if(ae!==null)for(te[ge]=null,ge=0;ge<ae.length;ge++){var ue=ae[ge];ue!==null&&(ue.lane&=-536870913)}a&=~we}o!==0&&Ht(t,o,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(b&~n))}function Ht(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_e(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function gn(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-_e(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Jt(t,n){var a=n&-n;return a=(a&42)!==0?1:Kn(a),(a&(t.suspendedLanes|n))!==0?0:a}function Kn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Et(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:bv(t.type))}function Sn(t,n){var a=le.p;try{return le.p=t,n()}finally{le.p=a}}var Zn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Zn,Qt="__reactProps$"+Zn,Jn="__reactContainer$"+Zn,wi="__reactEvents$"+Zn,ie="__reactListeners$"+Zn,pe="__reactHandles$"+Zn,Le="__reactResources$"+Zn,Ae="__reactMarker$"+Zn;function $e(t){delete t[Yt],delete t[Qt],delete t[wi],delete t[ie],delete t[pe]}function Ve(t){var n=t[Yt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Jn]||a[Yt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=sv(t);t!==null;){if(a=t[Yt])return a;t=sv(t)}return n}t=a,a=t.parentNode}return null}function ht(t){if(t=t[Yt]||t[Jn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _i(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Un(t){var n=t[Le];return n||(n=t[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Bt(t){t[Ae]=!0}var Ql=new Set,Ba={};function Js(t,n){Kl(t,n),Kl(t+"Capture",n)}function Kl(t,n){for(Ba[t]=n,t=0;t<n.length;t++)Ql.add(n[t])}var Jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uc={},ds={};function $c(t){return Te.call(ds,t)?!0:Te.call(Uc,t)?!1:Jr.test(t)?ds[t]=!0:(Uc[t]=!0,!1)}function el(t,n,a){if($c(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function fs(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ii(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Si(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tf(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sg(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){a=""+b,p.call(this,b)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Hc(t){if(!t._valueTracker){var n=tf(t)?"checked":"value";t._valueTracker=sg(t,n,""+t[n])}}function Yc(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=tf(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var eo=/[\n"\\]/g;function $n(t){return t.replace(eo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zl(t,n,a,o,h,p,b,C){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Si(n)):t.value!==""+Si(n)&&(t.value=""+Si(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?Hn(t,b,Si(n)):a!=null?Hn(t,b,Si(a)):o!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Si(C):t.removeAttribute("name")}function to(t,n,a,o,h,p,b,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Hc(t);return}a=a!=null?""+Si(a):"",n=n!=null?""+Si(n):a,C||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=C?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Hc(t)}function Hn(t,n,a){n==="number"&&Fi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function oi(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Si(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Xc(t,n,a){if(n!=null&&(n=""+Si(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Si(a):""}function en(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(l(92));if(Me(o)){if(1<o.length)throw Error(l(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Si(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Hc(t)}function tl(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Jl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cs(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Jl.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qc(t,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Cs(t,h,o)}else for(var p in n)n.hasOwnProperty(p)&&Cs(t,p,n[p])}function no(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return sf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ui(){}var Fa=null;function io(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nl=null,il=null;function Gc(t){var n=ht(t);if(n&&(t=n.stateNode)){var a=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Zl(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$n(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Qt]||null;if(!h)throw Error(l(90));Zl(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Yc(o)}break e;case"textarea":Xc(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&oi(t,!!a.multiple,n,!1)}}}var Ua=!1;function ea(t,n,a){if(Ua)return t(n,a);Ua=!0;try{var o=t(n);return o}finally{if(Ua=!1,(nl!==null||il!==null)&&(Ou(),nl&&(n=nl,t=il,il=nl=null,Gc(n),t)))for(n=0;n<t.length;n++)Gc(t[n])}}function Ts(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Qt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=!1;if($i)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){$a=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{$a=!1}var hs=null,so=null,sl=null;function Wc(){if(sl)return sl;var t,n=so,a=n.length,o,h="value"in hs?hs.value:hs.textContent,p=h.length;for(t=0;t<a&&n[t]===h[t];t++);var b=a-t;for(o=1;o<=b&&n[a-o]===h[p-o];o++);return sl=h.slice(t,1<o?1-o:void 0)}function Ms(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ha(){return!0}function Qc(){return!1}function ei(t){function n(a,o,h,p,b){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ha:Qc,this.isPropagationStopped=Qc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),n}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=ei(ll),Ya=x({},ll,{view:0,detail:0}),lg=ei(Ya),Kc,ao,Xa,na=x({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xa&&(Xa&&t.type==="mousemove"?(Kc=t.screenX-Xa.screenX,ao=t.screenY-Xa.screenY):ao=Kc=0,Xa=t),Kc)},movementY:function(t){return"movementY"in t?t.movementY:ao}}),lf=ei(na),af=x({},na,{dataTransfer:0}),ag=ei(af),rf=x({},Ya,{relatedTarget:0}),ro=ei(rf),of=x({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=ei(of),og=x({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cg=ei(og),ug=x({},ll,{data:0}),cf=ei(ug),uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ff={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ff[t])?!!n[t]:!1}function Zc(){return qa}var dg=x({},Ya,{key:function(t){if(t.key){var n=uf[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?df[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fg=ei(dg),hg=x({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=ei(hg),mg=x({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),pg=ei(mg),gg=x({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),yg=ei(gg),xg=x({},na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=ei(xg),bg=x({},ll,{newState:0,oldState:0}),Jc=ei(bg),mf=[9,13,27,32],oo=$i&&"CompositionEvent"in window,ia=null;$i&&"documentMode"in document&&(ia=document.documentMode);var pf=$i&&"TextEvent"in window&&!ia,al=$i&&(!oo||ia&&8<ia&&11>=ia),co=" ",sa=!1;function uo(t,n){switch(t){case"keyup":return mf.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function wg(t,n){switch(t){case"compositionend":return fo(n);case"keypress":return n.which!==32?null:(sa=!0,co);case"textInput":return t=n.data,t===co&&sa?null:t;default:return null}}function _g(t,n){if(As)return t==="compositionend"||!oo&&uo(t,n)?(t=Wc(),sl=so=hs=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return al&&n.locale!=="ko"?null:n.data;default:return null}}var Sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Sg[t.type]:n==="textarea"}function la(t,n,a,o){nl?il?il.push(o):il=[o]:nl=o,n=Hu(n,"onChange"),0<n.length&&(a=new lo("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var rl=null,Ga=null;function gf(t){Hx(t,0)}function ho(t){var n=_i(t);if(Yc(n))return t}function yf(t,n){if(t==="change")return n}var xf=!1;if($i){var eu;if($i){var tu="oninput"in document;if(!tu){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),tu=typeof vf.oninput=="function"}eu=tu}else eu=!1;xf=eu&&(!document.documentMode||9<document.documentMode)}function bf(){rl&&(rl.detachEvent("onpropertychange",wf),Ga=rl=null)}function wf(t){if(t.propertyName==="value"&&ho(Ga)){var n=[];la(n,Ga,t,io(t)),ea(gf,n)}}function _f(t,n,a){t==="focusin"?(bf(),rl=n,Ga=a,rl.attachEvent("onpropertychange",wf)):t==="focusout"&&bf()}function jg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ho(Ga)}function Sf(t,n){if(t==="click")return ho(n)}function jf(t,n){if(t==="input"||t==="change")return ho(n)}function kf(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ti=typeof Object.is=="function"?Object.is:kf;function zn(t,n){if(ti(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(n,h)||!ti(t[h],n[h]))return!1}return!0}function mo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aa(t,n){var a=mo(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mo(a)}}function Nf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Nf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ol(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Fi(t.document)}return n}function po(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var as=$i&&"documentMode"in document&&11>=document.documentMode,cl=null,Cn=null,ra=null,go=!1;function ms(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;go||cl==null||cl!==Fi(o)||(o=cl,"selectionStart"in o&&po(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ra&&zn(ra,o)||(ra=o,o=Hu(Cn,"onSelect"),0<o.length&&(n=new lo("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=cl)))}function Yn(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ul={animationend:Yn("Animation","AnimationEnd"),animationiteration:Yn("Animation","AnimationIteration"),animationstart:Yn("Animation","AnimationStart"),transitionrun:Yn("Transition","TransitionRun"),transitionstart:Yn("Transition","TransitionStart"),transitioncancel:Yn("Transition","TransitionCancel"),transitionend:Yn("Transition","TransitionEnd")},yo={},nu={};$i&&(nu=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function ni(t){if(yo[t])return yo[t];if(!ul[t])return t;var n=ul[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in nu)return yo[t]=n[a];return t}var $=ni("animationend"),K=ni("animationiteration"),ce=ni("animationstart"),Ce=ni("transitionrun"),Ne=ni("transitionstart"),He=ni("transitioncancel"),ct=ni("transitionend"),xt=new Map,Dn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dn.push("scrollEnd");function ii(t,n){xt.set(t,n),Js(n,[t])}var iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hi=[],Wa=0,Cf=0;function su(){for(var t=Wa,n=Cf=Wa=0;n<t;){var a=Hi[n];Hi[n++]=null;var o=Hi[n];Hi[n++]=null;var h=Hi[n];Hi[n++]=null;var p=Hi[n];if(Hi[n++]=null,o!==null&&h!==null){var b=o.pending;b===null?h.next=h:(h.next=b.next,b.next=h),o.pending=h}p!==0&&kg(a,h,p)}}function lu(t,n,a,o){Hi[Wa++]=t,Hi[Wa++]=n,Hi[Wa++]=a,Hi[Wa++]=o,Cf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Tf(t,n,a,o){return lu(t,n,a,o),au(t)}function oa(t,n){return lu(t,null,null,n),au(t)}function kg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,p=t.return;p!==null;)p.childLanes|=a,o=p.alternate,o!==null&&(o.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&n!==null&&(h=31-_e(a),t=p.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),p):null}function au(t){if(50<Bo)throw Bo=0,Oh=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qa={};function sS(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(t,n,a,o){return new sS(t,n,a,o)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Es(t,n){var a=t.alternate;return a===null?(a=ji(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ng(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ru(t,n,a,o,h,p){var b=0;if(o=t,typeof t=="function")Mf(t)&&(b=1);else if(typeof t=="string")b=cj(t,a,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=ji(31,a,n,h),t.elementType=V,t.lanes=p,t;case w:return ca(a.children,h,p,n);case N:b=8,h|=24;break;case k:return t=ji(12,a,n,h|2),t.elementType=k,t.lanes=p,t;case z:return t=ji(13,a,n,h),t.elementType=z,t.lanes=p,t;case O:return t=ji(19,a,n,h),t.elementType=O,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:b=10;break e;case E:b=9;break e;case A:b=11;break e;case F:b=14;break e;case P:b=16,o=null;break e}b=29,a=Error(l(130,t===null?"null":typeof t,"")),o=null}return n=ji(b,a,n,h),n.elementType=t,n.type=o,n.lanes=p,n}function ca(t,n,a,o){return t=ji(7,t,o,n),t.lanes=a,t}function Af(t,n,a){return t=ji(6,t,null,n),t.lanes=a,t}function Cg(t){var n=ji(18,null,null,0);return n.stateNode=t,n}function Ef(t,n,a){return n=ji(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Tg=new WeakMap;function Yi(t,n){if(typeof t=="object"&&t!==null){var a=Tg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ze(n)},Tg.set(t,n),n)}return{value:t,source:n,stack:ze(n)}}var Ka=[],Za=0,ou=null,xo=0,Xi=[],qi=0,dl=null,ps=1,gs="";function zs(t,n){Ka[Za++]=xo,Ka[Za++]=ou,ou=t,xo=n}function Mg(t,n,a){Xi[qi++]=ps,Xi[qi++]=gs,Xi[qi++]=dl,dl=t;var o=ps;t=gs;var h=32-_e(o)-1;o&=~(1<<h),a+=1;var p=32-_e(n)+h;if(30<p){var b=h-h%5;p=(o&(1<<b)-1).toString(32),o>>=b,h-=b,ps=1<<32-_e(n)+h|a<<h|o,gs=p+t}else ps=1<<p|a<<h|o,gs=t}function zf(t){t.return!==null&&(zs(t,1),Mg(t,1,0))}function Df(t){for(;t===ou;)ou=Ka[--Za],Ka[Za]=null,xo=Ka[--Za],Ka[Za]=null;for(;t===dl;)dl=Xi[--qi],Xi[qi]=null,gs=Xi[--qi],Xi[qi]=null,ps=Xi[--qi],Xi[qi]=null}function Ag(t,n){Xi[qi++]=ps,Xi[qi++]=gs,Xi[qi++]=dl,ps=n.id,gs=n.overflow,dl=t}var Pn=null,qt=null,jt=!1,fl=null,Gi=!1,Pf=Error(l(519));function hl(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vo(Yi(n,t)),Pf}function Eg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Yt]=t,n[Qt]=o,a){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(a=0;a<Fo.length;a++)bt(Fo[a],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":bt("invalid",n),to(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":bt("invalid",n);break;case"textarea":bt("invalid",n),en(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Gx(n.textContent,a)?(o.popover!=null&&(bt("beforetoggle",n),bt("toggle",n)),o.onScroll!=null&&bt("scroll",n),o.onScrollEnd!=null&&bt("scrollend",n),o.onClick!=null&&(n.onclick=Ui),n=!0):n=!1,n||hl(t,!0)}function zg(t){for(Pn=t.return;Pn;)switch(Pn.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Pn=Pn.return}}function Ja(t){if(t!==Pn)return!1;if(!jt)return zg(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zh(t.type,t.memoizedProps)),a=!a),a&&qt&&hl(t),zg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));qt=iv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));qt=iv(t)}else n===27?(n=qt,Cl(t.type)?(t=i0,i0=null,qt=t):qt=n):qt=Pn?Qi(t.stateNode.nextSibling):null;return!0}function ua(){qt=Pn=null,jt=!1}function Rf(){var t=fl;return t!==null&&(fi===null?fi=t:fi.push.apply(fi,t),fl=null),t}function vo(t){fl===null?fl=[t]:fl.push(t)}var Lf=T(null),da=null,Ds=null;function ml(t,n,a){H(Lf,n._currentValue),n._currentValue=a}function Ps(t){t._currentValue=Lf.current,D(Lf)}function Of(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Vf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var b=h.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=h;for(var R=0;R<n.length;R++)if(C.context===n[R]){p.lanes|=a,C=p.alternate,C!==null&&(C.lanes|=a),Of(p.return,a,t),o||(b=null);break e}p=C.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(l(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),Of(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function er(t,n,a,o){t=null;for(var h=n,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var C=h.type;ti(h.pendingProps.value,b.value)||(t!==null?t.push(C):t=[C])}}else if(h===U.current){if(b=h.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Xo):t=[Xo])}h=h.return}t!==null&&Vf(n,t,a,o),n.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!ti(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fa(t){da=t,Ds=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rn(t){return Dg(da,t)}function uu(t,n){return da===null&&fa(t),Dg(t,n)}function Dg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ds===null){if(t===null)throw Error(l(308));Ds=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ds=Ds.next=n;return a}var lS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},aS=i.unstable_scheduleCallback,rS=i.unstable_NormalPriority,yn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new lS,data:new Map,refCount:0}}function bo(t){t.refCount--,t.refCount===0&&aS(rS,function(){t.controller.abort()})}var wo=null,If=0,tr=0,nr=null;function oS(t,n){if(wo===null){var a=wo=[];If=0,tr=$h(),nr={status:"pending",value:void 0,then:function(o){a.push(o)}}}return If++,n.then(Pg,Pg),n}function Pg(){if(--If===0&&wo!==null){nr!==null&&(nr.status="fulfilled");var t=wo;wo=null,tr=0,nr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function cS(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Rg=W.S;W.S=function(t,n){xx=De(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oS(t,n),Rg!==null&&Rg(t,n)};var ha=T(null);function Ff(){var t=ha.current;return t!==null?t:It.pooledCache}function du(t,n){n===null?H(ha,ha.current):H(ha,n.pool)}function Lg(){var t=Ff();return t===null?null:{parent:yn._currentValue,pool:t}}var ir=Error(l(460)),Uf=Error(l(474)),fu=Error(l(542)),hu={then:function(){}};function Og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ui,Ui),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ig(t),t;default:if(typeof n.status=="string")n.then(Ui,Ui);else{if(t=It,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ig(t),t}throw pa=n,ir}}function ma(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(pa=a,ir):a}}var pa=null;function Bg(){if(pa===null)throw Error(l(459));var t=pa;return pa=null,t}function Ig(t){if(t===ir||t===fu)throw Error(l(483))}var sr=null,_o=0;function mu(t){var n=_o;return _o+=1,sr===null&&(sr=[]),Vg(sr,t,n)}function So(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function pu(t,n){throw n.$$typeof===v?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Fg(t){function n(G,B){if(t){var ee=G.deletions;ee===null?(G.deletions=[B],G.flags|=16):ee.push(B)}}function a(G,B){if(!t)return null;for(;B!==null;)n(G,B),B=B.sibling;return null}function o(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function h(G,B){return G=Es(G,B),G.index=0,G.sibling=null,G}function p(G,B,ee){return G.index=ee,t?(ee=G.alternate,ee!==null?(ee=ee.index,ee<B?(G.flags|=67108866,B):ee):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function b(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function C(G,B,ee,ve){return B===null||B.tag!==6?(B=Af(ee,G.mode,ve),B.return=G,B):(B=h(B,ee),B.return=G,B)}function R(G,B,ee,ve){var Ke=ee.type;return Ke===w?ge(G,B,ee.props.children,ve,ee.key):B!==null&&(B.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===P&&ma(Ke)===B.type)?(B=h(B,ee.props),So(B,ee),B.return=G,B):(B=ru(ee.type,ee.key,ee.props,null,G.mode,ve),So(B,ee),B.return=G,B)}function te(G,B,ee,ve){return B===null||B.tag!==4||B.stateNode.containerInfo!==ee.containerInfo||B.stateNode.implementation!==ee.implementation?(B=Ef(ee,G.mode,ve),B.return=G,B):(B=h(B,ee.children||[]),B.return=G,B)}function ge(G,B,ee,ve,Ke){return B===null||B.tag!==7?(B=ca(ee,G.mode,ve,Ke),B.return=G,B):(B=h(B,ee),B.return=G,B)}function we(G,B,ee){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Af(""+B,G.mode,ee),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return ee=ru(B.type,B.key,B.props,null,G.mode,ee),So(ee,B),ee.return=G,ee;case S:return B=Ef(B,G.mode,ee),B.return=G,B;case P:return B=ma(B),we(G,B,ee)}if(Me(B)||se(B))return B=ca(B,G.mode,ee,null),B.return=G,B;if(typeof B.then=="function")return we(G,mu(B),ee);if(B.$$typeof===M)return we(G,uu(G,B),ee);pu(G,B)}return null}function ae(G,B,ee,ve){var Ke=B!==null?B.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ke!==null?null:C(G,B,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return ee.key===Ke?R(G,B,ee,ve):null;case S:return ee.key===Ke?te(G,B,ee,ve):null;case P:return ee=ma(ee),ae(G,B,ee,ve)}if(Me(ee)||se(ee))return Ke!==null?null:ge(G,B,ee,ve,null);if(typeof ee.then=="function")return ae(G,B,mu(ee),ve);if(ee.$$typeof===M)return ae(G,B,uu(G,ee),ve);pu(G,ee)}return null}function ue(G,B,ee,ve,Ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return G=G.get(ee)||null,C(B,G,""+ve,Ke);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return G=G.get(ve.key===null?ee:ve.key)||null,R(B,G,ve,Ke);case S:return G=G.get(ve.key===null?ee:ve.key)||null,te(B,G,ve,Ke);case P:return ve=ma(ve),ue(G,B,ee,ve,Ke)}if(Me(ve)||se(ve))return G=G.get(ee)||null,ge(B,G,ve,Ke,null);if(typeof ve.then=="function")return ue(G,B,ee,mu(ve),Ke);if(ve.$$typeof===M)return ue(G,B,ee,uu(B,ve),Ke);pu(B,ve)}return null}function Fe(G,B,ee,ve){for(var Ke=null,Tt=null,Ge=B,ft=B=0,_t=null;Ge!==null&&ft<ee.length;ft++){Ge.index>ft?(_t=Ge,Ge=null):_t=Ge.sibling;var Mt=ae(G,Ge,ee[ft],ve);if(Mt===null){Ge===null&&(Ge=_t);break}t&&Ge&&Mt.alternate===null&&n(G,Ge),B=p(Mt,B,ft),Tt===null?Ke=Mt:Tt.sibling=Mt,Tt=Mt,Ge=_t}if(ft===ee.length)return a(G,Ge),jt&&zs(G,ft),Ke;if(Ge===null){for(;ft<ee.length;ft++)Ge=we(G,ee[ft],ve),Ge!==null&&(B=p(Ge,B,ft),Tt===null?Ke=Ge:Tt.sibling=Ge,Tt=Ge);return jt&&zs(G,ft),Ke}for(Ge=o(Ge);ft<ee.length;ft++)_t=ue(Ge,G,ft,ee[ft],ve),_t!==null&&(t&&_t.alternate!==null&&Ge.delete(_t.key===null?ft:_t.key),B=p(_t,B,ft),Tt===null?Ke=_t:Tt.sibling=_t,Tt=_t);return t&&Ge.forEach(function(zl){return n(G,zl)}),jt&&zs(G,ft),Ke}function et(G,B,ee,ve){if(ee==null)throw Error(l(151));for(var Ke=null,Tt=null,Ge=B,ft=B=0,_t=null,Mt=ee.next();Ge!==null&&!Mt.done;ft++,Mt=ee.next()){Ge.index>ft?(_t=Ge,Ge=null):_t=Ge.sibling;var zl=ae(G,Ge,Mt.value,ve);if(zl===null){Ge===null&&(Ge=_t);break}t&&Ge&&zl.alternate===null&&n(G,Ge),B=p(zl,B,ft),Tt===null?Ke=zl:Tt.sibling=zl,Tt=zl,Ge=_t}if(Mt.done)return a(G,Ge),jt&&zs(G,ft),Ke;if(Ge===null){for(;!Mt.done;ft++,Mt=ee.next())Mt=we(G,Mt.value,ve),Mt!==null&&(B=p(Mt,B,ft),Tt===null?Ke=Mt:Tt.sibling=Mt,Tt=Mt);return jt&&zs(G,ft),Ke}for(Ge=o(Ge);!Mt.done;ft++,Mt=ee.next())Mt=ue(Ge,G,ft,Mt.value,ve),Mt!==null&&(t&&Mt.alternate!==null&&Ge.delete(Mt.key===null?ft:Mt.key),B=p(Mt,B,ft),Tt===null?Ke=Mt:Tt.sibling=Mt,Tt=Mt);return t&&Ge.forEach(function(bj){return n(G,bj)}),jt&&zs(G,ft),Ke}function Lt(G,B,ee,ve){if(typeof ee=="object"&&ee!==null&&ee.type===w&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:e:{for(var Ke=ee.key;B!==null;){if(B.key===Ke){if(Ke=ee.type,Ke===w){if(B.tag===7){a(G,B.sibling),ve=h(B,ee.props.children),ve.return=G,G=ve;break e}}else if(B.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===P&&ma(Ke)===B.type){a(G,B.sibling),ve=h(B,ee.props),So(ve,ee),ve.return=G,G=ve;break e}a(G,B);break}else n(G,B);B=B.sibling}ee.type===w?(ve=ca(ee.props.children,G.mode,ve,ee.key),ve.return=G,G=ve):(ve=ru(ee.type,ee.key,ee.props,null,G.mode,ve),So(ve,ee),ve.return=G,G=ve)}return b(G);case S:e:{for(Ke=ee.key;B!==null;){if(B.key===Ke)if(B.tag===4&&B.stateNode.containerInfo===ee.containerInfo&&B.stateNode.implementation===ee.implementation){a(G,B.sibling),ve=h(B,ee.children||[]),ve.return=G,G=ve;break e}else{a(G,B);break}else n(G,B);B=B.sibling}ve=Ef(ee,G.mode,ve),ve.return=G,G=ve}return b(G);case P:return ee=ma(ee),Lt(G,B,ee,ve)}if(Me(ee))return Fe(G,B,ee,ve);if(se(ee)){if(Ke=se(ee),typeof Ke!="function")throw Error(l(150));return ee=Ke.call(ee),et(G,B,ee,ve)}if(typeof ee.then=="function")return Lt(G,B,mu(ee),ve);if(ee.$$typeof===M)return Lt(G,B,uu(G,ee),ve);pu(G,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,B!==null&&B.tag===6?(a(G,B.sibling),ve=h(B,ee),ve.return=G,G=ve):(a(G,B),ve=Af(ee,G.mode,ve),ve.return=G,G=ve),b(G)):a(G,B)}return function(G,B,ee,ve){try{_o=0;var Ke=Lt(G,B,ee,ve);return sr=null,Ke}catch(Ge){if(Ge===ir||Ge===fu)throw Ge;var Tt=ji(29,Ge,null,G.mode);return Tt.lanes=ve,Tt.return=G,Tt}}}var ga=Fg(!0),Ug=Fg(!1),pl=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yl(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(At&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=au(t),kg(t,null,a),n}return lu(t,o,n,a),au(t)}function jo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,gn(t,a)}}function Yf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?h=p=n:p=p.next=n}else h=p=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Xf=!1;function ko(){if(Xf){var t=nr;if(t!==null)throw t}}function No(t,n,a,o){Xf=!1;var h=t.updateQueue;pl=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var R=C,te=R.next;R.next=null,b===null?p=te:b.next=te,b=R;var ge=t.alternate;ge!==null&&(ge=ge.updateQueue,C=ge.lastBaseUpdate,C!==b&&(C===null?ge.firstBaseUpdate=te:C.next=te,ge.lastBaseUpdate=R))}if(p!==null){var we=h.baseState;b=0,ge=te=R=null,C=p;do{var ae=C.lane&-536870913,ue=ae!==C.lane;if(ue?(wt&ae)===ae:(o&ae)===ae){ae!==0&&ae===tr&&(Xf=!0),ge!==null&&(ge=ge.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Fe=t,et=C;ae=n;var Lt=a;switch(et.tag){case 1:if(Fe=et.payload,typeof Fe=="function"){we=Fe.call(Lt,we,ae);break e}we=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=et.payload,ae=typeof Fe=="function"?Fe.call(Lt,we,ae):Fe,ae==null)break e;we=x({},we,ae);break e;case 2:pl=!0}}ae=C.callback,ae!==null&&(t.flags|=64,ue&&(t.flags|=8192),ue=h.callbacks,ue===null?h.callbacks=[ae]:ue.push(ae))}else ue={lane:ae,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ge===null?(te=ge=ue,R=we):ge=ge.next=ue,b|=ae;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;ue=C,C=ue.next,ue.next=null,h.lastBaseUpdate=ue,h.shared.pending=null}}while(!0);ge===null&&(R=we),h.baseState=R,h.firstBaseUpdate=te,h.lastBaseUpdate=ge,p===null&&(h.shared.lanes=0),_l|=b,t.lanes=b,t.memoizedState=we}}function $g(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function Hg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],n)}var lr=T(null),gu=T(0);function Yg(t,n){t=$s,H(gu,t),H(lr,n),$s=t|n.baseLanes}function qf(){H(gu,$s),H(lr,lr.current)}function Gf(){$s=gu.current,D(lr),D(gu)}var ki=T(null),Wi=null;function xl(t){var n=t.alternate;H(hn,hn.current&1),H(ki,t),Wi===null&&(n===null||lr.current!==null||n.memoizedState!==null)&&(Wi=t)}function Wf(t){H(hn,hn.current),H(ki,t),Wi===null&&(Wi=t)}function Xg(t){t.tag===22?(H(hn,hn.current),H(ki,t),Wi===null&&(Wi=t)):vl()}function vl(){H(hn,hn.current),H(ki,ki.current)}function Ni(t){D(ki),Wi===t&&(Wi=null),D(hn)}var hn=T(0);function yu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||t0(a)||n0(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Rs=0,dt=null,Pt=null,xn=null,xu=!1,ar=!1,ya=!1,vu=0,Co=0,rr=null,uS=0;function on(){throw Error(l(321))}function Qf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ti(t[a],n[a]))return!1;return!0}function Kf(t,n,a,o,h,p){return Rs=p,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=t===null||t.memoizedState===null?My:fh,ya=!1,p=a(o,h),ya=!1,ar&&(p=Gg(n,a,o,h)),qg(t),p}function qg(t){W.H=Ao;var n=Pt!==null&&Pt.next!==null;if(Rs=0,xn=Pt=dt=null,xu=!1,Co=0,rr=null,n)throw Error(l(300));t===null||vn||(t=t.dependencies,t!==null&&cu(t)&&(vn=!0))}function Gg(t,n,a,o){dt=t;var h=0;do{if(ar&&(rr=null),Co=0,ar=!1,25<=h)throw Error(l(301));if(h+=1,xn=Pt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=Ay,p=n(a,o)}while(ar);return p}function dS(){var t=W.H,n=t.useState()[0];return n=typeof n.then=="function"?To(n):n,t=t.useState()[0],(Pt!==null?Pt.memoizedState:null)!==t&&(dt.flags|=1024),n}function Zf(){var t=vu!==0;return vu=0,t}function Jf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function eh(t){if(xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xu=!1}Rs=0,xn=Pt=dt=null,ar=!1,Co=vu=0,rr=null}function si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?dt.memoizedState=xn=t:xn=xn.next=t,xn}function mn(){if(Pt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var n=xn===null?dt.memoizedState:xn.next;if(n!==null)xn=n,Pt=t;else{if(t===null)throw dt.alternate===null?Error(l(467)):Error(l(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},xn===null?dt.memoizedState=xn=t:xn=xn.next=t}return xn}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function To(t){var n=Co;return Co+=1,rr===null&&(rr=[]),t=Vg(rr,t,n),n=dt,(xn===null?n.memoizedState:xn.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?My:fh),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return To(t);if(t.$$typeof===M)return Rn(t)}throw Error(l(438,String(t)))}function th(t){var n=null,a=dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=bu(),dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=re;return n.index++,a}function Ls(t,n){return typeof n=="function"?n(t):n}function _u(t){var n=mn();return nh(n,Pt,t)}function nh(t,n,a){var o=t.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=a;var h=t.baseQueue,p=o.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}n.baseQueue=h=p,o.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{n=h.next;var C=b=null,R=null,te=n,ge=!1;do{var we=te.lane&-536870913;if(we!==te.lane?(wt&we)===we:(Rs&we)===we){var ae=te.revertLane;if(ae===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),we===tr&&(ge=!0);else if((Rs&ae)===ae){te=te.next,ae===tr&&(ge=!0);continue}else we={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},R===null?(C=R=we,b=p):R=R.next=we,dt.lanes|=ae,_l|=ae;we=te.action,ya&&a(p,we),p=te.hasEagerState?te.eagerState:a(p,we)}else ae={lane:we,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},R===null?(C=R=ae,b=p):R=R.next=ae,dt.lanes|=we,_l|=we;te=te.next}while(te!==null&&te!==n);if(R===null?b=p:R.next=C,!ti(p,t.memoizedState)&&(vn=!0,ge&&(a=nr,a!==null)))throw a;t.memoizedState=p,t.baseState=b,t.baseQueue=R,o.lastRenderedState=p}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ih(t){var n=mn(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,p=n.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do p=t(p,b.action),b=b.next;while(b!==h);ti(p,n.memoizedState)||(vn=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,o]}function Wg(t,n,a){var o=dt,h=mn(),p=jt;if(p){if(a===void 0)throw Error(l(407));a=a()}else a=n();var b=!ti((Pt||h).memoizedState,a);if(b&&(h.memoizedState=a,vn=!0),h=h.queue,ah(Zg.bind(null,o,h,t),[t]),h.getSnapshot!==n||b||xn!==null&&xn.memoizedState.tag&1){if(o.flags|=2048,or(9,{destroy:void 0},Kg.bind(null,o,h,a,n),null),It===null)throw Error(l(349));p||(Rs&127)!==0||Qg(o,n,a)}return a}function Qg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=dt.updateQueue,n===null?(n=bu(),dt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Kg(t,n,a,o){n.value=a,n.getSnapshot=o,Jg(n)&&ey(t)}function Zg(t,n,a){return a(function(){Jg(n)&&ey(t)})}function Jg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ti(t,a)}catch{return!0}}function ey(t){var n=oa(t,2);n!==null&&hi(n,t,2)}function sh(t){var n=si();if(typeof t=="function"){var a=t;if(t=a(),ya){Xt(!0);try{a()}finally{Xt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},n}function ty(t,n,a,o){return t.baseState=a,nh(t,Pt,typeof o=="function"?o:Ls)}function fS(t,n,a,o,h){if(ku(t))throw Error(l(485));if(t=n.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};W.T!==null?a(!0):p.isTransition=!1,o(p),a=n.pending,a===null?(p.next=n.pending=p,ny(n,p)):(p.next=a.next,n.pending=a.next=p)}}function ny(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var p=W.T,b={};W.T=b;try{var C=a(h,o),R=W.S;R!==null&&R(b,C),iy(t,n,C)}catch(te){lh(t,n,te)}finally{p!==null&&b.types!==null&&(p.types=b.types),W.T=p}}else try{p=a(h,o),iy(t,n,p)}catch(te){lh(t,n,te)}}function iy(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){sy(t,n,o)},function(o){return lh(t,n,o)}):sy(t,n,a)}function sy(t,n,a){n.status="fulfilled",n.value=a,ly(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ny(t,a)))}function lh(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,ly(n),n=n.next;while(n!==o)}t.action=null}function ly(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ay(t,n){return n}function ry(t,n){if(jt){var a=It.formState;if(a!==null){e:{var o=dt;if(jt){if(qt){t:{for(var h=qt,p=Gi;h.nodeType!==8;){if(!p){h=null;break t}if(h=Qi(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){qt=Qi(h.nextSibling),o=h.data==="F!";break e}}hl(o)}o=!1}o&&(n=a[0])}}return a=si(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:n},a.queue=o,a=Ny.bind(null,dt,o),o.dispatch=a,o=sh(!1),p=dh.bind(null,dt,!1,o.queue),o=si(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=fS.bind(null,dt,h,p,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function oy(t){var n=mn();return cy(n,Pt,t)}function cy(t,n,a){if(n=nh(t,n,ay)[0],t=_u(Ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=To(n)}catch(b){throw b===ir?fu:b}else o=n;n=mn();var h=n.queue,p=h.dispatch;return a!==n.memoizedState&&(dt.flags|=2048,or(9,{destroy:void 0},hS.bind(null,h,a),null)),[o,p,t]}function hS(t,n){t.action=n}function uy(t){var n=mn(),a=Pt;if(a!==null)return cy(n,a,t);mn(),n=n.memoizedState,a=mn();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function or(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=dt.updateQueue,n===null&&(n=bu(),dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function dy(){return mn().memoizedState}function Su(t,n,a,o){var h=si();dt.flags|=t,h.memoizedState=or(1|n,{destroy:void 0},a,o===void 0?null:o)}function ju(t,n,a,o){var h=mn();o=o===void 0?null:o;var p=h.memoizedState.inst;Pt!==null&&o!==null&&Qf(o,Pt.memoizedState.deps)?h.memoizedState=or(n,p,a,o):(dt.flags|=t,h.memoizedState=or(1|n,p,a,o))}function fy(t,n){Su(8390656,8,t,n)}function ah(t,n){ju(2048,8,t,n)}function mS(t){dt.flags|=4;var n=dt.updateQueue;if(n===null)n=bu(),dt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function hy(t){var n=mn().memoizedState;return mS({ref:n,nextImpl:t}),function(){if((At&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function my(t,n){return ju(4,2,t,n)}function py(t,n){return ju(4,4,t,n)}function gy(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function yy(t,n,a){a=a!=null?a.concat([t]):null,ju(4,4,gy.bind(null,n,t),a)}function rh(){}function xy(t,n){var a=mn();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Qf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function vy(t,n){var a=mn();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Qf(n,o[1]))return o[0];if(o=t(),ya){Xt(!0);try{t()}finally{Xt(!1)}}return a.memoizedState=[o,n],o}function oh(t,n,a){return a===void 0||(Rs&1073741824)!==0&&(wt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=bx(),dt.lanes|=t,_l|=t,a)}function by(t,n,a,o){return ti(a,n)?a:lr.current!==null?(t=oh(t,a,o),ti(t,n)||(vn=!0),t):(Rs&42)===0||(Rs&1073741824)!==0&&(wt&261930)===0?(vn=!0,t.memoizedState=a):(t=bx(),dt.lanes|=t,_l|=t,n)}function wy(t,n,a,o,h){var p=le.p;le.p=p!==0&&8>p?p:8;var b=W.T,C={};W.T=C,dh(t,!1,n,a);try{var R=h(),te=W.S;if(te!==null&&te(C,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ge=cS(R,o);Mo(t,n,ge,Mi(t))}else Mo(t,n,o,Mi(t))}catch(we){Mo(t,n,{then:function(){},status:"rejected",reason:we},Mi())}finally{le.p=p,b!==null&&C.types!==null&&(b.types=C.types),W.T=b}}function pS(){}function ch(t,n,a,o){if(t.tag!==5)throw Error(l(476));var h=_y(t).queue;wy(t,h,n,X,a===null?pS:function(){return Sy(t),a(o)})}function _y(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:X},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Sy(t){var n=_y(t);n.next===null&&(n=t.alternate.memoizedState),Mo(t,n.next.queue,{},Mi())}function uh(){return Rn(Xo)}function jy(){return mn().memoizedState}function ky(){return mn().memoizedState}function gS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Mi();t=gl(a);var o=yl(n,t,a);o!==null&&(hi(o,n,a),jo(o,n,a)),n={cache:Bf()},t.payload=n;return}n=n.return}}function yS(t,n,a){var o=Mi();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ku(t)?Cy(n,a):(a=Tf(t,n,a,o),a!==null&&(hi(a,t,o),Ty(a,n,o)))}function Ny(t,n,a){var o=Mi();Mo(t,n,a,o)}function Mo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(t))Cy(n,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,C=p(b,a);if(h.hasEagerState=!0,h.eagerState=C,ti(C,b))return lu(t,n,h,0),It===null&&su(),!1}catch{}if(a=Tf(t,n,h,o),a!==null)return hi(a,t,o),Ty(a,n,o),!0}return!1}function dh(t,n,a,o){if(o={lane:2,revertLane:$h(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ku(t)){if(n)throw Error(l(479))}else n=Tf(t,a,o,2),n!==null&&hi(n,t,2)}function ku(t){var n=t.alternate;return t===dt||n!==null&&n===dt}function Cy(t,n){ar=xu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ty(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,gn(t,a)}}var Ao={readContext:Rn,use:wu,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Ao.useEffectEvent=on;var My={readContext:Rn,use:wu,useCallback:function(t,n){return si().memoizedState=[t,n===void 0?null:n],t},useContext:Rn,useEffect:fy,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Su(4194308,4,gy.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Su(4194308,4,t,n)},useInsertionEffect:function(t,n){Su(4,2,t,n)},useMemo:function(t,n){var a=si();n=n===void 0?null:n;var o=t();if(ya){Xt(!0);try{t()}finally{Xt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=si();if(a!==void 0){var h=a(n);if(ya){Xt(!0);try{a(n)}finally{Xt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=yS.bind(null,dt,t),[o.memoizedState,t]},useRef:function(t){var n=si();return t={current:t},n.memoizedState=t},useState:function(t){t=sh(t);var n=t.queue,a=Ny.bind(null,dt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:rh,useDeferredValue:function(t,n){var a=si();return oh(a,t,n)},useTransition:function(){var t=sh(!1);return t=wy.bind(null,dt,t.queue,!0,!1),si().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=dt,h=si();if(jt){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),It===null)throw Error(l(349));(wt&127)!==0||Qg(o,n,a)}h.memoizedState=a;var p={value:a,getSnapshot:n};return h.queue=p,fy(Zg.bind(null,o,p,t),[t]),o.flags|=2048,or(9,{destroy:void 0},Kg.bind(null,o,p,a,n),null),a},useId:function(){var t=si(),n=It.identifierPrefix;if(jt){var a=gs,o=ps;a=(o&~(1<<32-_e(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=vu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=uS++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:uh,useFormState:ry,useActionState:ry,useOptimistic:function(t){var n=si();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=dh.bind(null,dt,!0,a),a.dispatch=n,[t,n]},useMemoCache:th,useCacheRefresh:function(){return si().memoizedState=gS.bind(null,dt)},useEffectEvent:function(t){var n=si(),a={impl:t};return n.memoizedState=a,function(){if((At&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},fh={readContext:Rn,use:wu,useCallback:xy,useContext:Rn,useEffect:ah,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:vy,useReducer:_u,useRef:dy,useState:function(){return _u(Ls)},useDebugValue:rh,useDeferredValue:function(t,n){var a=mn();return by(a,Pt.memoizedState,t,n)},useTransition:function(){var t=_u(Ls)[0],n=mn().memoizedState;return[typeof t=="boolean"?t:To(t),n]},useSyncExternalStore:Wg,useId:jy,useHostTransitionStatus:uh,useFormState:oy,useActionState:oy,useOptimistic:function(t,n){var a=mn();return ty(a,Pt,t,n)},useMemoCache:th,useCacheRefresh:ky};fh.useEffectEvent=hy;var Ay={readContext:Rn,use:wu,useCallback:xy,useContext:Rn,useEffect:ah,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:vy,useReducer:ih,useRef:dy,useState:function(){return ih(Ls)},useDebugValue:rh,useDeferredValue:function(t,n){var a=mn();return Pt===null?oh(a,t,n):by(a,Pt.memoizedState,t,n)},useTransition:function(){var t=ih(Ls)[0],n=mn().memoizedState;return[typeof t=="boolean"?t:To(t),n]},useSyncExternalStore:Wg,useId:jy,useHostTransitionStatus:uh,useFormState:uy,useActionState:uy,useOptimistic:function(t,n){var a=mn();return Pt!==null?ty(a,Pt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:th,useCacheRefresh:ky};Ay.useEffectEvent=hy;function hh(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var mh={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Mi(),h=gl(o);h.payload=n,a!=null&&(h.callback=a),n=yl(t,h,o),n!==null&&(hi(n,t,o),jo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Mi(),h=gl(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=yl(t,h,o),n!==null&&(hi(n,t,o),jo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Mi(),o=gl(a);o.tag=2,n!=null&&(o.callback=n),n=yl(t,o,a),n!==null&&(hi(n,t,a),jo(n,t,a))}};function Ey(t,n,a,o,h,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,p,b):n.prototype&&n.prototype.isPureReactComponent?!zn(a,o)||!zn(h,p):!0}function zy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&mh.enqueueReplaceState(n,n.state,null)}function xa(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Dy(t){iu(t)}function Py(t){console.error(t)}function Ry(t){iu(t)}function Nu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ly(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ph(t,n,a){return a=gl(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(t,n)},a}function Oy(t){return t=gl(t),t.tag=3,t}function Vy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;t.payload=function(){return h(p)},t.callback=function(){Ly(n,a,o)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ly(n,a,o),typeof h!="function"&&(Sl===null?Sl=new Set([this]):Sl.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})})}function xS(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&er(n,a,h,!0),a=ki.current,a!==null){switch(a.tag){case 31:case 13:return Wi===null?Vu():a.alternate===null&&cn===0&&(cn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===hu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ih(t,o,h)),!1;case 22:return a.flags|=65536,o===hu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ih(t,o,h)),!1}throw Error(l(435,a.tag))}return Ih(t,o,h),Vu(),!1}if(jt)return n=ki.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Pf&&(t=Error(l(422),{cause:o}),vo(Yi(t,a)))):(o!==Pf&&(n=Error(l(423),{cause:o}),vo(Yi(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Yi(o,a),h=ph(t.stateNode,o,h),Yf(t,h),cn!==4&&(cn=2)),!1;var p=Error(l(520),{cause:o});if(p=Yi(p,a),Vo===null?Vo=[p]:Vo.push(p),cn!==4&&(cn=2),n===null)return!0;o=Yi(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ph(a.stateNode,o,t),Yf(a,t),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Sl===null||!Sl.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Oy(h),Vy(h,t,a,o),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var gh=Error(l(461)),vn=!1;function Ln(t,n,a,o){n.child=t===null?Ug(n,null,a,o):ga(n,t.child,a,o)}function By(t,n,a,o,h){a=a.render;var p=n.ref;if("ref"in o){var b={};for(var C in o)C!=="ref"&&(b[C]=o[C])}else b=o;return fa(n),o=Kf(t,n,a,b,p,h),C=Zf(),t!==null&&!vn?(Jf(t,n,h),Os(t,n,h)):(jt&&C&&zf(n),n.flags|=1,Ln(t,n,o,h),n.child)}function Iy(t,n,a,o,h){if(t===null){var p=a.type;return typeof p=="function"&&!Mf(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,Fy(t,n,p,o,h)):(t=ru(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!jh(t,h)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:zn,a(b,o)&&t.ref===n.ref)return Os(t,n,h)}return n.flags|=1,t=Es(p,o),t.ref=n.ref,t.return=n,n.child=t}function Fy(t,n,a,o,h){if(t!==null){var p=t.memoizedProps;if(zn(p,o)&&t.ref===n.ref)if(vn=!1,n.pendingProps=o=p,jh(t,h))(t.flags&131072)!==0&&(vn=!0);else return n.lanes=t.lanes,Os(t,n,h)}return yh(t,n,a,o,h)}function Uy(t,n,a,o){var h=o.children,p=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~p}else o=0,n.child=null;return $y(t,n,p,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(n,p!==null?p.cachePool:null),p!==null?Yg(n,p):qf(),Xg(n);else return o=n.lanes=536870912,$y(t,n,p!==null?p.baseLanes|a:a,a,o)}else p!==null?(du(n,p.cachePool),Yg(n,p),vl(),n.memoizedState=null):(t!==null&&du(n,null),qf(),vl());return Ln(t,n,h,a),n.child}function Eo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $y(t,n,a,o,h){var p=Ff();return p=p===null?null:{parent:yn._currentValue,pool:p},n.memoizedState={baseLanes:a,cachePool:p},t!==null&&du(n,null),qf(),Xg(n),t!==null&&er(t,n,o,!0),n.childLanes=h,null}function Cu(t,n){return n=Mu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Hy(t,n,a){return ga(n,t.child,null,a),t=Cu(n,n.pendingProps),t.flags|=2,Ni(n),n.memoizedState=null,t}function vS(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(jt){if(o.mode==="hidden")return t=Cu(n,o),n.lanes=536870912,Eo(null,t);if(Wf(n),(t=qt)?(t=nv(t,Gi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:dl!==null?{id:ps,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},a=Cg(t),a.return=n,n.child=a,Pn=n,qt=null)):t=null,t===null)throw hl(n);return n.lanes=536870912,null}return Cu(n,o)}var p=t.memoizedState;if(p!==null){var b=p.dehydrated;if(Wf(n),h)if(n.flags&256)n.flags&=-257,n=Hy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(vn||er(t,n,a,!1),h=(a&t.childLanes)!==0,vn||h){if(o=It,o!==null&&(b=Jt(o,a),b!==0&&b!==p.retryLane))throw p.retryLane=b,oa(t,b),hi(o,t,b),gh;Vu(),n=Hy(t,n,a)}else t=p.treeContext,qt=Qi(b.nextSibling),Pn=n,jt=!0,fl=null,Gi=!1,t!==null&&Ag(n,t),n=Cu(n,o),n.flags|=4096;return n}return t=Es(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Tu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function yh(t,n,a,o,h){return fa(n),a=Kf(t,n,a,o,void 0,h),o=Zf(),t!==null&&!vn?(Jf(t,n,h),Os(t,n,h)):(jt&&o&&zf(n),n.flags|=1,Ln(t,n,a,h),n.child)}function Yy(t,n,a,o,h,p){return fa(n),n.updateQueue=null,a=Gg(n,o,a,h),qg(t),o=Zf(),t!==null&&!vn?(Jf(t,n,p),Os(t,n,p)):(jt&&o&&zf(n),n.flags|=1,Ln(t,n,a,p),n.child)}function Xy(t,n,a,o,h){if(fa(n),n.stateNode===null){var p=Qa,b=a.contextType;typeof b=="object"&&b!==null&&(p=Rn(b)),p=new a(o,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=mh,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=o,p.state=n.memoizedState,p.refs={},$f(n),b=a.contextType,p.context=typeof b=="object"&&b!==null?Rn(b):Qa,p.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(hh(n,a,b,o),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&mh.enqueueReplaceState(p,p.state,null),No(n,o,p,h),ko(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){p=n.stateNode;var C=n.memoizedProps,R=xa(a,C);p.props=R;var te=p.context,ge=a.contextType;b=Qa,typeof ge=="object"&&ge!==null&&(b=Rn(ge));var we=a.getDerivedStateFromProps;ge=typeof we=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,ge||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||te!==b)&&zy(n,p,o,b),pl=!1;var ae=n.memoizedState;p.state=ae,No(n,o,p,h),ko(),te=n.memoizedState,C||ae!==te||pl?(typeof we=="function"&&(hh(n,a,we,o),te=n.memoizedState),(R=pl||Ey(n,a,R,o,ae,te,b))?(ge||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=te),p.props=o,p.state=te,p.context=b,o=R):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,Hf(t,n),b=n.memoizedProps,ge=xa(a,b),p.props=ge,we=n.pendingProps,ae=p.context,te=a.contextType,R=Qa,typeof te=="object"&&te!==null&&(R=Rn(te)),C=a.getDerivedStateFromProps,(te=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==we||ae!==R)&&zy(n,p,o,R),pl=!1,ae=n.memoizedState,p.state=ae,No(n,o,p,h),ko();var ue=n.memoizedState;b!==we||ae!==ue||pl||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof C=="function"&&(hh(n,a,C,o),ue=n.memoizedState),(ge=pl||Ey(n,a,ge,o,ae,ue,R)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(te||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,ue,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,ue,R)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&ae===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&ae===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ue),p.props=o,p.state=ue,p.context=R,o=ge):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&ae===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&ae===t.memoizedState||(n.flags|=1024),o=!1)}return p=o,Tu(t,n),o=(n.flags&128)!==0,p||o?(p=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&o?(n.child=ga(n,t.child,null,h),n.child=ga(n,null,a,h)):Ln(t,n,a,h),n.memoizedState=p.state,t=n.child):t=Os(t,n,h),t}function qy(t,n,a,o){return ua(),n.flags|=256,Ln(t,n,a,o),n.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vh(t){return{baseLanes:t,cachePool:Lg()}}function bh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ti),t}function Gy(t,n,a){var o=n.pendingProps,h=!1,p=(n.flags&128)!==0,b;if((b=p)||(b=t!==null&&t.memoizedState===null?!1:(hn.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(h?xl(n):vl(),(t=qt)?(t=nv(t,Gi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:dl!==null?{id:ps,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},a=Cg(t),a.return=n,n.child=a,Pn=n,qt=null)):t=null,t===null)throw hl(n);return n0(t)?n.lanes=32:n.lanes=536870912,null}var C=o.children;return o=o.fallback,h?(vl(),h=n.mode,C=Mu({mode:"hidden",children:C},h),o=ca(o,h,a,null),C.return=n,o.return=n,C.sibling=o,n.child=C,o=n.child,o.memoizedState=vh(a),o.childLanes=bh(t,b,a),n.memoizedState=xh,Eo(null,o)):(xl(n),wh(n,C))}var R=t.memoizedState;if(R!==null&&(C=R.dehydrated,C!==null)){if(p)n.flags&256?(xl(n),n.flags&=-257,n=_h(t,n,a)):n.memoizedState!==null?(vl(),n.child=t.child,n.flags|=128,n=null):(vl(),C=o.fallback,h=n.mode,o=Mu({mode:"visible",children:o.children},h),C=ca(C,h,a,null),C.flags|=2,o.return=n,C.return=n,o.sibling=C,n.child=o,ga(n,t.child,null,a),o=n.child,o.memoizedState=vh(a),o.childLanes=bh(t,b,a),n.memoizedState=xh,n=Eo(null,o));else if(xl(n),n0(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var te=b.dgst;b=te,o=Error(l(419)),o.stack="",o.digest=b,vo({value:o,source:null,stack:null}),n=_h(t,n,a)}else if(vn||er(t,n,a,!1),b=(a&t.childLanes)!==0,vn||b){if(b=It,b!==null&&(o=Jt(b,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,oa(t,o),hi(b,t,o),gh;t0(C)||Vu(),n=_h(t,n,a)}else t0(C)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,qt=Qi(C.nextSibling),Pn=n,jt=!0,fl=null,Gi=!1,t!==null&&Ag(n,t),n=wh(n,o.children),n.flags|=4096);return n}return h?(vl(),C=o.fallback,h=n.mode,R=t.child,te=R.sibling,o=Es(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,te!==null?C=Es(te,C):(C=ca(C,h,a,null),C.flags|=2),C.return=n,o.return=n,o.sibling=C,n.child=o,Eo(null,o),o=n.child,C=t.child.memoizedState,C===null?C=vh(a):(h=C.cachePool,h!==null?(R=yn._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Lg(),C={baseLanes:C.baseLanes|a,cachePool:h}),o.memoizedState=C,o.childLanes=bh(t,b,a),n.memoizedState=xh,Eo(t.child,o)):(xl(n),a=t.child,t=a.sibling,a=Es(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=a,n.memoizedState=null,a)}function wh(t,n){return n=Mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Mu(t,n){return t=ji(22,t,null,n),t.lanes=0,t}function _h(t,n,a){return ga(n,t.child,null,a),t=wh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Of(t.return,n,a)}function Sh(t,n,a,o,h,p){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:p}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=a,b.tailMode=h,b.treeForkCount=p)}function Qy(t,n,a){var o=n.pendingProps,h=o.revealOrder,p=o.tail;o=o.children;var b=hn.current,C=(b&2)!==0;if(C?(b=b&1|2,n.flags|=128):b&=1,H(hn,b),Ln(t,n,o,a),o=jt?xo:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,n);else if(t.tag===19)Wy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Sh(n,!1,h,a,p,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sh(n,!0,a,null,p,o);break;case"together":Sh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Os(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),_l|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(er(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,a=Es(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Es(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function bS(t,n,a){switch(n.tag){case 3:ne(n,n.stateNode.containerInfo),ml(n,yn,t.memoizedState.cache),ua();break;case 27:case 5:he(n);break;case 4:ne(n,n.stateNode.containerInfo);break;case 10:ml(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(xl(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Gy(t,n,a):(xl(n),t=Os(t,n,a),t!==null?t.sibling:null);xl(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(er(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Qy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),H(hn,hn.current),o)break;return null;case 22:return n.lanes=0,Uy(t,n,a,n.pendingProps);case 24:ml(n,yn,t.memoizedState.cache)}return Os(t,n,a)}function Ky(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)vn=!0;else{if(!jh(t,a)&&(n.flags&128)===0)return vn=!1,bS(t,n,a);vn=(t.flags&131072)!==0}else vn=!1,jt&&(n.flags&1048576)!==0&&Mg(n,xo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=ma(n.elementType),n.type=t,typeof t=="function")Mf(t)?(o=xa(t,o),n.tag=1,n=Xy(null,n,t,o,a)):(n.tag=0,n=yh(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===A){n.tag=11,n=By(null,n,t,o,a);break e}else if(h===F){n.tag=14,n=Iy(null,n,t,o,a);break e}}throw n=Ee(t)||t,Error(l(306,n,""))}}return n;case 0:return yh(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=xa(o,n.pendingProps),Xy(t,n,o,h,a);case 3:e:{if(ne(n,n.stateNode.containerInfo),t===null)throw Error(l(387));o=n.pendingProps;var p=n.memoizedState;h=p.element,Hf(t,n),No(n,o,null,a);var b=n.memoizedState;if(o=b.cache,ml(n,yn,o),o!==p.cache&&Vf(n,[yn],a,!0),ko(),o=b.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=qy(t,n,o,a);break e}else if(o!==h){h=Yi(Error(l(424)),n),vo(h),n=qy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,qt=Qi(t.firstChild),Pn=n,jt=!0,fl=null,Gi=!0,a=Ug(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ua(),o===h){n=Os(t,n,a);break e}Ln(t,n,o,a)}n=n.child}return n;case 26:return Tu(t,n),t===null?(a=ov(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,o=Yu(je.current).createElement(a),o[Yt]=n,o[Qt]=t,On(o,a,t),Bt(o),n.stateNode=o):n.memoizedState=ov(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return he(n),t===null&&jt&&(o=n.stateNode=lv(n.type,n.pendingProps,je.current),Pn=n,Gi=!0,h=qt,Cl(n.type)?(i0=h,qt=Qi(o.firstChild)):qt=h),Ln(t,n,n.pendingProps.children,a),Tu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((h=o=qt)&&(o=QS(o,n.type,n.pendingProps,Gi),o!==null?(n.stateNode=o,Pn=n,qt=Qi(o.firstChild),Gi=!1,h=!0):h=!1),h||hl(n)),he(n),h=n.type,p=n.pendingProps,b=t!==null?t.memoizedProps:null,o=p.children,Zh(h,p)?o=null:b!==null&&Zh(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=Kf(t,n,dS,null,null,a),Xo._currentValue=h),Tu(t,n),Ln(t,n,o,a),n.child;case 6:return t===null&&jt&&((t=a=qt)&&(a=KS(a,n.pendingProps,Gi),a!==null?(n.stateNode=a,Pn=n,qt=null,t=!0):t=!1),t||hl(n)),null;case 13:return Gy(t,n,a);case 4:return ne(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ga(n,null,o,a):Ln(t,n,o,a),n.child;case 11:return By(t,n,n.type,n.pendingProps,a);case 7:return Ln(t,n,n.pendingProps,a),n.child;case 8:return Ln(t,n,n.pendingProps.children,a),n.child;case 12:return Ln(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ml(n,n.type,o.value),Ln(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,fa(n),h=Rn(h),o=o(h),n.flags|=1,Ln(t,n,o,a),n.child;case 14:return Iy(t,n,n.type,n.pendingProps,a);case 15:return Fy(t,n,n.type,n.pendingProps,a);case 19:return Qy(t,n,a);case 31:return vS(t,n,a);case 22:return Uy(t,n,a,n.pendingProps);case 24:return fa(n),o=Rn(yn),t===null?(h=Ff(),h===null&&(h=It,p=Bf(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),n.memoizedState={parent:o,cache:h},$f(n),ml(n,yn,h)):((t.lanes&a)!==0&&(Hf(t,n),No(n,null,null,a),ko()),h=t.memoizedState,p=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ml(n,yn,o)):(o=p.cache,ml(n,yn,o),o!==h.cache&&Vf(n,[yn],a,!0))),Ln(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Vs(t){t.flags|=4}function kh(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(jx())t.flags|=8192;else throw pa=hu,Uf}else t.flags&=-16777217}function Zy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hv(n))if(jx())t.flags|=8192;else throw pa=hu,Uf}function Au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bi():536870912,t.lanes|=n,fr|=n)}function zo(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function wS(t,n,a){var o=n.pendingProps;switch(Df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(n),null;case 1:return Gt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ps(yn),Z(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(n)?Vs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rf())),Gt(n),null;case 26:var h=n.type,p=n.memoizedState;return t===null?(Vs(n),p!==null?(Gt(n),Zy(n,p)):(Gt(n),kh(n,h,null,o,a))):p?p!==t.memoizedState?(Vs(n),Gt(n),Zy(n,p)):(Gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Vs(n),Gt(n),kh(n,h,t,o,a)),null;case 27:if(xe(n),a=je.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Vs(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Gt(n),null}t=Q.current,Ja(n)?Eg(n):(t=lv(h,o,a),n.stateNode=t,Vs(n))}return Gt(n),null;case 5:if(xe(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Vs(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Gt(n),null}if(p=Q.current,Ja(n))Eg(n);else{var b=Yu(je.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?p.multiple=!0:o.size&&(p.size=o.size);break;default:p=typeof o.is=="string"?b.createElement(h,{is:o.is}):b.createElement(h)}}p[Yt]=n,p[Qt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=p;e:switch(On(p,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Vs(n)}}return Gt(n),kh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Vs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(t=je.current,Ja(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Pn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Yt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Gx(t.nodeValue,a)),t||hl(n,!0)}else t=Yu(t).createTextNode(o),t[Yt]=n,n.stateNode=t}return Gt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ja(n),a!==null){if(t===null){if(!o)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Yt]=n}else ua(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gt(n),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Ni(n),n):(Ni(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ja(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(l(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[Yt]=n}else ua(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Gt(n),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ni(n),n):(Ni(n),null)}return Ni(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Au(n,n.updateQueue),Gt(n),null);case 4:return Z(),t===null&&qh(n.stateNode.containerInfo),Gt(n),null;case 10:return Ps(n.type),Gt(n),null;case 19:if(D(hn),o=n.memoizedState,o===null)return Gt(n),null;if(h=(n.flags&128)!==0,p=o.rendering,p===null)if(h)zo(o,!1);else{if(cn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=yu(t),p!==null){for(n.flags|=128,zo(o,!1),t=p.updateQueue,n.updateQueue=t,Au(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Ng(a,t),a=a.sibling;return H(hn,hn.current&1|2),jt&&zs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&De()>Ru&&(n.flags|=128,h=!0,zo(o,!1),n.lanes=4194304)}else{if(!h)if(t=yu(p),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Au(n,t),zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!jt)return Gt(n),null}else 2*De()-o.renderingStartTime>Ru&&a!==536870912&&(n.flags|=128,h=!0,zo(o,!1),n.lanes=4194304);o.isBackwards?(p.sibling=n.child,n.child=p):(t=o.last,t!==null?t.sibling=p:n.child=p,o.last=p)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=De(),t.sibling=null,a=hn.current,H(hn,h?a&1|2:a&1),jt&&zs(n,o.treeForkCount),t):(Gt(n),null);case 22:case 23:return Ni(n),Gf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Gt(n),n.subtreeFlags&6&&(n.flags|=8192)):Gt(n),a=n.updateQueue,a!==null&&Au(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&D(ha),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ps(yn),Gt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function _S(t,n){switch(Df(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ps(yn),Z(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return xe(n),null;case 31:if(n.memoizedState!==null){if(Ni(n),n.alternate===null)throw Error(l(340));ua()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ni(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));ua()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return D(hn),null;case 4:return Z(),null;case 10:return Ps(n.type),null;case 22:case 23:return Ni(n),Gf(),t!==null&&D(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ps(yn),null;case 25:return null;default:return null}}function Jy(t,n){switch(Df(n),n.tag){case 3:Ps(yn),Z();break;case 26:case 27:case 5:xe(n);break;case 4:Z();break;case 31:n.memoizedState!==null&&Ni(n);break;case 13:Ni(n);break;case 19:D(hn);break;case 10:Ps(n.type);break;case 22:case 23:Ni(n),Gf(),t!==null&&D(ha);break;case 24:Ps(yn)}}function Do(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var p=a.create,b=a.inst;o=p(),b.destroy=o}a=a.next}while(a!==h)}}catch(C){Dt(n,n.return,C)}}function bl(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var p=h.next;o=p;do{if((o.tag&t)===t){var b=o.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,h=n;var R=a,te=C;try{te()}catch(ge){Dt(h,R,ge)}}}o=o.next}while(o!==p)}}catch(ge){Dt(n,n.return,ge)}}function ex(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Hg(n,a)}catch(o){Dt(t,t.return,o)}}}function tx(t,n,a){a.props=xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Dt(t,n,o)}}function Po(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Dt(t,n,h)}}function ys(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Dt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Dt(t,n,h)}else a.current=null}function nx(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Dt(t,t.return,h)}}function Nh(t,n,a){try{var o=t.stateNode;HS(o,t.type,a,n),o[Qt]=n}catch(h){Dt(t,t.return,h)}}function ix(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cl(t.type)||t.tag===4}function Ch(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ix(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Th(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ui));else if(o!==4&&(o===27&&Cl(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Th(t,n,a),t=t.sibling;t!==null;)Th(t,n,a),t=t.sibling}function Eu(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Cl(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Eu(t,n,a),t=t.sibling;t!==null;)Eu(t,n,a),t=t.sibling}function sx(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);On(n,o,a),n[Yt]=t,n[Qt]=a}catch(p){Dt(t,t.return,p)}}var Bs=!1,bn=!1,Mh=!1,lx=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function SS(t,n){if(t=t.containerInfo,Qh=Zu,t=ol(t),po(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,C=-1,R=-1,te=0,ge=0,we=t,ae=null;t:for(;;){for(var ue;we!==a||h!==0&&we.nodeType!==3||(C=b+h),we!==p||o!==0&&we.nodeType!==3||(R=b+o),we.nodeType===3&&(b+=we.nodeValue.length),(ue=we.firstChild)!==null;)ae=we,we=ue;for(;;){if(we===t)break t;if(ae===a&&++te===h&&(C=b),ae===p&&++ge===o&&(R=b),(ue=we.nextSibling)!==null)break;we=ae,ae=we.parentNode}we=ue}a=C===-1||R===-1?null:{start:C,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kh={focusedElem:t,selectionRange:a},Zu=!1,Tn=n;Tn!==null;)if(n=Tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Tn=t;else for(;Tn!==null;){switch(n=Tn,p=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=n,h=p.memoizedProps,p=p.memoizedState,o=a.stateNode;try{var Fe=xa(a.type,h);t=o.getSnapshotBeforeUpdate(Fe,p),o.__reactInternalSnapshotBeforeUpdate=t}catch(et){Dt(a,a.return,et)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)e0(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":e0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,Tn=t;break}Tn=n.return}}function ax(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Fs(t,a),o&4&&Do(5,a);break;case 1:if(Fs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(b){Dt(a,a.return,b)}else{var h=xa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Dt(a,a.return,b)}}o&64&&ex(a),o&512&&Po(a,a.return);break;case 3:if(Fs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Hg(t,n)}catch(b){Dt(a,a.return,b)}}break;case 27:n===null&&o&4&&sx(a);case 26:case 5:Fs(t,a),n===null&&o&4&&nx(a),o&512&&Po(a,a.return);break;case 12:Fs(t,a);break;case 31:Fs(t,a),o&4&&cx(t,a);break;case 13:Fs(t,a),o&4&&ux(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zS.bind(null,a),ZS(t,a))));break;case 22:if(o=a.memoizedState!==null||Bs,!o){n=n!==null&&n.memoizedState!==null||bn,h=Bs;var p=bn;Bs=o,(bn=n)&&!p?Us(t,a,(a.subtreeFlags&8772)!==0):Fs(t,a),Bs=h,bn=p}break;case 30:break;default:Fs(t,a)}}function rx(t){var n=t.alternate;n!==null&&(t.alternate=null,rx(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&$e(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Kt=null,ci=!1;function Is(t,n,a){for(a=a.child;a!==null;)ox(t,n,a),a=a.sibling}function ox(t,n,a){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(St,a)}catch{}switch(a.tag){case 26:bn||ys(a,n),Is(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bn||ys(a,n);var o=Kt,h=ci;Cl(a.type)&&(Kt=a.stateNode,ci=!1),Is(t,n,a),$o(a.stateNode),Kt=o,ci=h;break;case 5:bn||ys(a,n);case 6:if(o=Kt,h=ci,Kt=null,Is(t,n,a),Kt=o,ci=h,Kt!==null)if(ci)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(a.stateNode)}catch(p){Dt(a,n,p)}else try{Kt.removeChild(a.stateNode)}catch(p){Dt(a,n,p)}break;case 18:Kt!==null&&(ci?(t=Kt,ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),br(t)):ev(Kt,a.stateNode));break;case 4:o=Kt,h=ci,Kt=a.stateNode.containerInfo,ci=!0,Is(t,n,a),Kt=o,ci=h;break;case 0:case 11:case 14:case 15:bl(2,a,n),bn||bl(4,a,n),Is(t,n,a);break;case 1:bn||(ys(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&tx(a,n,o)),Is(t,n,a);break;case 21:Is(t,n,a);break;case 22:bn=(o=bn)||a.memoizedState!==null,Is(t,n,a),bn=o;break;default:Is(t,n,a)}}function cx(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{br(t)}catch(a){Dt(n,n.return,a)}}}function ux(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{br(t)}catch(a){Dt(n,n.return,a)}}function jS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new lx),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new lx),n;default:throw Error(l(435,t.tag))}}function zu(t,n){var a=jS(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=DS.bind(null,t,o);o.then(h,h)}})}function ui(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],p=t,b=n,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(Cl(C.type)){Kt=C.stateNode,ci=!1;break e}break;case 5:Kt=C.stateNode,ci=!1;break e;case 3:case 4:Kt=C.stateNode.containerInfo,ci=!0;break e}C=C.return}if(Kt===null)throw Error(l(160));ox(p,b,h),Kt=null,ci=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dx(n,t),n=n.sibling}var rs=null;function dx(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ui(n,t),di(t),o&4&&(bl(3,t,t.return),Do(3,t),bl(5,t,t.return));break;case 1:ui(n,t),di(t),o&512&&(bn||a===null||ys(a,a.return)),o&64&&Bs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=rs;if(ui(n,t),di(t),o&512&&(bn||a===null||ys(a,a.return)),o&4){var p=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Ae]||p[Yt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(o),h.head.insertBefore(p,h.querySelector("head > title"))),On(p,o,a),p[Yt]=t,Bt(p),o=p;break e;case"link":var b=dv("link","href",h).get(o+(a.href||""));if(b){for(var C=0;C<b.length;C++)if(p=b[C],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(C,1);break t}}p=h.createElement(o),On(p,o,a),h.head.appendChild(p);break;case"meta":if(b=dv("meta","content",h).get(o+(a.content||""))){for(C=0;C<b.length;C++)if(p=b[C],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(C,1);break t}}p=h.createElement(o),On(p,o,a),h.head.appendChild(p);break;default:throw Error(l(468,o))}p[Yt]=t,Bt(p),o=p}t.stateNode=o}else fv(h,t.type,t.stateNode);else t.stateNode=uv(h,o,t.memoizedProps);else p!==o?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,o===null?fv(h,t.type,t.stateNode):uv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Nh(t,t.memoizedProps,a.memoizedProps)}break;case 27:ui(n,t),di(t),o&512&&(bn||a===null||ys(a,a.return)),a!==null&&o&4&&Nh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ui(n,t),di(t),o&512&&(bn||a===null||ys(a,a.return)),t.flags&32){h=t.stateNode;try{tl(h,"")}catch(Fe){Dt(t,t.return,Fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Nh(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Mh=!0);break;case 6:if(ui(n,t),di(t),o&4){if(t.stateNode===null)throw Error(l(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(Fe){Dt(t,t.return,Fe)}}break;case 3:if(Gu=null,h=rs,rs=Xu(n.containerInfo),ui(n,t),rs=h,di(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{br(n.containerInfo)}catch(Fe){Dt(t,t.return,Fe)}Mh&&(Mh=!1,fx(t));break;case 4:o=rs,rs=Xu(t.stateNode.containerInfo),ui(n,t),di(t),rs=o;break;case 12:ui(n,t),di(t);break;case 31:ui(n,t),di(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zu(t,o)));break;case 13:ui(n,t),di(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pu=De()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zu(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,te=Bs,ge=bn;if(Bs=te||h,bn=ge||R,ui(n,t),bn=ge,Bs=te,di(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Bs||bn||va(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(p=R.stateNode,h)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=R.stateNode;var we=R.memoizedProps.style,ae=we!=null&&we.hasOwnProperty("display")?we.display:null;C.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Fe){Dt(R,R.return,Fe)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(Fe){Dt(R,R.return,Fe)}}}else if(n.tag===18){if(a===null){R=n;try{var ue=R.stateNode;h?tv(ue,!0):tv(R.stateNode,!1)}catch(Fe){Dt(R,R.return,Fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,zu(t,a))));break;case 19:ui(n,t),di(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zu(t,o)));break;case 30:break;case 21:break;default:ui(n,t),di(t)}}function di(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(ix(o)){a=o;break}o=o.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var h=a.stateNode,p=Ch(t);Eu(t,p,h);break;case 5:var b=a.stateNode;a.flags&32&&(tl(b,""),a.flags&=-33);var C=Ch(t);Eu(t,C,b);break;case 3:case 4:var R=a.stateNode.containerInfo,te=Ch(t);Th(t,te,R);break;default:throw Error(l(161))}}catch(ge){Dt(t,t.return,ge)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function fx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;fx(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ax(t,n.alternate,n),n=n.sibling}function va(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:bl(4,n,n.return),va(n);break;case 1:ys(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&tx(n,n.return,a),va(n);break;case 27:$o(n.stateNode);case 26:case 5:ys(n,n.return),va(n);break;case 22:n.memoizedState===null&&va(n);break;case 30:va(n);break;default:va(n)}t=t.sibling}}function Us(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,p=n,b=p.flags;switch(p.tag){case 0:case 11:case 15:Us(h,p,a),Do(4,p);break;case 1:if(Us(h,p,a),o=p,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(te){Dt(o,o.return,te)}if(o=p,h=o.updateQueue,h!==null){var C=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$g(R[h],C)}catch(te){Dt(o,o.return,te)}}a&&b&64&&ex(p),Po(p,p.return);break;case 27:sx(p);case 26:case 5:Us(h,p,a),a&&o===null&&b&4&&nx(p),Po(p,p.return);break;case 12:Us(h,p,a);break;case 31:Us(h,p,a),a&&b&4&&cx(h,p);break;case 13:Us(h,p,a),a&&b&4&&ux(h,p);break;case 22:p.memoizedState===null&&Us(h,p,a),Po(p,p.return);break;case 30:break;default:Us(h,p,a)}n=n.sibling}}function Ah(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&bo(a))}function Eh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&bo(t))}function os(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hx(t,n,a,o),n=n.sibling}function hx(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:os(t,n,a,o),h&2048&&Do(9,n);break;case 1:os(t,n,a,o);break;case 3:os(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&bo(t)));break;case 12:if(h&2048){os(t,n,a,o),t=n.stateNode;try{var p=n.memoizedProps,b=p.id,C=p.onPostCommit;typeof C=="function"&&C(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Dt(n,n.return,R)}}else os(t,n,a,o);break;case 31:os(t,n,a,o);break;case 13:os(t,n,a,o);break;case 23:break;case 22:p=n.stateNode,b=n.alternate,n.memoizedState!==null?p._visibility&2?os(t,n,a,o):Ro(t,n):p._visibility&2?os(t,n,a,o):(p._visibility|=2,cr(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ah(b,n);break;case 24:os(t,n,a,o),h&2048&&Eh(n.alternate,n);break;default:os(t,n,a,o)}}function cr(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=t,b=n,C=a,R=o,te=b.flags;switch(b.tag){case 0:case 11:case 15:cr(p,b,C,R,h),Do(8,b);break;case 23:break;case 22:var ge=b.stateNode;b.memoizedState!==null?ge._visibility&2?cr(p,b,C,R,h):Ro(p,b):(ge._visibility|=2,cr(p,b,C,R,h)),h&&te&2048&&Ah(b.alternate,b);break;case 24:cr(p,b,C,R,h),h&&te&2048&&Eh(b.alternate,b);break;default:cr(p,b,C,R,h)}n=n.sibling}}function Ro(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Ro(a,o),h&2048&&Ah(o.alternate,o);break;case 24:Ro(a,o),h&2048&&Eh(o.alternate,o);break;default:Ro(a,o)}n=n.sibling}}var Lo=8192;function ur(t,n,a){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)mx(t,n,a),t=t.sibling}function mx(t,n,a){switch(t.tag){case 26:ur(t,n,a),t.flags&Lo&&t.memoizedState!==null&&uj(a,rs,t.memoizedState,t.memoizedProps);break;case 5:ur(t,n,a);break;case 3:case 4:var o=rs;rs=Xu(t.stateNode.containerInfo),ur(t,n,a),rs=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Lo,Lo=16777216,ur(t,n,a),Lo=o):ur(t,n,a));break;default:ur(t,n,a)}}function px(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Tn=o,yx(o,t)}px(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gx(t),t=t.sibling}function gx(t){switch(t.tag){case 0:case 11:case 15:Oo(t),t.flags&2048&&bl(9,t,t.return);break;case 3:Oo(t);break;case 12:Oo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Du(t)):Oo(t);break;default:Oo(t)}}function Du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Tn=o,yx(o,t)}px(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:bl(8,n,n.return),Du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Du(n));break;default:Du(n)}t=t.sibling}}function yx(t,n){for(;Tn!==null;){var a=Tn;switch(a.tag){case 0:case 11:case 15:bl(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:bo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Tn=o;else e:for(a=t;Tn!==null;){o=Tn;var h=o.sibling,p=o.return;if(rx(o),o===a){Tn=null;break e}if(h!==null){h.return=p,Tn=h;break e}Tn=p}}}var kS={getCacheForType:function(t){var n=Rn(yn),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Rn(yn).controller.signal}},NS=typeof WeakMap=="function"?WeakMap:Map,At=0,It=null,vt=null,wt=0,zt=0,Ci=null,wl=!1,dr=!1,zh=!1,$s=0,cn=0,_l=0,ba=0,Dh=0,Ti=0,fr=0,Vo=null,fi=null,Ph=!1,Pu=0,xx=0,Ru=1/0,Lu=null,Sl=null,jn=0,jl=null,hr=null,Hs=0,Rh=0,Lh=null,vx=null,Bo=0,Oh=null;function Mi(){return(At&2)!==0&&wt!==0?wt&-wt:W.T!==null?$h():Et()}function bx(){if(Ti===0)if((wt&536870912)===0||jt){var t=ye;ye<<=1,(ye&3932160)===0&&(ye=262144),Ti=t}else Ti=536870912;return t=ki.current,t!==null&&(t.flags|=32),Ti}function hi(t,n,a){(t===It&&(zt===2||zt===9)||t.cancelPendingCommit!==null)&&(mr(t,0),kl(t,wt,Ti,!1)),We(t,a),((At&2)===0||t!==It)&&(t===It&&((At&2)===0&&(ba|=a),cn===4&&kl(t,wt,Ti,!1)),xs(t))}function wx(t,n,a){if((At&6)!==0)throw Error(l(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||gt(t,n),h=o?MS(t,n):Bh(t,n,!0),p=o;do{if(h===0){dr&&!o&&kl(t,n,0,!1);break}else{if(a=t.current.alternate,p&&!CS(a)){h=Bh(t,n,!1),p=!1;continue}if(h===2){if(p=n,t.errorRecoveryDisabledLanes&p)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var C=t;h=Vo;var R=C.current.memoizedState.isDehydrated;if(R&&(mr(C,b).flags|=256),b=Bh(C,b,!1),b!==2){if(zh&&!R){C.errorRecoveryDisabledLanes|=p,ba|=p,h=4;break e}p=fi,fi=h,p!==null&&(fi===null?fi=p:fi.push.apply(fi,p))}h=b}if(p=!1,h!==2)continue}}if(h===1){mr(t,0),kl(t,n,0,!0);break}e:{switch(o=t,p=h,p){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:kl(o,n,Ti,!wl);break e;case 2:fi=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(h=Pu+300-De(),10<h)){if(kl(o,n,Ti,!wl),rt(o,0,!0)!==0)break e;Hs=n,o.timeoutHandle=Zx(_x.bind(null,o,a,fi,Lu,Ph,n,Ti,ba,fr,wl,p,"Throttled",-0,0),h);break e}_x(o,a,fi,Lu,Ph,n,Ti,ba,fr,wl,p,null,-0,0)}}break}while(!0);xs(t)}function _x(t,n,a,o,h,p,b,C,R,te,ge,we,ae,ue){if(t.timeoutHandle=-1,we=n.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},mx(n,p,we);var Fe=(p&62914560)===p?Pu-De():(p&4194048)===p?xx-De():0;if(Fe=dj(we,Fe),Fe!==null){Hs=p,t.cancelPendingCommit=Fe(Ax.bind(null,t,n,p,a,o,h,b,C,R,ge,we,null,ae,ue)),kl(t,p,b,!te);return}}Ax(t,n,p,a,o,h,b,C,R)}function CS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],p=h.getSnapshot;h=h.value;try{if(!ti(p(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kl(t,n,a,o){n&=~Dh,n&=~ba,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var p=31-_e(h),b=1<<p;o[p]=-1,h&=~b}a!==0&&Ht(t,a,n)}function Ou(){return(At&6)===0?(Io(0),!1):!0}function Vh(){if(vt!==null){if(zt===0)var t=vt.return;else t=vt,Ds=da=null,eh(t),sr=null,_o=0,t=vt;for(;t!==null;)Jy(t.alternate,t),t=t.return;vt=null}}function mr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Hs=0,Vh(),It=t,vt=a=Es(t.current,null),wt=n,zt=0,Ci=null,wl=!1,dr=gt(t,n),zh=!1,fr=Ti=Dh=ba=_l=cn=0,fi=Vo=null,Ph=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-_e(o),p=1<<h;n|=t[h],o&=~p}return $s=n,su(),a}function Sx(t,n){dt=null,W.H=Ao,n===ir||n===fu?(n=Bg(),zt=3):n===Uf?(n=Bg(),zt=4):zt=n===gh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ci=n,vt===null&&(cn=1,Nu(t,Yi(n,t.current)))}function jx(){var t=ki.current;return t===null?!0:(wt&4194048)===wt?Wi===null:(wt&62914560)===wt||(wt&536870912)!==0?t===Wi:!1}function kx(){var t=W.H;return W.H=Ao,t===null?Ao:t}function Nx(){var t=W.A;return W.A=kS,t}function Vu(){cn=4,wl||(wt&4194048)!==wt&&ki.current!==null||(dr=!0),(_l&134217727)===0&&(ba&134217727)===0||It===null||kl(It,wt,Ti,!1)}function Bh(t,n,a){var o=At;At|=2;var h=kx(),p=Nx();(It!==t||wt!==n)&&(Lu=null,mr(t,n)),n=!1;var b=cn;e:do try{if(zt!==0&&vt!==null){var C=vt,R=Ci;switch(zt){case 8:Vh(),b=6;break e;case 3:case 2:case 9:case 6:ki.current===null&&(n=!0);var te=zt;if(zt=0,Ci=null,pr(t,C,R,te),a&&dr){b=0;break e}break;default:te=zt,zt=0,Ci=null,pr(t,C,R,te)}}TS(),b=cn;break}catch(ge){Sx(t,ge)}while(!0);return n&&t.shellSuspendCounter++,Ds=da=null,At=o,W.H=h,W.A=p,vt===null&&(It=null,wt=0,su()),b}function TS(){for(;vt!==null;)Cx(vt)}function MS(t,n){var a=At;At|=2;var o=kx(),h=Nx();It!==t||wt!==n?(Lu=null,Ru=De()+500,mr(t,n)):dr=gt(t,n);e:do try{if(zt!==0&&vt!==null){n=vt;var p=Ci;t:switch(zt){case 1:zt=0,Ci=null,pr(t,n,p,1);break;case 2:case 9:if(Og(p)){zt=0,Ci=null,Tx(n);break}n=function(){zt!==2&&zt!==9||It!==t||(zt=7),xs(t)},p.then(n,n);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Og(p)?(zt=0,Ci=null,Tx(n)):(zt=0,Ci=null,pr(t,n,p,7));break;case 5:var b=null;switch(vt.tag){case 26:b=vt.memoizedState;case 5:case 27:var C=vt;if(b?hv(b):C.stateNode.complete){zt=0,Ci=null;var R=C.sibling;if(R!==null)vt=R;else{var te=C.return;te!==null?(vt=te,Bu(te)):vt=null}break t}}zt=0,Ci=null,pr(t,n,p,5);break;case 6:zt=0,Ci=null,pr(t,n,p,6);break;case 8:Vh(),cn=6;break e;default:throw Error(l(462))}}AS();break}catch(ge){Sx(t,ge)}while(!0);return Ds=da=null,W.H=o,W.A=h,At=a,vt!==null?0:(It=null,wt=0,su(),cn)}function AS(){for(;vt!==null&&!lt();)Cx(vt)}function Cx(t){var n=Ky(t.alternate,t,$s);t.memoizedProps=t.pendingProps,n===null?Bu(t):vt=n}function Tx(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Yy(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=Yy(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:eh(n);default:Jy(a,n),n=vt=Ng(n,$s),n=Ky(a,n,$s)}t.memoizedProps=t.pendingProps,n===null?Bu(t):vt=n}function pr(t,n,a,o){Ds=da=null,eh(n),sr=null,_o=0;var h=n.return;try{if(xS(t,h,n,a,wt)){cn=1,Nu(t,Yi(a,t.current)),vt=null;return}}catch(p){if(h!==null)throw vt=h,p;cn=1,Nu(t,Yi(a,t.current)),vt=null;return}n.flags&32768?(jt||o===1?t=!0:dr||(wt&536870912)!==0?t=!1:(wl=t=!0,(o===2||o===9||o===3||o===6)&&(o=ki.current,o!==null&&o.tag===13&&(o.flags|=16384))),Mx(n,t)):Bu(n)}function Bu(t){var n=t;do{if((n.flags&32768)!==0){Mx(n,wl);return}t=n.return;var a=wS(n.alternate,n,$s);if(a!==null){vt=a;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=t}while(n!==null);cn===0&&(cn=5)}function Mx(t,n){do{var a=_S(t.alternate,t);if(a!==null){a.flags&=32767,vt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){vt=t;return}vt=t=a}while(t!==null);cn=6,vt=null}function Ax(t,n,a,o,h,p,b,C,R){t.cancelPendingCommit=null;do Iu();while(jn!==0);if((At&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(p=n.lanes|n.childLanes,p|=Cf,yt(t,a,p,b,C,R),t===It&&(vt=It=null,wt=0),hr=n,jl=t,Hs=a,Rh=p,Lh=h,vx=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,PS(Pe,function(){return Rx(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=W.T,W.T=null,h=le.p,le.p=2,b=At,At|=4;try{SS(t,n,a)}finally{At=b,le.p=h,W.T=o}}jn=1,Ex(),zx(),Dx()}}function Ex(){if(jn===1){jn=0;var t=jl,n=hr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var o=le.p;le.p=2;var h=At;At|=4;try{dx(n,t);var p=Kh,b=ol(t.containerInfo),C=p.focusedElem,R=p.selectionRange;if(b!==C&&C&&C.ownerDocument&&Nf(C.ownerDocument.documentElement,C)){if(R!==null&&po(C)){var te=R.start,ge=R.end;if(ge===void 0&&(ge=te),"selectionStart"in C)C.selectionStart=te,C.selectionEnd=Math.min(ge,C.value.length);else{var we=C.ownerDocument||document,ae=we&&we.defaultView||window;if(ae.getSelection){var ue=ae.getSelection(),Fe=C.textContent.length,et=Math.min(R.start,Fe),Lt=R.end===void 0?et:Math.min(R.end,Fe);!ue.extend&&et>Lt&&(b=Lt,Lt=et,et=b);var G=aa(C,et),B=aa(C,Lt);if(G&&B&&(ue.rangeCount!==1||ue.anchorNode!==G.node||ue.anchorOffset!==G.offset||ue.focusNode!==B.node||ue.focusOffset!==B.offset)){var ee=we.createRange();ee.setStart(G.node,G.offset),ue.removeAllRanges(),et>Lt?(ue.addRange(ee),ue.extend(B.node,B.offset)):(ee.setEnd(B.node,B.offset),ue.addRange(ee))}}}}for(we=[],ue=C;ue=ue.parentNode;)ue.nodeType===1&&we.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<we.length;C++){var ve=we[C];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Zu=!!Qh,Kh=Qh=null}finally{At=h,le.p=o,W.T=a}}t.current=n,jn=2}}function zx(){if(jn===2){jn=0;var t=jl,n=hr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var o=le.p;le.p=2;var h=At;At|=4;try{ax(t,n.alternate,n)}finally{At=h,le.p=o,W.T=a}}jn=3}}function Dx(){if(jn===4||jn===3){jn=0,ut();var t=jl,n=hr,a=Hs,o=vx;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?jn=5:(jn=0,hr=jl=null,Px(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sl=null),rn(a),n=n.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(St,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=W.T,h=le.p,le.p=2,W.T=null;try{for(var p=t.onRecoverableError,b=0;b<o.length;b++){var C=o[b];p(C.value,{componentStack:C.stack})}}finally{W.T=n,le.p=h}}(Hs&3)!==0&&Iu(),xs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Oh?Bo++:(Bo=0,Oh=t):Bo=0,Io(0)}}function Px(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,bo(n)))}function Iu(){return Ex(),zx(),Dx(),Rx()}function Rx(){if(jn!==5)return!1;var t=jl,n=Rh;Rh=0;var a=rn(Hs),o=W.T,h=le.p;try{le.p=32>a?32:a,W.T=null,a=Lh,Lh=null;var p=jl,b=Hs;if(jn=0,hr=jl=null,Hs=0,(At&6)!==0)throw Error(l(331));var C=At;if(At|=4,gx(p.current),hx(p,p.current,b,a),At=C,Io(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(St,p)}catch{}return!0}finally{le.p=h,W.T=o,Px(t,n)}}function Lx(t,n,a){n=Yi(a,n),n=ph(t.stateNode,n,2),t=yl(t,n,2),t!==null&&(We(t,2),xs(t))}function Dt(t,n,a){if(t.tag===3)Lx(t,t,a);else for(;n!==null;){if(n.tag===3){Lx(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sl===null||!Sl.has(o))){t=Yi(a,t),a=Oy(2),o=yl(n,a,2),o!==null&&(Vy(a,o,n,t),We(o,2),xs(o));break}}n=n.return}}function Ih(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new NS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(zh=!0,h.add(a),t=ES.bind(null,t,n,a),n.then(t,t))}function ES(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,It===t&&(wt&a)===a&&(cn===4||cn===3&&(wt&62914560)===wt&&300>De()-Pu?(At&2)===0&&mr(t,0):Dh|=a,fr===wt&&(fr=0)),xs(t)}function Ox(t,n){n===0&&(n=bi()),t=oa(t,n),t!==null&&(We(t,n),xs(t))}function zS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ox(t,a)}function DS(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(n),Ox(t,a)}function PS(t,n){return Ue(t,n)}var Fu=null,gr=null,Fh=!1,Uu=!1,Uh=!1,Nl=0;function xs(t){t!==gr&&t.next===null&&(gr===null?Fu=gr=t:gr=gr.next=t),Uu=!0,Fh||(Fh=!0,LS())}function Io(t,n){if(!Uh&&Uu){Uh=!0;do for(var a=!1,o=Fu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var p=0;else{var b=o.suspendedLanes,C=o.pingedLanes;p=(1<<31-_e(42|t)+1)-1,p&=h&~(b&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Fx(o,p))}else p=wt,p=rt(o,o===It?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||gt(o,p)||(a=!0,Fx(o,p));o=o.next}while(a);Uh=!1}}function RS(){Vx()}function Vx(){Uu=Fh=!1;var t=0;Nl!==0&&XS()&&(t=Nl);for(var n=De(),a=null,o=Fu;o!==null;){var h=o.next,p=Bx(o,n);p===0?(o.next=null,a===null?Fu=h:a.next=h,h===null&&(gr=a)):(a=o,(t!==0||(p&3)!==0)&&(Uu=!0)),o=h}jn!==0&&jn!==5||Io(t),Nl!==0&&(Nl=0)}function Bx(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var b=31-_e(p),C=1<<b,R=h[b];R===-1?((C&a)===0||(C&o)!==0)&&(h[b]=Nt(C,n)):R<=n&&(t.expiredLanes|=C),p&=~C}if(n=It,a=wt,a=rt(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(zt===2||zt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Xe(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||gt(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Xe(o),rn(a)){case 2:case 8:a=qe;break;case 32:a=Pe;break;case 268435456:a=Qe;break;default:a=Pe}return o=Ix.bind(null,t),a=Ue(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Xe(o),t.callbackPriority=2,t.callbackNode=null,2}function Ix(t,n){if(jn!==0&&jn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Iu()&&t.callbackNode!==a)return null;var o=wt;return o=rt(t,t===It?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(wx(t,o,n),Bx(t,De()),t.callbackNode!=null&&t.callbackNode===a?Ix.bind(null,t):null)}function Fx(t,n){if(Iu())return null;wx(t,n,!0)}function LS(){GS(function(){(At&6)!==0?Ue(it,RS):Vx()})}function $h(){if(Nl===0){var t=tr;t===0&&(t=Ze,Ze<<=1,(Ze&261888)===0&&(Ze=256)),Nl=t}return Nl}function Ux(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function $x(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function OS(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var p=Ux((h[Qt]||null).action),b=o.submitter;b&&(n=(n=b[Qt]||null)?Ux(n.formAction):b.getAttribute("formAction"),n!==null&&(p=n,b=null));var C=new lo("action","action",null,o,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nl!==0){var R=b?$x(h,b):new FormData(h);ch(a,{pending:!0,data:R,method:h.method,action:p},null,R)}}else typeof p=="function"&&(C.preventDefault(),R=b?$x(h,b):new FormData(h),ch(a,{pending:!0,data:R,method:h.method,action:p},p,R))},currentTarget:h}]})}}for(var Hh=0;Hh<Dn.length;Hh++){var Yh=Dn[Hh],VS=Yh.toLowerCase(),BS=Yh[0].toUpperCase()+Yh.slice(1);ii(VS,"on"+BS)}ii($,"onAnimationEnd"),ii(K,"onAnimationIteration"),ii(ce,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Ce,"onTransitionRun"),ii(Ne,"onTransitionStart"),ii(He,"onTransitionCancel"),ii(ct,"onTransitionEnd"),Kl("onMouseEnter",["mouseout","mouseover"]),Kl("onMouseLeave",["mouseout","mouseover"]),Kl("onPointerEnter",["pointerout","pointerover"]),Kl("onPointerLeave",["pointerout","pointerover"]),Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Js("onBeforeInput",["compositionend","keypress","textInput","paste"]),Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function Hx(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var p=void 0;if(n)for(var b=o.length-1;0<=b;b--){var C=o[b],R=C.instance,te=C.currentTarget;if(C=C.listener,R!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=te;try{p(h)}catch(ge){iu(ge)}h.currentTarget=null,p=R}else for(b=0;b<o.length;b++){if(C=o[b],R=C.instance,te=C.currentTarget,C=C.listener,R!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=te;try{p(h)}catch(ge){iu(ge)}h.currentTarget=null,p=R}}}}function bt(t,n){var a=n[wi];a===void 0&&(a=n[wi]=new Set);var o=t+"__bubble";a.has(o)||(Yx(n,t,2,!1),a.add(o))}function Xh(t,n,a){var o=0;n&&(o|=4),Yx(a,t,o,n)}var $u="_reactListening"+Math.random().toString(36).slice(2);function qh(t){if(!t[$u]){t[$u]=!0,Ql.forEach(function(a){a!=="selectionchange"&&(IS.has(a)||Xh(a,!1,t),Xh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$u]||(n[$u]=!0,Xh("selectionchange",!1,n))}}function Yx(t,n,a,o){switch(bv(n)){case 2:var h=mj;break;case 8:h=pj;break;default:h=o0}a=h.bind(null,n,a,t),h=void 0,!$a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Gh(t,n,a,o,h){var p=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var C=o.stateNode.containerInfo;if(C===h)break;if(b===4)for(b=o.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;C!==null;){if(b=Ve(C),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){o=p=b;continue e}C=C.parentNode}}o=o.return}ea(function(){var te=p,ge=io(a),we=[];e:{var ae=xt.get(t);if(ae!==void 0){var ue=lo,Fe=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":ue=fg;break;case"focusin":Fe="focus",ue=ro;break;case"focusout":Fe="blur",ue=ro;break;case"beforeblur":case"afterblur":ue=ro;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=pg;break;case $:case K:case ce:ue=rg;break;case ct:ue=yg;break;case"scroll":case"scrollend":ue=lg;break;case"wheel":ue=vg;break;case"copy":case"cut":case"paste":ue=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=hf;break;case"toggle":case"beforetoggle":ue=Jc}var et=(n&4)!==0,Lt=!et&&(t==="scroll"||t==="scrollend"),G=et?ae!==null?ae+"Capture":null:ae;et=[];for(var B=te,ee;B!==null;){var ve=B;if(ee=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ee===null||G===null||(ve=Ts(B,G),ve!=null&&et.push(Uo(B,ve,ee))),Lt)break;B=B.return}0<et.length&&(ae=new ue(ae,Fe,null,a,ge),we.push({event:ae,listeners:et}))}}if((n&7)===0){e:{if(ae=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",ae&&a!==Fa&&(Fe=a.relatedTarget||a.fromElement)&&(Ve(Fe)||Fe[Jn]))break e;if((ue||ae)&&(ae=ge.window===ge?ge:(ae=ge.ownerDocument)?ae.defaultView||ae.parentWindow:window,ue?(Fe=a.relatedTarget||a.toElement,ue=te,Fe=Fe?Ve(Fe):null,Fe!==null&&(Lt=u(Fe),et=Fe.tag,Fe!==Lt||et!==5&&et!==27&&et!==6)&&(Fe=null)):(ue=null,Fe=te),ue!==Fe)){if(et=lf,ve="onMouseLeave",G="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(et=hf,ve="onPointerLeave",G="onPointerEnter",B="pointer"),Lt=ue==null?ae:_i(ue),ee=Fe==null?ae:_i(Fe),ae=new et(ve,B+"leave",ue,a,ge),ae.target=Lt,ae.relatedTarget=ee,ve=null,Ve(ge)===te&&(et=new et(G,B+"enter",Fe,a,ge),et.target=ee,et.relatedTarget=Lt,ve=et),Lt=ve,ue&&Fe)t:{for(et=FS,G=ue,B=Fe,ee=0,ve=G;ve;ve=et(ve))ee++;ve=0;for(var Ke=B;Ke;Ke=et(Ke))ve++;for(;0<ee-ve;)G=et(G),ee--;for(;0<ve-ee;)B=et(B),ve--;for(;ee--;){if(G===B||B!==null&&G===B.alternate){et=G;break t}G=et(G),B=et(B)}et=null}else et=null;ue!==null&&Xx(we,ae,ue,et,!1),Fe!==null&&Lt!==null&&Xx(we,Lt,Fe,et,!0)}}e:{if(ae=te?_i(te):window,ue=ae.nodeName&&ae.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ae.type==="file")var Tt=yf;else if(Ct(ae))if(xf)Tt=jf;else{Tt=jg;var Ge=_f}else ue=ae.nodeName,!ue||ue.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?te&&no(te.elementType)&&(Tt=yf):Tt=Sf;if(Tt&&(Tt=Tt(t,te))){la(we,Tt,a,ge);break e}Ge&&Ge(t,ae,te),t==="focusout"&&te&&ae.type==="number"&&te.memoizedProps.value!=null&&Hn(ae,"number",ae.value)}switch(Ge=te?_i(te):window,t){case"focusin":(Ct(Ge)||Ge.contentEditable==="true")&&(cl=Ge,Cn=te,ra=null);break;case"focusout":ra=Cn=cl=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,ms(we,a,ge);break;case"selectionchange":if(as)break;case"keydown":case"keyup":ms(we,a,ge)}var ft;if(oo)e:{switch(t){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else As?uo(t,a)&&(_t="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(al&&a.locale!=="ko"&&(As||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&As&&(ft=Wc()):(hs=ge,so="value"in hs?hs.value:hs.textContent,As=!0)),Ge=Hu(te,_t),0<Ge.length&&(_t=new cf(_t,t,null,a,ge),we.push({event:_t,listeners:Ge}),ft?_t.data=ft:(ft=fo(a),ft!==null&&(_t.data=ft)))),(ft=pf?wg(t,a):_g(t,a))&&(_t=Hu(te,"onBeforeInput"),0<_t.length&&(Ge=new cf("onBeforeInput","beforeinput",null,a,ge),we.push({event:Ge,listeners:_t}),Ge.data=ft)),OS(we,t,te,a,ge)}Hx(we,n)})}function Uo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Hu(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Ts(t,a),h!=null&&o.unshift(Uo(t,h,p)),h=Ts(t,n),h!=null&&o.push(Uo(t,h,p))),t.tag===3)return o;t=t.return}return[]}function FS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xx(t,n,a,o,h){for(var p=n._reactName,b=[];a!==null&&a!==o;){var C=a,R=C.alternate,te=C.stateNode;if(C=C.tag,R!==null&&R===o)break;C!==5&&C!==26&&C!==27||te===null||(R=te,h?(te=Ts(a,p),te!=null&&b.unshift(Uo(a,te,R))):h||(te=Ts(a,p),te!=null&&b.push(Uo(a,te,R)))),a=a.return}b.length!==0&&t.push({event:n,listeners:b})}var US=/\r\n?/g,$S=/\u0000|\uFFFD/g;function qx(t){return(typeof t=="string"?t:""+t).replace(US,`
`).replace($S,"")}function Gx(t,n){return n=qx(n),qx(t)===n}function Rt(t,n,a,o,h,p){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||tl(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&tl(t,""+o);break;case"className":fs(t,"class",o);break;case"tabIndex":fs(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(t,a,o);break;case"style":qc(t,o,p);break;case"data":if(n!=="object"){fs(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ia(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Rt(t,n,"name",h.name,h,null),Rt(t,n,"formEncType",h.formEncType,h,null),Rt(t,n,"formMethod",h.formMethod,h,null),Rt(t,n,"formTarget",h.formTarget,h,null)):(Rt(t,n,"encType",h.encType,h,null),Rt(t,n,"method",h.method,h,null),Rt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ia(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Ui);break;case"onScroll":o!=null&&bt("scroll",t);break;case"onScrollEnd":o!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":bt("beforetoggle",t),bt("toggle",t),el(t,"popover",o);break;case"xlinkActuate":Ii(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ii(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ii(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ii(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ii(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ii(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ii(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ii(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ii(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":el(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nf.get(a)||a,el(t,a,o))}}function Wh(t,n,a,o,h,p){switch(a){case"style":qc(t,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof o=="string"?tl(t,o):(typeof o=="number"||typeof o=="bigint")&&tl(t,""+o);break;case"onScroll":o!=null&&bt("scroll",t);break;case"onScrollEnd":o!=null&&bt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),p=t[Qt]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(n,p,h),typeof o=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):el(t,a,o)}}}function On(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var o=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Rt(t,n,p,b,a,null)}}h&&Rt(t,n,"srcSet",a.srcSet,a,null),o&&Rt(t,n,"src",a.src,a,null);return;case"input":bt("invalid",t);var C=p=b=h=null,R=null,te=null;for(o in a)if(a.hasOwnProperty(o)){var ge=a[o];if(ge!=null)switch(o){case"name":h=ge;break;case"type":b=ge;break;case"checked":R=ge;break;case"defaultChecked":te=ge;break;case"value":p=ge;break;case"defaultValue":C=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(l(137,n));break;default:Rt(t,n,o,ge,a,null)}}to(t,p,C,R,te,b,h,!1);return;case"select":bt("invalid",t),o=b=p=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":p=C;break;case"defaultValue":b=C;break;case"multiple":o=C;default:Rt(t,n,h,C,a,null)}n=p,a=b,t.multiple=!!o,n!=null?oi(t,!!o,n,!1):a!=null&&oi(t,!!o,a,!0);return;case"textarea":bt("invalid",t),p=h=o=null;for(b in a)if(a.hasOwnProperty(b)&&(C=a[b],C!=null))switch(b){case"value":o=C;break;case"defaultValue":h=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:Rt(t,n,b,C,a,null)}en(t,o,h,p);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Rt(t,n,R,o,a,null));return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(o=0;o<Fo.length;o++)bt(Fo[o],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in a)if(a.hasOwnProperty(te)&&(o=a[te],o!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Rt(t,n,te,o,a,null)}return;default:if(no(n)){for(ge in a)a.hasOwnProperty(ge)&&(o=a[ge],o!==void 0&&Wh(t,n,ge,o,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null&&Rt(t,n,C,o,a,null))}function HS(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,b=null,C=null,R=null,te=null,ge=null;for(ue in a){var we=a[ue];if(a.hasOwnProperty(ue)&&we!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":R=we;default:o.hasOwnProperty(ue)||Rt(t,n,ue,null,o,we)}}for(var ae in o){var ue=o[ae];if(we=a[ae],o.hasOwnProperty(ae)&&(ue!=null||we!=null))switch(ae){case"type":p=ue;break;case"name":h=ue;break;case"checked":te=ue;break;case"defaultChecked":ge=ue;break;case"value":b=ue;break;case"defaultValue":C=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(137,n));break;default:ue!==we&&Rt(t,n,ae,ue,o,we)}}Zl(t,b,C,R,te,ge,p,h);return;case"select":ue=b=C=ae=null;for(p in a)if(R=a[p],a.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":ue=R;default:o.hasOwnProperty(p)||Rt(t,n,p,null,o,R)}for(h in o)if(p=o[h],R=a[h],o.hasOwnProperty(h)&&(p!=null||R!=null))switch(h){case"value":ae=p;break;case"defaultValue":C=p;break;case"multiple":b=p;default:p!==R&&Rt(t,n,h,p,o,R)}n=C,a=b,o=ue,ae!=null?oi(t,!!a,ae,!1):!!o!=!!a&&(n!=null?oi(t,!!a,n,!0):oi(t,!!a,a?[]:"",!1));return;case"textarea":ue=ae=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!o.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Rt(t,n,C,null,o,h)}for(b in o)if(h=o[b],p=a[b],o.hasOwnProperty(b)&&(h!=null||p!=null))switch(b){case"value":ae=h;break;case"defaultValue":ue=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==p&&Rt(t,n,b,h,o,p)}Xc(t,ae,ue);return;case"option":for(var Fe in a)ae=a[Fe],a.hasOwnProperty(Fe)&&ae!=null&&!o.hasOwnProperty(Fe)&&(Fe==="selected"?t.selected=!1:Rt(t,n,Fe,null,o,ae));for(R in o)ae=o[R],ue=a[R],o.hasOwnProperty(R)&&ae!==ue&&(ae!=null||ue!=null)&&(R==="selected"?t.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Rt(t,n,R,ae,o,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in a)ae=a[et],a.hasOwnProperty(et)&&ae!=null&&!o.hasOwnProperty(et)&&Rt(t,n,et,null,o,ae);for(te in o)if(ae=o[te],ue=a[te],o.hasOwnProperty(te)&&ae!==ue&&(ae!=null||ue!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,n));break;default:Rt(t,n,te,ae,o,ue)}return;default:if(no(n)){for(var Lt in a)ae=a[Lt],a.hasOwnProperty(Lt)&&ae!==void 0&&!o.hasOwnProperty(Lt)&&Wh(t,n,Lt,void 0,o,ae);for(ge in o)ae=o[ge],ue=a[ge],!o.hasOwnProperty(ge)||ae===ue||ae===void 0&&ue===void 0||Wh(t,n,ge,ae,o,ue);return}}for(var G in a)ae=a[G],a.hasOwnProperty(G)&&ae!=null&&!o.hasOwnProperty(G)&&Rt(t,n,G,null,o,ae);for(we in o)ae=o[we],ue=a[we],!o.hasOwnProperty(we)||ae===ue||ae==null&&ue==null||Rt(t,n,we,ae,o,ue)}function Wx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],p=h.transferSize,b=h.initiatorType,C=h.duration;if(p&&C&&Wx(b)){for(b=0,C=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],te=R.startTime;if(te>C)break;var ge=R.transferSize,we=R.initiatorType;ge&&Wx(we)&&(R=R.responseEnd,b+=ge*(R<C?1:(C-te)/(R-te)))}if(--o,n+=8*(p+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qh=null,Kh=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function Qx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kx(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Zh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jh=null;function XS(){var t=window.event;return t&&t.type==="popstate"?t===Jh?!1:(Jh=t,!0):(Jh=null,!1)}var Zx=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,Jx=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof Jx<"u"?function(t){return Jx.resolve(null).then(t).catch(WS)}:Zx;function WS(t){setTimeout(function(){throw t})}function Cl(t){return t==="head"}function ev(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),br(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")$o(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,$o(a);for(var p=a.firstChild;p;){var b=p.nextSibling,C=p.nodeName;p[Ae]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=b}}else a==="body"&&$o(t.ownerDocument.body);a=h}while(a);br(n)}function tv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function e0(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":e0(a),$e(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function QS(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ae])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Qi(t.nextSibling),t===null)break}return null}function KS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qi(t.nextSibling),t===null))return null;return t}function nv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qi(t.nextSibling),t===null))return null;return t}function t0(t){return t.data==="$?"||t.data==="$~"}function n0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ZS(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var i0=null;function iv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Qi(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function sv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function lv(t,n,a){switch(n=Yu(a),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function $o(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);$e(t)}var Ki=new Map,av=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ys=le.d;le.d={f:JS,r:ej,D:tj,C:nj,L:ij,m:sj,X:aj,S:lj,M:rj};function JS(){var t=Ys.f(),n=Ou();return t||n}function ej(t){var n=ht(t);n!==null&&n.tag===5&&n.type==="form"?Sy(n):Ys.r(t)}var yr=typeof document>"u"?null:document;function rv(t,n,a){var o=yr;if(o&&typeof n=="string"&&n){var h=$n(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),av.has(h)||(av.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),On(n,"link",t),Bt(n),o.head.appendChild(n)))}}function tj(t){Ys.D(t),rv("dns-prefetch",t,null)}function nj(t,n){Ys.C(t,n),rv("preconnect",t,n)}function ij(t,n,a){Ys.L(t,n,a);var o=yr;if(o&&t&&n){var h='link[rel="preload"][as="'+$n(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+$n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+$n(a.imageSizes)+'"]')):h+='[href="'+$n(t)+'"]';var p=h;switch(n){case"style":p=xr(t);break;case"script":p=vr(t)}Ki.has(p)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ki.set(p,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ho(p))||n==="script"&&o.querySelector(Yo(p))||(n=o.createElement("link"),On(n,"link",t),Bt(n),o.head.appendChild(n)))}}function sj(t,n){Ys.m(t,n);var a=yr;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+$n(o)+'"][href="'+$n(t)+'"]',p=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=vr(t)}if(!Ki.has(p)&&(t=x({rel:"modulepreload",href:t},n),Ki.set(p,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yo(p)))return}o=a.createElement("link"),On(o,"link",t),Bt(o),a.head.appendChild(o)}}}function lj(t,n,a){Ys.S(t,n,a);var o=yr;if(o&&t){var h=Un(o).hoistableStyles,p=xr(t);n=n||"default";var b=h.get(p);if(!b){var C={loading:0,preload:null};if(b=o.querySelector(Ho(p)))C.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ki.get(p))&&s0(t,a);var R=b=o.createElement("link");Bt(R),On(R,"link",t),R._p=new Promise(function(te,ge){R.onload=te,R.onerror=ge}),R.addEventListener("load",function(){C.loading|=1}),R.addEventListener("error",function(){C.loading|=2}),C.loading|=4,qu(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:C},h.set(p,b)}}}function aj(t,n){Ys.X(t,n);var a=yr;if(a&&t){var o=Un(a).hoistableScripts,h=vr(t),p=o.get(h);p||(p=a.querySelector(Yo(h)),p||(t=x({src:t,async:!0},n),(n=Ki.get(h))&&l0(t,n),p=a.createElement("script"),Bt(p),On(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(h,p))}}function rj(t,n){Ys.M(t,n);var a=yr;if(a&&t){var o=Un(a).hoistableScripts,h=vr(t),p=o.get(h);p||(p=a.querySelector(Yo(h)),p||(t=x({src:t,async:!0,type:"module"},n),(n=Ki.get(h))&&l0(t,n),p=a.createElement("script"),Bt(p),On(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(h,p))}}function ov(t,n,a,o){var h=(h=je.current)?Xu(h):null;if(!h)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=xr(a.href),a=Un(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=xr(a.href);var p=Un(h).hoistableStyles,b=p.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,b),(p=h.querySelector(Ho(t)))&&!p._p&&(b.instance=p,b.state.loading=5),Ki.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ki.set(t,a),p||oj(h,t,a,b.state))),n&&o===null)throw Error(l(528,""));return b}if(n&&o!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vr(a),a=Un(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function xr(t){return'href="'+$n(t)+'"'}function Ho(t){return'link[rel="stylesheet"]['+t+"]"}function cv(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function oj(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),On(n,"link",a),Bt(n),t.head.appendChild(n))}function vr(t){return'[src="'+$n(t)+'"]'}function Yo(t){return"script[async]"+t}function uv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+$n(a.href)+'"]');if(o)return n.instance=o,Bt(o),o;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Bt(o),On(o,"style",h),qu(o,a.precedence,t),n.instance=o;case"stylesheet":h=xr(a.href);var p=t.querySelector(Ho(h));if(p)return n.state.loading|=4,n.instance=p,Bt(p),p;o=cv(a),(h=Ki.get(h))&&s0(o,h),p=(t.ownerDocument||t).createElement("link"),Bt(p);var b=p;return b._p=new Promise(function(C,R){b.onload=C,b.onerror=R}),On(p,"link",o),n.state.loading|=4,qu(p,a.precedence,t),n.instance=p;case"script":return p=vr(a.src),(h=t.querySelector(Yo(p)))?(n.instance=h,Bt(h),h):(o=a,(h=Ki.get(p))&&(o=x({},a),l0(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Bt(h),On(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,qu(o,a.precedence,t));return n.instance}function qu(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,p=h,b=0;b<o.length;b++){var C=o[b];if(C.dataset.precedence===n)p=C;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function s0(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function l0(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Gu=null;function dv(t,n,a){if(Gu===null){var o=new Map,h=Gu=new Map;h.set(a,o)}else h=Gu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var p=a[h];if(!(p[Ae]||p[Yt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(n)||"";b=t+b;var C=o.get(b);C?C.push(p):o.set(b,[p])}}return o}function fv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function cj(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function uj(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=xr(o.href),p=n.querySelector(Ho(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Wu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=p,Bt(p);return}p=n.ownerDocument||n,o=cv(o),(h=Ki.get(h))&&s0(o,h),p=p.createElement("link"),Bt(p);var b=p;b._p=new Promise(function(C,R){b.onload=C,b.onerror=R}),On(p,"link",o),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var a0=0;function dj(t,n){return t.stylesheets&&t.count===0&&Ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ku(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+n);0<t.imgBytes&&a0===0&&(a0=62500*YS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ku(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>a0?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qu=null;function Ku(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qu=new Map,n.forEach(fj,t),Qu=null,Wu.call(t))}function fj(t,n){if(!(n.state.loading&4)){var a=Qu.get(t);if(a)var o=a.get(null);else{a=new Map,Qu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var b=h[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),o=b)}o&&a.set(null,o)}h=n.instance,b=h.getAttribute("data-precedence"),p=a.get(b)||o,p===o&&a.set(null,h),a.set(b,h),this.count++,o=Wu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Xo={$$typeof:M,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function hj(t,n,a,o,h,p,b,C,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function mv(t,n,a,o,h,p,b,C,R,te,ge,we){return t=new hj(t,n,a,b,R,te,ge,we,C),n=1,p===!0&&(n|=24),p=ji(3,null,null,n),t.current=p,p.stateNode=t,n=Bf(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:o,isDehydrated:a,cache:n},$f(p),t}function pv(t){return t?(t=Qa,t):Qa}function gv(t,n,a,o,h,p){h=pv(h),o.context===null?o.context=h:o.pendingContext=h,o=gl(n),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=yl(t,o,n),a!==null&&(hi(a,t,n),jo(a,t,n))}function yv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function r0(t,n){yv(t,n),(t=t.alternate)&&yv(t,n)}function xv(t){if(t.tag===13||t.tag===31){var n=oa(t,67108864);n!==null&&hi(n,t,67108864),r0(t,67108864)}}function vv(t){if(t.tag===13||t.tag===31){var n=Mi();n=Kn(n);var a=oa(t,n);a!==null&&hi(a,t,n),r0(t,n)}}var Zu=!0;function mj(t,n,a,o){var h=W.T;W.T=null;var p=le.p;try{le.p=2,o0(t,n,a,o)}finally{le.p=p,W.T=h}}function pj(t,n,a,o){var h=W.T;W.T=null;var p=le.p;try{le.p=8,o0(t,n,a,o)}finally{le.p=p,W.T=h}}function o0(t,n,a,o){if(Zu){var h=c0(o);if(h===null)Gh(t,n,o,Ju,a),wv(t,o);else if(yj(h,t,n,a,o))o.stopPropagation();else if(wv(t,o),n&4&&-1<gj.indexOf(t)){for(;h!==null;){var p=ht(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Je(p.pendingLanes);if(b!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var R=1<<31-_e(b);C.entanglements[1]|=R,b&=~R}xs(p),(At&6)===0&&(Ru=De()+500,Io(0))}}break;case 31:case 13:C=oa(p,2),C!==null&&hi(C,p,2),Ou(),r0(p,2)}if(p=c0(o),p===null&&Gh(t,n,o,Ju,a),p===h)break;h=p}h!==null&&o.stopPropagation()}else Gh(t,n,o,null,a)}}function c0(t){return t=io(t),u0(t)}var Ju=null;function u0(t){if(Ju=null,t=Ve(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ju=t,null}function bv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case it:return 2;case qe:return 8;case Pe:case mt:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var d0=!1,Tl=null,Ml=null,Al=null,qo=new Map,Go=new Map,El=[],gj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(t,n){switch(t){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":qo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(n.pointerId)}}function Wo(t,n,a,o,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:p,targetContainers:[h]},n!==null&&(n=ht(n),n!==null&&xv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function yj(t,n,a,o,h){switch(n){case"focusin":return Tl=Wo(Tl,t,n,a,o,h),!0;case"dragenter":return Ml=Wo(Ml,t,n,a,o,h),!0;case"mouseover":return Al=Wo(Al,t,n,a,o,h),!0;case"pointerover":var p=h.pointerId;return qo.set(p,Wo(qo.get(p)||null,t,n,a,o,h)),!0;case"gotpointercapture":return p=h.pointerId,Go.set(p,Wo(Go.get(p)||null,t,n,a,o,h)),!0}return!1}function _v(t){var n=Ve(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Sn(t.priority,function(){vv(a)});return}}else if(n===31){if(n=f(a),n!==null){t.blockedOn=n,Sn(t.priority,function(){vv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ed(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=c0(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Fa=o,a.target.dispatchEvent(o),Fa=null}else return n=ht(a),n!==null&&xv(n),t.blockedOn=a,!1;n.shift()}return!0}function Sv(t,n,a){ed(t)&&a.delete(n)}function xj(){d0=!1,Tl!==null&&ed(Tl)&&(Tl=null),Ml!==null&&ed(Ml)&&(Ml=null),Al!==null&&ed(Al)&&(Al=null),qo.forEach(Sv),Go.forEach(Sv)}function td(t,n){t.blockedOn===n&&(t.blockedOn=null,d0||(d0=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xj)))}var nd=null;function jv(t){nd!==t&&(nd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nd===t&&(nd=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(u0(o||a)===null)continue;break}var p=ht(a);p!==null&&(t.splice(n,3),n-=3,ch(p,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function br(t){function n(R){return td(R,t)}Tl!==null&&td(Tl,t),Ml!==null&&td(Ml,t),Al!==null&&td(Al,t),qo.forEach(n),Go.forEach(n);for(var a=0;a<El.length;a++){var o=El[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<El.length&&(a=El[0],a.blockedOn===null);)_v(a),a.blockedOn===null&&El.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],p=a[o+1],b=h[Qt]||null;if(typeof p=="function")b||jv(a);else if(b){var C=null;if(p&&p.hasAttribute("formAction")){if(h=p,b=p[Qt]||null)C=b.formAction;else if(u0(h)!==null)continue}else C=b.action;typeof C=="function"?a[o+1]=C:(a.splice(o,3),o-=3),jv(a)}}}function kv(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function f0(t){this._internalRoot=t}id.prototype.render=f0.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,o=Mi();gv(a,o,t,n,null,null)},id.prototype.unmount=f0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;gv(t.current,2,null,t,null,null),Ou(),n[Jn]=null}};function id(t){this._internalRoot=t}id.prototype.unstable_scheduleHydration=function(t){if(t){var n=Et();t={blockedOn:null,target:t,priority:n};for(var a=0;a<El.length&&n!==0&&n<El[a].priority;a++);El.splice(a,0,t),a===0&&_v(t)}};var Nv=e.version;if(Nv!=="19.2.3")throw Error(l(527,Nv,"19.2.3"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var vj={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{St=sd.inject(vj),Oe=sd}catch{}}return Ko.createRoot=function(t,n){if(!r(t))throw Error(l(299));var a=!1,o="",h=Dy,p=Py,b=Ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=mv(t,1,!1,null,null,a,o,null,h,p,b,kv),t[Jn]=n.current,qh(t),new f0(n)},Ko.hydrateRoot=function(t,n,a){if(!r(t))throw Error(l(299));var o=!1,h="",p=Dy,b=Py,C=Ry,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=mv(t,1,!0,n,a??null,o,h,R,p,b,C,kv),n.context=pv(null),a=n.current,o=Mi(),o=Kn(o),h=gl(o),h.callback=null,yl(a,h,o),a=o,n.current.lanes=a,We(n,a),xs(n),t[Jn]=n.current,qh(t),new id(n)},Ko.version="19.2.3",Ko}var Lv;function Tj(){if(Lv)return p0.exports;Lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),p0.exports=Cj(),p0.exports}var Mj=Tj();const Aj=ep(Mj),Ov=i=>{let e;const s=new Set,l=(g,y)=>{const x=typeof g=="function"?g(e):g;if(!Object.is(x,e)){const v=e;e=y??(typeof x!="object"||x===null)?x:Object.assign({},e,x),s.forEach(_=>_(e,v))}},r=()=>e,f={setState:l,getState:r,getInitialState:()=>m,subscribe:g=>(s.add(g),()=>s.delete(g))},m=e=i(l,r,f);return f},Ej=(i=>i?Ov(i):Ov),zj=i=>i;function Dj(i,e=zj){const s=dn.useSyncExternalStore(i.subscribe,dn.useCallback(()=>e(i.getState()),[i,e]),dn.useCallback(()=>e(i.getInitialState()),[i,e]));return dn.useDebugValue(s),s}const Vv=i=>{const e=Ej(i),s=l=>Dj(e,l);return Object.assign(s,e),s},Ns=(i=>i?Vv(i):Vv),Qn=Ns(i=>({viewMode:"full",menuQuarterMode:!1,showDebugBounds:!1,inspectMode:!1,showRuler:!1,showDevToolbar:!0,setViewMode:e=>{["full","half","quarter"].includes(e)&&(i({viewMode:e}),e==="full"&&i({menuQuarterMode:!1}))},toggleMenuQuarterMode:()=>i(e=>e.viewMode==="full"?e:{menuQuarterMode:!e.menuQuarterMode}),toggleDebugBounds:()=>i(e=>{const s=!e.showDebugBounds;return console.log("Debug bounds toggled:",s),{showDebugBounds:s}}),toggleInspectMode:()=>i(e=>{const s=!e.inspectMode;return console.log("Inspect mode toggled:",s),{inspectMode:s}}),toggleRuler:()=>i(e=>{const s=!e.showRuler;return console.log("Ruler toggled:",s),{showRuler:s}}),toggleDevToolbar:()=>i(e=>({showDevToolbar:!e.showDevToolbar}))}));function Pj(i,e){let s;try{s=i()}catch{return}return{getItem:r=>{var u;const d=m=>m===null?null:JSON.parse(m,void 0),f=(u=s.getItem(r))!=null?u:null;return f instanceof Promise?f.then(d):d(f)},setItem:(r,u)=>s.setItem(r,JSON.stringify(u,void 0)),removeItem:r=>s.removeItem(r)}}const rm=i=>e=>{try{const s=i(e);return s instanceof Promise?s:{then(l){return rm(l)(s)},catch(l){return this}}}catch(s){return{then(l){return this},catch(l){return rm(l)(s)}}}},Rj=(i,e)=>(s,l,r)=>{let u={storage:Pj(()=>localStorage),partialize:N=>N,version:0,merge:(N,k)=>({...k,...N}),...e},d=!1,f=0;const m=new Set,g=new Set;let y=u.storage;if(!y)return i((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),s(...N)},l,r);const x=()=>{const N=u.partialize({...l()});return y.setItem(u.name,{state:N,version:u.version})},v=r.setState;r.setState=(N,k)=>(v(N,k),x());const _=i((...N)=>(s(...N),x()),l,r);r.getInitialState=()=>_;let S;const w=()=>{var N,k;if(!y)return;const E=++f;d=!1,m.forEach(A=>{var z;return A((z=l())!=null?z:_)});const M=((k=u.onRehydrateStorage)==null?void 0:k.call(u,(N=l())!=null?N:_))||void 0;return rm(y.getItem.bind(y))(u.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==u.version){if(u.migrate){const z=u.migrate(A.state,A.version);return z instanceof Promise?z.then(O=>[!0,O]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var z;if(E!==f)return;const[O,F]=A;if(S=u.merge(F,(z=l())!=null?z:_),s(S,!0),O)return x()}).then(()=>{E===f&&(M?.(S,void 0),S=l(),d=!0,g.forEach(A=>A(S)))}).catch(A=>{E===f&&M?.(void 0,A)})};return r.persist={setOptions:N=>{u={...u,...N},N.storage&&(y=N.storage)},clearStorage:()=>{y?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>w(),hasHydrated:()=>d,onHydrate:N=>(m.add(N),()=>{m.delete(N)}),onFinishHydration:N=>(g.add(N),()=>{g.delete(N)})},u.skipHydration||w(),S||_},np=Rj,Oa=Ns(np(i=>({pinAnchorX:50,setPinAnchorX:e=>i({pinAnchorX:e}),pinAnchorY:0,setPinAnchorY:e=>i({pinAnchorY:e}),plusButtonX:100,setPlusButtonX:e=>i({plusButtonX:e}),plusButtonY:0,setPlusButtonY:e=>i({plusButtonY:e}),pinToggleY:0,setPinToggleY:e=>i({pinToggleY:e}),playlistToggleX:20,setPlaylistToggleX:e=>i({playlistToggleX:e}),playlistTabsX:0,setPlaylistTabsX:e=>i({playlistTabsX:e}),playlistInfoX:0,setPlaylistInfoX:e=>i({playlistInfoX:e}),playlistInfoWidth:200,setPlaylistInfoWidth:e=>i({playlistInfoWidth:e}),playlistCapsuleX:0,setPlaylistCapsuleX:e=>i({playlistCapsuleX:e}),playlistCapsuleY:0,setPlaylistCapsuleY:e=>i({playlistCapsuleY:e}),playlistCapsuleWidth:74,setPlaylistCapsuleWidth:e=>i({playlistCapsuleWidth:e}),playlistCapsuleHeight:32,setPlaylistCapsuleHeight:e=>i({playlistCapsuleHeight:e}),playlistChevronLeftX:0,setPlaylistChevronLeftX:e=>i({playlistChevronLeftX:e}),playlistPlayCircleX:0,setPlaylistPlayCircleX:e=>i({playlistPlayCircleX:e}),playlistChevronRightX:0,setPlaylistChevronRightX:e=>i({playlistChevronRightX:e}),orbImageScale:1,setOrbImageScale:e=>i({orbImageScale:e}),orbImageScaleW:1,setOrbImageScaleW:e=>i({orbImageScaleW:e}),orbImageScaleH:1,setOrbImageScaleH:e=>i({orbImageScaleH:e}),orbImageXOffset:0,setOrbImageXOffset:e=>i({orbImageXOffset:e}),orbImageYOffset:0,setOrbImageYOffset:e=>i({orbImageYOffset:e}),orbSize:150,setOrbSize:e=>i({orbSize:e}),orbMenuGap:30,setOrbMenuGap:e=>i({orbMenuGap:e}),menuWidth:340,setMenuWidth:e=>i({menuWidth:e}),menuHeight:102,setMenuHeight:e=>i({menuHeight:e}),modeHandleSize:20,setModeHandleSize:e=>i({modeHandleSize:e}),modeHandleInternalSize:14,setModeHandleInternalSize:e=>i({modeHandleInternalSize:e}),modeSwitcherX:-128,setModeSwitcherX:e=>i({modeSwitcherX:e}),videoChevronLeftX:-150,setVideoChevronLeftX:e=>i({videoChevronLeftX:e}),videoChevronRightX:-100,setVideoChevronRightX:e=>i({videoChevronRightX:e}),videoPlayButtonX:-65,setVideoPlayButtonX:e=>i({videoPlayButtonX:e}),starButtonX:-19,setStarButtonX:e=>i({starButtonX:e}),shuffleButtonX:22,setShuffleButtonX:e=>i({shuffleButtonX:e}),pinFirstButtonX:63,setPinFirstButtonX:e=>i({pinFirstButtonX:e}),likeButtonX:104,setLikeButtonX:e=>i({likeButtonX:e}),menuButtonX:280,setMenuButtonX:e=>i({menuButtonX:e}),tooltipButtonX:145,setTooltipButtonX:e=>i({tooltipButtonX:e}),customBannerImage:null,setCustomBannerImage:e=>i({customBannerImage:e}),customOrbImage:null,setCustomOrbImage:e=>i({customOrbImage:e}),isSpillEnabled:!1,setIsSpillEnabled:e=>i({isSpillEnabled:e}),orbSpill:{tl:!0,tr:!0,bl:!0,br:!0},setOrbSpill:e=>i({orbSpill:e}),pinFirstButtonSize:34,setPinFirstButtonSize:e=>i({pinFirstButtonSize:e}),dotMenuWidth:240,setDotMenuWidth:e=>i({dotMenuWidth:e}),dotMenuHeight:100,setDotMenuHeight:e=>i({dotMenuHeight:e}),dotMenuY:-80,setDotMenuY:e=>i({dotMenuY:e}),dotSize:32,setDotSize:e=>i({dotSize:e}),playlistHandleSize:26,setPlaylistHandleSize:e=>i({playlistHandleSize:e}),playlistPlayIconSize:14,setPlaylistPlayIconSize:e=>i({playlistPlayIconSize:e}),playlistChevronIconSize:14,setPlaylistChevronIconSize:e=>i({playlistChevronIconSize:e}),bottomBarHeight:40,setBottomBarHeight:e=>i({bottomBarHeight:e}),titleFontSize:16,setTitleFontSize:e=>i({titleFontSize:e}),metadataFontSize:11,setMetadataFontSize:e=>i({metadataFontSize:e}),pinSize:20,setPinSize:e=>i({pinSize:e}),pinWidth:40,setPinWidth:e=>i({pinWidth:e}),pinHeight:30,setPinHeight:e=>i({pinHeight:e}),bottomIconSize:34,setBottomIconSize:e=>i({bottomIconSize:e}),navChevronSize:20,setNavChevronSize:e=>i({navChevronSize:e}),orbButtonSpread:35,setOrbButtonSpread:e=>i({orbButtonSpread:e}),quickAssignColor:null,setQuickAssignColor:e=>i({quickAssignColor:e}),quickShuffleColor:"all",setQuickShuffleColor:e=>i({quickShuffleColor:e}),userName:"Boss",setUserName:e=>i({userName:e}),userAvatar:"(   )",setUserAvatar:e=>i({userAvatar:e}),bannerPattern:"diagonal",setBannerPattern:e=>i({bannerPattern:e}),customPageBannerImage:null,setCustomPageBannerImage:e=>i({customPageBannerImage:e}),playerBorderPattern:"diagonal",setPlayerBorderPattern:e=>i({playerBorderPattern:e}),visualizerGradient:!0,setVisualizerGradient:e=>i({visualizerGradient:e}),bannerHeight:0,setBannerHeight:e=>i({bannerHeight:e}),bannerBgSize:"100% auto",setBannerBgSize:e=>i({bannerBgSize:e})}),{name:"config-storage-v10"}));function Lj(i,e,s,l){if(typeof e=="function"?i!==e||!l:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(i):l?l.value:e.get(i)}function Oj(i,e,s,l,r){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,s),s}var yd;const ss="__TAURI_TO_IPC_KEY__";function Vj(i,e=!1){return window.__TAURI_INTERNALS__.transformCallback(i,e)}async function be(i,e={},s){return window.__TAURI_INTERNALS__.invoke(i,e,s)}let Bj=class{get rid(){return Lj(this,yd,"f")}constructor(e){yd.set(this,void 0),Oj(this,yd,e)}async close(){return be("plugin:resources|close",{rid:this.rid})}};yd=new WeakMap;let n2=class{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new ac(this.width*e,this.height*e)}[ss](){return{width:this.width,height:this.height}}toJSON(){return this[ss]()}},ac=class{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new n2(this.width/e,this.height/e)}[ss](){return{width:this.width,height:this.height}}toJSON(){return this[ss]()}},wr=class{constructor(e){this.size=e}toLogical(e){return this.size instanceof n2?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof ac?this.size:this.size.toPhysical(e)}[ss](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[ss]()}},i2=class{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new Pl(this.x*e,this.y*e)}[ss](){return{x:this.x,y:this.y}}toJSON(){return this[ss]()}},Pl=class{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new i2(this.x/e,this.y/e)}[ss](){return{x:this.x,y:this.y}}toJSON(){return this[ss]()}},ld=class{constructor(e){this.position=e}toLogical(e){return this.position instanceof i2?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof Pl?this.position:this.position.toPhysical(e)}[ss](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[ss]()}};var Ai;(function(i){i.WINDOW_RESIZED="tauri://resize",i.WINDOW_MOVED="tauri://move",i.WINDOW_CLOSE_REQUESTED="tauri://close-requested",i.WINDOW_DESTROYED="tauri://destroyed",i.WINDOW_FOCUS="tauri://focus",i.WINDOW_BLUR="tauri://blur",i.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",i.WINDOW_THEME_CHANGED="tauri://theme-changed",i.WINDOW_CREATED="tauri://window-created",i.WEBVIEW_CREATED="tauri://webview-created",i.DRAG_ENTER="tauri://drag-enter",i.DRAG_OVER="tauri://drag-over",i.DRAG_DROP="tauri://drag-drop",i.DRAG_LEAVE="tauri://drag-leave"})(Ai||(Ai={}));async function s2(i,e){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(i,e),await be("plugin:event|unlisten",{event:i,eventId:e})}async function ip(i,e,s){var l;const r=typeof s?.target=="string"?{kind:"AnyLabel",label:s.target}:(l=s?.target)!==null&&l!==void 0?l:{kind:"Any"};return be("plugin:event|listen",{event:i,target:r,handler:Vj(e)}).then(u=>async()=>s2(i,u))}async function Ij(i,e,s){return ip(i,l=>{s2(i,l.id),e(l)},s)}async function Fj(i,e){await be("plugin:event|emit",{event:i,payload:e})}async function Uj(i,e,s){await be("plugin:event|emit_to",{target:typeof i=="string"?{kind:"AnyLabel",label:i}:i,event:e,payload:s})}let $j=class xd extends Bj{constructor(e){super(e)}static async new(e,s,l){return be("plugin:image|new",{rgba:Md(e),width:s,height:l}).then(r=>new xd(r))}static async fromBytes(e){return be("plugin:image|from_bytes",{bytes:Md(e)}).then(s=>new xd(s))}static async fromPath(e){return be("plugin:image|from_path",{path:e}).then(s=>new xd(s))}async rgba(){return be("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return be("plugin:image|size",{rid:this.rid})}};function Md(i){return i==null?null:typeof i=="string"?i:i instanceof $j?i.rid:i}var om;(function(i){i[i.Critical=1]="Critical",i[i.Informational=2]="Informational"})(om||(om={}));let Hj=class{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}};var Bv;(function(i){i.None="none",i.Normal="normal",i.Indeterminate="indeterminate",i.Paused="paused",i.Error="error"})(Bv||(Bv={}));function Ll(){return new l2(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function v0(){return be("plugin:window|get_all_windows").then(i=>i.map(e=>new l2(e,{skip:!0})))}const b0=["tauri://created","tauri://error"];let l2=class{constructor(e,s={}){var l;this.label=e,this.listeners=Object.create(null),s?.skip||be("plugin:window|create",{options:{...s,parent:typeof s.parent=="string"?s.parent:(l=s.parent)===null||l===void 0?void 0:l.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async r=>this.emit("tauri://error",r))}static async getByLabel(e){var s;return(s=(await v0()).find(l=>l.label===e))!==null&&s!==void 0?s:null}static getCurrent(){return Ll()}static async getAll(){return v0()}static async getFocusedWindow(){for(const e of await v0())if(await e.isFocused())return e;return null}async listen(e,s){return this._handleTauriEvent(e,s)?()=>{const l=this.listeners[e];l.splice(l.indexOf(s),1)}:ip(e,s,{target:{kind:"Window",label:this.label}})}async once(e,s){return this._handleTauriEvent(e,s)?()=>{const l=this.listeners[e];l.splice(l.indexOf(s),1)}:Ij(e,s,{target:{kind:"Window",label:this.label}})}async emit(e,s){if(b0.includes(e)){for(const l of this.listeners[e]||[])l({event:e,id:-1,payload:s});return}return Fj(e,s)}async emitTo(e,s,l){if(b0.includes(s)){for(const r of this.listeners[s]||[])r({event:s,id:-1,payload:l});return}return Uj(e,s,l)}_handleTauriEvent(e,s){return b0.includes(e)?(e in this.listeners?this.listeners[e].push(s):this.listeners[e]=[s],!0):!1}async scaleFactor(){return be("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return be("plugin:window|inner_position",{label:this.label}).then(e=>new Pl(e))}async outerPosition(){return be("plugin:window|outer_position",{label:this.label}).then(e=>new Pl(e))}async innerSize(){return be("plugin:window|inner_size",{label:this.label}).then(e=>new ac(e))}async outerSize(){return be("plugin:window|outer_size",{label:this.label}).then(e=>new ac(e))}async isFullscreen(){return be("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return be("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return be("plugin:window|is_maximized",{label:this.label})}async isFocused(){return be("plugin:window|is_focused",{label:this.label})}async isDecorated(){return be("plugin:window|is_decorated",{label:this.label})}async isResizable(){return be("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return be("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return be("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return be("plugin:window|is_closable",{label:this.label})}async isVisible(){return be("plugin:window|is_visible",{label:this.label})}async title(){return be("plugin:window|title",{label:this.label})}async theme(){return be("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return be("plugin:window|is_always_on_top",{label:this.label})}async center(){return be("plugin:window|center",{label:this.label})}async requestUserAttention(e){let s=null;return e&&(e===om.Critical?s={type:"Critical"}:s={type:"Informational"}),be("plugin:window|request_user_attention",{label:this.label,value:s})}async setResizable(e){return be("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return be("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return be("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return be("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return be("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return be("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return be("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return be("plugin:window|maximize",{label:this.label})}async unmaximize(){return be("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return be("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return be("plugin:window|minimize",{label:this.label})}async unminimize(){return be("plugin:window|unminimize",{label:this.label})}async show(){return be("plugin:window|show",{label:this.label})}async hide(){return be("plugin:window|hide",{label:this.label})}async close(){return be("plugin:window|close",{label:this.label})}async destroy(){return be("plugin:window|destroy",{label:this.label})}async setDecorations(e){return be("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return be("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return be("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return be("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return be("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return be("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return be("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return be("plugin:window|set_size",{label:this.label,value:e instanceof wr?e:new wr(e)})}async setMinSize(e){return be("plugin:window|set_min_size",{label:this.label,value:e instanceof wr?e:e?new wr(e):null})}async setMaxSize(e){return be("plugin:window|set_max_size",{label:this.label,value:e instanceof wr?e:e?new wr(e):null})}async setSizeConstraints(e){function s(l){return l?{Logical:l}:null}return be("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:s(e?.minWidth),minHeight:s(e?.minHeight),maxWidth:s(e?.maxWidth),maxHeight:s(e?.maxHeight)}})}async setPosition(e){return be("plugin:window|set_position",{label:this.label,value:e instanceof ld?e:new ld(e)})}async setFullscreen(e){return be("plugin:window|set_fullscreen",{label:this.label,value:e})}async setSimpleFullscreen(e){return be("plugin:window|set_simple_fullscreen",{label:this.label,value:e})}async setFocus(){return be("plugin:window|set_focus",{label:this.label})}async setFocusable(e){return be("plugin:window|set_focusable",{label:this.label,value:e})}async setIcon(e){return be("plugin:window|set_icon",{label:this.label,value:Md(e)})}async setSkipTaskbar(e){return be("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return be("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return be("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return be("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return be("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return be("plugin:window|set_cursor_position",{label:this.label,value:e instanceof ld?e:new ld(e)})}async setIgnoreCursorEvents(e){return be("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return be("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return be("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setBadgeCount(e){return be("plugin:window|set_badge_count",{label:this.label,value:e})}async setBadgeLabel(e){return be("plugin:window|set_badge_label",{label:this.label,value:e})}async setOverlayIcon(e){return be("plugin:window|set_overlay_icon",{label:this.label,value:e?Md(e):void 0})}async setProgressBar(e){return be("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return be("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return be("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return be("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(Ai.WINDOW_RESIZED,s=>{s.payload=new ac(s.payload),e(s)})}async onMoved(e){return this.listen(Ai.WINDOW_MOVED,s=>{s.payload=new Pl(s.payload),e(s)})}async onCloseRequested(e){return this.listen(Ai.WINDOW_CLOSE_REQUESTED,async s=>{const l=new Hj(s);await e(l),l.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){const s=await this.listen(Ai.DRAG_ENTER,d=>{e({...d,payload:{type:"enter",paths:d.payload.paths,position:new Pl(d.payload.position)}})}),l=await this.listen(Ai.DRAG_OVER,d=>{e({...d,payload:{type:"over",position:new Pl(d.payload.position)}})}),r=await this.listen(Ai.DRAG_DROP,d=>{e({...d,payload:{type:"drop",paths:d.payload.paths,position:new Pl(d.payload.position)}})}),u=await this.listen(Ai.DRAG_LEAVE,d=>{e({...d,payload:{type:"leave"}})});return()=>{s(),r(),l(),u()}}async onFocusChanged(e){const s=await this.listen(Ai.WINDOW_FOCUS,r=>{e({...r,payload:!0})}),l=await this.listen(Ai.WINDOW_BLUR,r=>{e({...r,payload:!1})});return()=>{s(),l()}}async onScaleChanged(e){return this.listen(Ai.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(Ai.WINDOW_THEME_CHANGED,e)}};var Iv;(function(i){i.Disabled="disabled",i.Throttle="throttle",i.Suspend="suspend"})(Iv||(Iv={}));var Fv;(function(i){i.Default="default",i.FluentOverlay="fluentOverlay"})(Fv||(Fv={}));var Uv;(function(i){i.AppearanceBased="appearanceBased",i.Light="light",i.Dark="dark",i.MediumLight="mediumLight",i.UltraDark="ultraDark",i.Titlebar="titlebar",i.Selection="selection",i.Menu="menu",i.Popover="popover",i.Sidebar="sidebar",i.HeaderView="headerView",i.Sheet="sheet",i.WindowBackground="windowBackground",i.HudWindow="hudWindow",i.FullScreenUI="fullScreenUI",i.Tooltip="tooltip",i.ContentBackground="contentBackground",i.UnderWindowBackground="underWindowBackground",i.UnderPageBackground="underPageBackground",i.Mica="mica",i.Blur="blur",i.Acrylic="acrylic",i.Tabbed="tabbed",i.TabbedDark="tabbedDark",i.TabbedLight="tabbedLight"})(Uv||(Uv={}));var $v;(function(i){i.FollowsWindowActiveState="followsWindowActiveState",i.Active="active",i.Inactive="inactive"})($v||($v={}));const Yj=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xj=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,l)=>l?l.toUpperCase():s.toLowerCase()),Hv=i=>{const e=Xj(i);return e.charAt(0).toUpperCase()+e.slice(1)},a2=(...i)=>i.filter((e,s,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===s).join(" ").trim(),qj=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Gj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wj=j.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:r="",children:u,iconNode:d,...f},m)=>j.createElement("svg",{ref:m,...Gj,width:e,height:e,stroke:i,strokeWidth:l?Number(s)*24/Number(e):s,className:a2("lucide",r),...!u&&!qj(f)&&{"aria-hidden":"true"},...f},[...d.map(([g,y])=>j.createElement(g,y)),...Array.isArray(u)?u:[u]]));const nt=(i,e)=>{const s=j.forwardRef(({className:l,...r},u)=>j.createElement(Wj,{ref:u,iconNode:e,className:a2(`lucide-${Yj(Hv(i))}`,`lucide-${i}`,l),...r}));return s.displayName=Hv(i),s};const Qj=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Kj=nt("book",Qj);const Zj=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Yv=nt("box",Zj);const Jj=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],e5=nt("cat",Jj);const t5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rc=nt("check",t5);const n5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xv=nt("chevron-down",n5);const i5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Br=nt("chevron-left",i5);const s5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xc=nt("chevron-right",s5);const l5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qv=nt("chevron-up",l5);const a5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],r5=nt("circle-check",a5);const o5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c5=nt("circle",o5);const u5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ad=nt("clock",u5);const d5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],f5=nt("copy",d5);const h5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],m5=nt("ellipsis",h5);const p5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cm=nt("external-link",p5);const g5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],w0=nt("eye-off",g5);const y5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vd=nt("eye",y5);const x5=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],v5=nt("github",x5);const b5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],w5=nt("heart",b5);const _5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_0=nt("image",_5);const S5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],j5=nt("info",S5);const k5=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],N5=nt("library",k5);const C5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],T5=nt("maximize-2",C5);const M5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],A5=nt("menu",M5);const E5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],z5=nt("message-circle",E5);const D5=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],P5=nt("minimize-2",D5);const R5=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],L5=nt("minimize",R5);const O5=[["path",{d:"M5 12h14",key:"1ays0h"}]],V5=nt("minus",O5);const B5=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],I5=nt("music",B5);const F5=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],S0=nt("palette",F5);const U5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],$5=nt("panels-top-left",U5);const H5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Y5=nt("pen",H5);const X5=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],kr=nt("pin",X5);const q5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vc=nt("play",q5);const G5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],W5=nt("save",G5);const Q5=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],K5=nt("scissors",Q5);const Z5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],J5=nt("search",Z5);const e4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r2=nt("settings",e4);const t4=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],um=nt("shuffle",t4);const n4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],j0=nt("smile",n4);const i4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],s4=nt("square",i4);const l4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],k0=nt("star",l4);const a4=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Gv=nt("thumbs-up",a4);const r4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],o4=nt("twitter",r4);const c4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wv=nt("upload",c4);const u4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qv=nt("user",u4);const d4=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Kv=nt("video",d4);const f4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Zv=nt("volume-2",f4);const h4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nr=nt("x",h4);const m4=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],p4=nt("youtube",m4),g4=()=>{const[i,e]=j.useState(!1);j.useEffect(()=>{const u=async()=>{try{const f=Ll();e(await f.isMaximized())}catch(f){console.error("Failed to get window state:",f)}};u();const d=()=>u();return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const s=async()=>{try{await Ll().minimize()}catch(u){console.error(u)}},l=async()=>{try{const u=Ll();await u.isMaximized()?(await u.unmaximize(),e(!1)):(await u.maximize(),e(!0))}catch(u){console.error(u)}},r=async()=>{try{await Ll().close()}catch(u){console.error(u)}};return c.jsxs("div",{className:"flex items-center gap-1 z-[99999] absolute top-2 right-2 text-white/50 hover:text-white/90 transition-colors pointer-events-auto no-drag",children:[c.jsx("button",{onClick:s,className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",title:"Minimize",children:c.jsx(V5,{size:18,strokeWidth:3})}),c.jsx("button",{onClick:l,className:"p-1.5 hover:bg-white/10 rounded-full transition-colors",title:i?"Restore":"Maximize",children:i?c.jsx(L5,{size:18,strokeWidth:3}):c.jsx(s4,{size:16,strokeWidth:3})}),c.jsx("button",{onClick:r,className:"p-1.5 hover:bg-rose-500/20 hover:text-rose-400 rounded-full transition-colors",title:"Close",children:c.jsx(Nr,{size:18,strokeWidth:3})})]})},y4=({topController:i,mainPlayer:e,sideMenu:s,miniHeader:l,animatedMenu:r,spacerMenu:u,menuSpacerMenu:d,secondPlayer:f})=>{const{viewMode:m,menuQuarterMode:g,showDebugBounds:y}=Qn(),{customBannerImage:x,playerBorderPattern:v}=Oa();dn.useEffect(()=>{y&&(m==="full"||m==="half")&&console.log("Second player should be visible - viewMode:",m,"showDebugBounds:",y)},[m,y]);const _=x?.startsWith("data:image/gif");return c.jsxs("div",{className:`layout-shell layout-shell--${m} ${g?"layout-shell--menu-quarter":""} ${y?"layout-shell--debug":""}`,children:[c.jsxs("div",{id:"top-controller-anchor",className:`layout-shell__top-controller ${y?"debug-bounds debug-bounds--top-controller":""}`,"data-debug-label":"Top Controller","data-tauri-drag-region":!0,style:{...x?{backgroundImage:`url(${x})`}:{},..._?{animation:"none"}:{}},children:[c.jsx(g4,{}),!y&&c.jsx("div",{className:"layout-shell__top-controller-wrapper",children:i||c.jsxs("div",{className:"placeholder placeholder--top-controller",children:[c.jsx("span",{className:"placeholder__label",children:"Top Controller"}),c.jsx("span",{className:"placeholder__subtitle",children:"Orb Controller Slot"})]})}),c.jsx("div",{className:`layout-shell__separator pattern-${v||"diagonal"}`})]}),r&&c.jsx("div",{style:{position:"fixed",top:"0",left:"0",width:"50vw",height:"200px",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"20px",zIndex:1001,pointerEvents:"auto"},children:r}),c.jsxs("div",{className:"layout-shell__content",children:[m==="quarter"&&c.jsx("div",{className:`layout-shell__spacer ${y?"debug-bounds debug-bounds--spacer":""}`,"data-debug-label":"Spacer",style:{position:"relative",overflow:"hidden"},children:u||y&&c.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:"12px"},children:"Spacer (no menu)"})}),g&&c.jsx("div",{className:`layout-shell__menu-spacer ${y?"debug-bounds debug-bounds--menu-spacer":""}`,"data-debug-label":"Menu Spacer",style:{position:"relative",overflow:"hidden"},children:d||y&&c.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:"12px"},children:"Menu Spacer (no menu)"})}),c.jsxs("div",{className:`layout-shell__player layout-shell__player--${m} pattern-${v||"diagonal"} ${y?"debug-bounds debug-bounds--player":""}`,"data-debug-label":"Main Player",style:{position:"relative",overflow:y?"visible":void 0},children:[!y&&c.jsx(c.Fragment,{children:e||c.jsxs("div",{className:"placeholder placeholder--player",children:[c.jsx("span",{className:"placeholder__label",children:"Main Player"}),c.jsxs("span",{className:"placeholder__subtitle",children:[m.toUpperCase()," View"]})]})}),(m==="full"||m==="half"||y)&&c.jsx("div",{className:`layout-shell__second-player layout-shell__second-player--${m} ${y?"debug-bounds debug-bounds--second-player":""}`,"data-debug-label":"Second Player",style:{position:"absolute",bottom:"0px",left:"0px",right:"auto",top:"auto",width:"50%",height:"50%",zIndex:y?1e4:10,...y&&{backgroundColor:"rgba(251, 191, 36, 0.5)",border:"6px solid #fbbf24"}},children:y?c.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:"12px",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.8)",zIndex:1001},children:"Second Player (no content)"}):c.jsx(c.Fragment,{children:f||c.jsxs("div",{className:"placeholder placeholder--second-player",children:[c.jsx("span",{className:"placeholder__label",children:"Second Player"}),c.jsx("span",{className:"placeholder__subtitle",children:"Bottom Left Quarter"})]})})})]}),(m==="half"||m==="quarter")&&c.jsxs("div",{className:`layout-shell__side-menu ${y?"debug-bounds debug-bounds--side-menu":""}`,"data-debug-label":"Side Menu",children:[c.jsx("div",{className:`layout-shell__mini-header ${y?"debug-bounds debug-bounds--mini-header":""}`,"data-debug-label":"Mini Header",children:!y&&c.jsx(c.Fragment,{children:l||c.jsxs("div",{className:"placeholder placeholder--mini-header",children:[c.jsx("span",{className:"placeholder__label",children:"Mini Header"}),c.jsx("span",{className:"placeholder__subtitle",children:"Navigation Bar"})]})})}),c.jsx("div",{className:`layout-shell__side-menu-content ${y?"debug-bounds debug-bounds--side-menu-content":""}`,"data-debug-label":"Side Menu Content",children:!y&&c.jsx(c.Fragment,{children:s||c.jsxs("div",{className:"placeholder placeholder--side-menu",children:[c.jsx("span",{className:"placeholder__label",children:"Side Menu"}),c.jsx("span",{className:"placeholder__subtitle",children:"Playlists, File Nav, etc."})]})})})]})]})]})},Di=Ns((i,e)=>({showPlaylists:!1,currentPlaylistItems:[],currentPlaylistId:null,currentVideoIndex:0,allPlaylists:[],currentPlaylistIndex:-1,navigationItems:[],currentNavigationIndex:-1,currentFolder:null,currentPlaylistTitle:null,setShowPlaylists:s=>i({showPlaylists:s}),setPlaylistItems:(s,l=null,r=null,u=null)=>{const d=e();let f=d.currentPlaylistIndex,m=0,g=u;if(!g&&l&&d.allPlaylists.length>0){const x=d.allPlaylists.find(v=>v.id===l);x&&(g=x.name)}if(!g&&d.currentPlaylistId&&String(l)===String(d.currentPlaylistId)&&(g=d.currentPlaylistTitle),l&&!r&&d.allPlaylists.length>0){const x=d.allPlaylists.findIndex(v=>v.id===l);x>=0&&(f=x)}if(l&&s.length>0)try{const x=localStorage.getItem(`shuffled_order_${l}`);if(x){const v=JSON.parse(x),_=new Map(s.map(A=>[A.id,A])),S=v.map(A=>_.get(A)).filter(Boolean),w=new Set(v),N=s.filter(A=>!w.has(A.id)),k=[...S,...N],E=localStorage.getItem(`last_video_index_${l}`);if(E!==null){const A=parseInt(E,10);A>=0&&A<k.length&&(m=A)}let M=-1;l&&(M=d.navigationItems.findIndex(A=>A.type==="playlist"&&A.data.id===l)),i({currentPlaylistItems:k,currentPlaylistId:l,currentVideoIndex:m,currentPlaylistIndex:f,currentFolder:null,currentNavigationIndex:M,currentNavigationIndex:M,currentPlaylistTitle:g});return}}catch(x){console.error("Failed to load shuffled order:",x)}if(l&&s.length>0)try{const x=localStorage.getItem(`last_video_index_${l}`);if(x!==null){const v=parseInt(x,10);v>=0&&v<s.length&&(m=v)}}catch(x){console.error("Failed to load last video index:",x)}let y=-1;r?y=d.navigationItems.findIndex(x=>x.type==="folder"&&x.data.playlist_id===r.playlist_id&&x.data.folder_color===r.folder_color):l&&(y=d.navigationItems.findIndex(x=>x.type==="playlist"&&x.data.id===l)),i({currentPlaylistItems:s,currentPlaylistId:l,currentVideoIndex:m,currentPlaylistIndex:f,currentFolder:r||null,currentNavigationIndex:y,currentNavigationIndex:y,currentPlaylistTitle:g})},setAllPlaylists:s=>{i({allPlaylists:s});const l=e();if(l.currentPlaylistId&&s.length>0){const r=s.findIndex(u=>u.id===l.currentPlaylistId);r>=0&&i({currentPlaylistIndex:r})}},buildNavigationItems:(s,l)=>{const r=[],u=new Map;return l.forEach(d=>{u.has(d.playlist_id)||u.set(d.playlist_id,[]),u.get(d.playlist_id).push(d)}),u.forEach((d,f)=>{d.sort((m,g)=>m.folder_color.localeCompare(g.folder_color))}),s.forEach(d=>{r.push({type:"playlist",data:d}),(u.get(d.id)||[]).forEach(m=>{r.push({type:"folder",data:m})})}),r},setNavigationItems:s=>{i({navigationItems:s});const l=e();if(console.log("[DEBUG_FLAG] setNavigationItems:",{count:s.length,currentCtxt:l.currentPlaylistId}),l.currentFolder){const r=s.findIndex(u=>u.type==="folder"&&u.data.playlist_id===l.currentFolder.playlist_id&&u.data.folder_color===l.currentFolder.folder_color);if(r>=0){i({currentNavigationIndex:r}),console.log("[DEBUG_FLAG] setNavigationItems matched folder at",r);return}}if(l.currentPlaylistId){const r=s.findIndex(u=>u.type==="playlist"&&u.data.id===l.currentPlaylistId);if(r>=0){i({currentNavigationIndex:r}),console.log("[DEBUG_FLAG] setNavigationItems matched playlist at",r);return}}console.log("[DEBUG_FLAG] setNavigationItems no match, reset index"),i({currentNavigationIndex:-1})},setCurrentFolder:s=>{i({currentFolder:s})},setCurrentVideoIndex:s=>{const l=e();if(i({currentVideoIndex:s}),l.currentPlaylistId)try{localStorage.setItem(`last_video_index_${l.currentPlaylistId}`,s.toString())}catch(r){console.error("Failed to save last video index:",r)}},getCurrentVideo:()=>{const s=e();return s.currentPlaylistItems.length===0?null:s.currentPlaylistItems[s.currentVideoIndex]||s.currentPlaylistItems[0]},nextVideo:()=>{const s=e();if(s.currentPlaylistItems.length===0)return;const l=(s.currentVideoIndex+1)%s.currentPlaylistItems.length;if(i({currentVideoIndex:l}),s.currentPlaylistId)try{localStorage.setItem(`last_video_index_${s.currentPlaylistId}`,l.toString())}catch(r){console.error("Failed to save last video index:",r)}},previousVideo:()=>{const s=e();if(s.currentPlaylistItems.length===0)return;const l=s.currentVideoIndex===0?s.currentPlaylistItems.length-1:s.currentVideoIndex-1;if(i({currentVideoIndex:l}),s.currentPlaylistId)try{localStorage.setItem(`last_video_index_${s.currentPlaylistId}`,l.toString())}catch(r){console.error("Failed to save last video index:",r)}},nextPlaylist:()=>{const s=e();if(s.navigationItems.length===0)return null;const l=s.currentNavigationIndex<0?0:(s.currentNavigationIndex+1)%s.navigationItems.length;console.log("[DEBUG_FLAG] nextPlaylist Trace:",{currentIndex:s.currentNavigationIndex,nextIndex:l,totalItems:s.navigationItems.length,nextItemType:s.navigationItems[l]?.type});const r=s.navigationItems[l];return r?(r.type==="playlist"?i({currentNavigationIndex:l,currentPlaylistIndex:s.allPlaylists.findIndex(u=>u.id===r.data.id),currentFolder:null}):i({currentNavigationIndex:l,currentPlaylistIndex:-1,currentFolder:{playlist_id:r.data.playlist_id,folder_color:r.data.folder_color}}),r):null},previousPlaylist:()=>{const s=e();if(s.navigationItems.length===0)return null;const l=s.currentNavigationIndex<=0?s.navigationItems.length-1:s.currentNavigationIndex-1,r=s.navigationItems[l];return r?(r.type==="playlist"?i({currentNavigationIndex:l,currentPlaylistIndex:s.allPlaylists.findIndex(u=>u.id===r.data.id),currentFolder:null}):i({currentNavigationIndex:l,currentPlaylistIndex:-1,currentFolder:{playlist_id:r.data.playlist_id,folder_color:r.data.folder_color}}),r):null},shufflePlaylist:()=>{const s=e();if(s.currentPlaylistItems.length===0)return;const l=[...s.currentPlaylistItems];for(let u=l.length-1;u>0;u--){const d=Math.floor(Math.random()*(u+1));[l[u],l[d]]=[l[d],l[u]]}const r=Math.floor(Math.random()*l.length);if(i({currentPlaylistItems:l,currentVideoIndex:r}),s.currentPlaylistId)try{localStorage.setItem(`last_video_index_${s.currentPlaylistId}`,r.toString()),localStorage.setItem(`shuffled_order_${s.currentPlaylistId}`,JSON.stringify(l.map(u=>u.id)))}catch(u){console.error("Failed to save shuffled order:",u)}return l[r]},previewPlaylistItems:null,previewPlaylistId:null,previewFolderInfo:null,setPreviewPlaylist:(s,l,r=null)=>{i({previewPlaylistItems:s,previewPlaylistId:l,previewFolderInfo:r})},clearPreview:()=>{i({previewPlaylistItems:null,previewPlaylistId:null,previewFolderInfo:null})}})),Gr=Ns(i=>({currentPage:"playlists",history:[],setCurrentPage:e=>i(s=>s.currentPage===e?s:{history:[...s.history,s.currentPage],currentPage:e}),goBack:()=>i(e=>{if(e.history.length===0)return e;const s=e.history[e.history.length-1],l=e.history.slice(0,-1);return{currentPage:s,history:l}})})),Na=Ns(np((i,e)=>({...{pinnedVideos:[],priorityPinIds:[]},_sortPinsWithPriority:(l,r)=>{if(!r||r.length===0)return l;const u=[],d=[];return l.forEach(f=>{r.includes(f.id)?u.push(f):d.push(f)}),u.sort((f,m)=>r.indexOf(f.id)-r.indexOf(m.id)),[...u,...d]},getPinInfo:l=>{const r=e(),u=r.pinnedVideos.find(f=>f.id===l&&!r.priorityPinIds.includes(f.id)),d=r.priorityPinIds.includes(l);return{isPinned:!!u,isPriority:d,pinnedAt:u?u.pinnedAt:null}},togglePin:l=>{const r=e(),u=r.priorityPinIds.includes(l.id),d=r.pinnedVideos.some(f=>f.id===l.id)&&!u;if(u){const f=r.priorityPinIds.filter(g=>g!==l.id),m=r.pinnedVideos.filter(g=>g.id!==l.id);i({pinnedVideos:m,priorityPinIds:f})}else if(d){const f=r.pinnedVideos.filter(m=>m.id!==l.id);i({pinnedVideos:f})}else{const f=r.priorityPinIds.filter(y=>y!==l.id),m={...l,pinnedAt:Date.now()},g=[...r.pinnedVideos,m];i({pinnedVideos:e()._sortPinsWithPriority(g,f),priorityPinIds:f})}},isPinned:l=>{const r=e();return r.pinnedVideos.some(u=>u.id===l)&&!r.priorityPinIds.includes(l)},isPriorityPin:l=>e().priorityPinIds.includes(l),removePin:l=>{const r=e(),u=r.pinnedVideos.filter(f=>f.id!==l),d=r.priorityPinIds.filter(f=>f!==l);i({pinnedVideos:u,priorityPinIds:d})},clearAllPins:()=>{i({pinnedVideos:[],priorityPinIds:[]})},togglePriorityPin:l=>{const r=e();if(r.priorityPinIds.includes(l.id)){const d=r.priorityPinIds.filter(m=>m!==l.id),f=r.pinnedVideos.filter(m=>m.id!==l.id);i({priorityPinIds:d,pinnedVideos:f})}else{const d=[l.id,...r.priorityPinIds];let f=r.pinnedVideos;r.pinnedVideos.find(g=>g.id===l.id)||(f=[l,...r.pinnedVideos]),i({priorityPinIds:d,pinnedVideos:e()._sortPinsWithPriority(f,d)})}},checkExpiration:()=>{const l=e(),r=Date.now(),u=1440*60*1e3,d=l.pinnedVideos.filter(f=>l.priorityPinIds.includes(f.id)?!0:!(f.pinnedAt&&r-f.pinnedAt>u));d.length!==l.pinnedVideos.length&&(i({pinnedVideos:d}),console.log(`[PinStore] Removed ${l.pinnedVideos.length-d.length} expired pins.`))}}),{name:"pin-storage",partialize:i=>({pinnedVideos:i.pinnedVideos,priorityPinIds:i.priorityPinIds})})),Ot=[{id:"red",name:"Red",hex:"#ef4444",rgb:"rgb(239, 68, 68)"},{id:"orange",name:"Orange",hex:"#f97316",rgb:"rgb(249, 115, 22)"},{id:"amber",name:"Amber",hex:"#f59e0b",rgb:"rgb(245, 158, 11)"},{id:"yellow",name:"Yellow",hex:"#eab308",rgb:"rgb(234, 179, 8)"},{id:"lime",name:"Lime",hex:"#84cc16",rgb:"rgb(132, 204, 22)"},{id:"green",name:"Green",hex:"#22c55e",rgb:"rgb(34, 197, 94)"},{id:"emerald",name:"Emerald",hex:"#10b981",rgb:"rgb(16, 185, 129)"},{id:"teal",name:"Teal",hex:"#14b8a6",rgb:"rgb(20, 184, 166)"},{id:"cyan",name:"Cyan",hex:"#06b6d4",rgb:"rgb(6, 182, 212)"},{id:"sky",name:"Sky",hex:"#0ea5e9",rgb:"rgb(14, 165, 233)"},{id:"blue",name:"Blue",hex:"#3b82f6",rgb:"rgb(59, 130, 246)"},{id:"indigo",name:"Indigo",hex:"#6366f1",rgb:"rgb(99, 102, 241)"},{id:"violet",name:"Violet",hex:"#8b5cf6",rgb:"rgb(139, 92, 246)"},{id:"purple",name:"Purple",hex:"#a855f7",rgb:"rgb(168, 85, 247)"},{id:"fuchsia",name:"Fuchsia",hex:"#d946ef",rgb:"rgb(217, 70, 239)"},{id:"pink",name:"Pink",hex:"#ec4899",rgb:"rgb(236, 72, 153)"}],Gs=i=>Ot.find(e=>e.id===i)||Ot[0],x4=()=>{try{return localStorage.getItem("quickAssignFolder")||Ot[0].id}catch{return Ot[0].id}},v4=i=>{try{localStorage.setItem("quickAssignFolder",i)}catch(e){console.error("Failed to save quick assign folder:",e)}},Pc=Ns(i=>({selectedFolder:null,setSelectedFolder:e=>i({selectedFolder:e}),quickAssignFolder:x4(),setQuickAssignFolder:e=>{v4(e),i({quickAssignFolder:e})},videoFolderAssignments:{},setVideoFolders:(e,s)=>i(l=>({videoFolderAssignments:{...l.videoFolderAssignments,[e]:s}})),loadVideoFolders:e=>{const s={};Object.entries(e).forEach(([l,r])=>{s[l]=r}),i({videoFolderAssignments:s})},clearAssignments:()=>i({videoFolderAssignments:{}}),showColoredFolders:!1,setShowColoredFolders:e=>i({showColoredFolders:e}),bulkTagMode:!1,setBulkTagMode:e=>i({bulkTagMode:e}),bulkTagSelections:{},addBulkTagSelection:(e,s)=>i(l=>{const r=l.bulkTagSelections[e]||new Set,u=new Set(r);return u.add(s),{bulkTagSelections:{...l.bulkTagSelections,[e]:u}}}),removeBulkTagSelection:(e,s)=>i(l=>{const r=l.bulkTagSelections[e];if(!r)return l;const u=new Set(r);if(u.delete(s),u.size===0){const{[e]:d,...f}=l.bulkTagSelections;return{bulkTagSelections:f}}return{bulkTagSelections:{...l.bulkTagSelections,[e]:u}}}),toggleBulkTagSelection:(e,s)=>i(l=>{const r=l.bulkTagSelections[e]||new Set;if(r.has(s)){const d=new Set(r);if(d.delete(s),d.size===0){const{[e]:f,...m}=l.bulkTagSelections;return{bulkTagSelections:m}}return{bulkTagSelections:{...l.bulkTagSelections,[e]:d}}}else{const d=new Set(r);return d.add(s),{bulkTagSelections:{...l.bulkTagSelections,[e]:d}}}}),clearBulkTagSelections:()=>i({bulkTagSelections:{}})})),b4=()=>{try{const i=localStorage.getItem("playlistTabs");return i?JSON.parse(i):[{id:"all",name:"All",playlistIds:[]}]}catch{return[{id:"all",name:"All",playlistIds:[]}]}},Zo=i=>{try{localStorage.setItem("playlistTabs",JSON.stringify(i))}catch(e){console.error("Failed to save tabs:",e)}},Rc=Ns((i,e)=>({tabs:b4(),activeTabId:"all",setActiveTab:s=>{i({activeTabId:s});try{localStorage.setItem("activeTabId",s)}catch(l){console.error("Failed to save active tab:",l)}},createTab:s=>{const l=e(),r={id:`tab-${Date.now()}`,name:s||`Tab ${l.tabs.length}`,playlistIds:[]},u=[...l.tabs,r];return Zo(u),i({tabs:u,activeTabId:r.id}),r.id},deleteTab:s=>{if(s==="all")return;const l=e(),r=l.tabs.filter(d=>d.id!==s);Zo(r);const u=l.activeTabId===s?"all":l.activeTabId;i({tabs:r,activeTabId:u});try{localStorage.setItem("activeTabId",u)}catch(d){console.error("Failed to save active tab:",d)}},addPlaylistToTab:(s,l)=>{if(s==="all")return;const u=e().tabs.map(d=>d.id===s&&!d.playlistIds.some(f=>String(f)===String(l))?{...d,playlistIds:[...d.playlistIds,l]}:d);Zo(u),i({tabs:u})},removePlaylistFromTab:(s,l)=>{if(s==="all")return;const u=e().tabs.map(d=>d.id===s?{...d,playlistIds:d.playlistIds.filter(f=>String(f)!==String(l))}:d);Zo(u),i({tabs:u})},renameTab:(s,l)=>{if(s==="all")return;const u=e().tabs.map(d=>d.id===s?{...d,name:l}:d);Zo(u),i({tabs:u})}})),w4=()=>{try{return localStorage.getItem("activeTabId")||"all"}catch{return"all"}},Jv=w4();Jv!=="all"&&Rc.getState().setActiveTab(Jv);const _4=()=>{try{const i=localStorage.getItem("tabPresets");return i?JSON.parse(i):[{id:"all",name:"All",tabIds:[]}]}catch{return[{id:"all",name:"All",tabIds:[]}]}},N0=i=>{try{localStorage.setItem("tabPresets",JSON.stringify(i))}catch(e){console.error("Failed to save presets:",e)}},Lc=Ns((i,e)=>({presets:_4(),activePresetId:"all",setActivePreset:s=>{i({activePresetId:s});try{localStorage.setItem("activePresetId",s)}catch(l){console.error("Failed to save active preset:",l)}},createPreset:(s,l)=>{const r=e(),u={id:`preset-${Date.now()}`,name:s||`Preset ${r.presets.length}`,tabIds:l||[]},d=[...r.presets,u];return N0(d),i({presets:d,activePresetId:u.id}),u.id},deletePreset:s=>{if(s==="all")return;const l=e(),r=l.presets.filter(d=>d.id!==s);N0(r);const u=l.activePresetId===s?"all":l.activePresetId;i({presets:r,activePresetId:u});try{localStorage.setItem("activePresetId",u)}catch(d){console.error("Failed to save active preset:",d)}},updatePreset:(s,l,r)=>{if(s==="all")return;const d=e().presets.map(f=>f.id===s?{...f,name:l||f.name,tabIds:r!==void 0?r:f.tabIds}:f);N0(d),i({presets:d})}})),S4=()=>{try{return localStorage.getItem("activePresetId")||"all"}catch{return"all"}},eb=S4();eb!=="all"&&Lc.getState().setActivePreset(eb);const Pr=async(i,e=null)=>await be("create_playlist",{name:i,description:e}),Nn=async()=>{try{const i=await be("get_all_playlists");return console.log("getAllPlaylists API result:",i),i||[]}catch(i){throw console.error("Error in getAllPlaylists API:",i),i}},j4=async()=>{try{return await be("get_all_playlist_metadata")||[]}catch(i){throw console.error("Error in getAllPlaylistMetadata API:",i),i}},k4=async i=>await be("get_playlist",{id:i}),tb=async(i,e=null,s=null,l=null,r=null)=>await be("update_playlist",{id:i,name:e,description:s,customAscii:l,customThumbnailUrl:r}),N4=async i=>await be("delete_playlist",{id:i}),C4=async i=>await be("delete_playlist_by_name",{name:i}),Ir=async(i,e,s,l,r,u,d,f,m=!1)=>{try{return await be("add_video_to_playlist",{playlistId:i,videoUrl:e,videoId:s,title:l,thumbnailUrl:r,isLocal:m,author:u,viewCount:d,publishedAt:f})}catch(g){throw console.error("Failed to add video to playlist:",g),g}},Vt=async i=>{try{const e=await be("get_playlist_items",{playlistId:i});return console.log("getPlaylistItems API result:",e),e||[]}catch(e){throw console.error("Error in getPlaylistItems API:",e),e}},T4=async i=>{try{const e=await be("get_playlists_for_video_ids",{videoIds:i});return console.log("getPlaylistsForVideoIds API result:",e),e||{}}catch(e){throw console.error("Error in getPlaylistsForVideoIds API:",e),e}},dm=async(i,e)=>await be("remove_video_from_playlist",{playlistId:i,itemId:e}),Aa=async(i,e,s)=>await be("assign_video_to_folder",{playlistId:i,itemId:e,folderColor:s}),bd=async(i,e,s)=>await be("unassign_video_from_folder",{playlistId:i,itemId:e,folderColor:s}),Mn=async(i,e)=>await be("get_videos_in_folder",{playlistId:i,folderColor:e}),fm=async(i,e)=>await be("get_video_folder_assignments",{playlistId:i,itemId:e}),M4=async i=>{try{return await be("get_all_folder_assignments",{playlistId:i})||{}}catch(e){throw console.error("Error in getAllFolderAssignments API:",e),e}},Ea=async()=>await be("get_all_folders_with_videos"),hm=async i=>{try{return await be("get_folders_for_playlist",{playlistId:i})||[]}catch(e){throw console.error("Error in getFoldersForPlaylist API:",e),e}},A4=async(i,e)=>await be("toggle_stuck_folder",{playlistId:i,folderColor:e}),o2=async()=>{try{return await be("get_all_stuck_folders")||[]}catch(i){throw console.error("Error in getAllStuckFolders API:",i),i}},c2=async(i,e)=>{try{return await be("get_folder_metadata",{playlistId:i,folderColor:e})||null}catch(s){throw console.error("Error in getFolderMetadata API:",s),s}},E4=async(i,e,s,l,r)=>{try{return await be("set_folder_metadata",{playlistId:i,folderColor:e,name:s,description:l,customAscii:r})}catch(u){throw console.error("Error in setFolderMetadata API:",u),u}},z4=async i=>{try{const e=await k4(i);if(!e)throw new Error("Playlist not found");const s=await Vt(i),l=await Promise.all(s.map(async u=>{const d=await fm(i,u.id);return{video_url:u.video_url,video_id:u.video_id,title:u.title,thumbnail_url:u.thumbnail_url,position:u.position,folder_assignments:Array.isArray(d)?d:[]}}));return{version:"1.0",playlist:{name:e.name,description:e.description,created_at:e.created_at,updated_at:e.updated_at},videos:l}}catch(e){throw console.error("Failed to export playlist:",e),e}},D4=async(i,e,s=null,l=null)=>await be("add_to_watch_history",{videoUrl:i,videoId:e,title:s,thumbnailUrl:l}),u2=async(i=100)=>{try{return await be("get_watch_history",{limit:i})||[]}catch(e){throw console.error("Error in getWatchHistory API:",e),e}},nb=async()=>{try{return await be("get_watched_video_ids")||[]}catch(i){throw console.error("Error in getWatchedVideoIds API:",i),i}},d2=async(i,e,s=null,l)=>await be("update_video_progress",{videoId:i,videoUrl:e,duration:s,currentTime:l}),mm=async()=>{try{return await be("get_all_video_progress")||[]}catch(i){throw console.error("Error in getAllVideoProgress API:",i),i}},mi=i=>{if(!i)return null;if(!i.includes("youtube.com")&&!i.includes("youtu.be"))return i;const e=i.match(/[?&]v=([^&]+)/);if(e)return e[1];const s=i.match(/youtu\.be\/([^?]+)/);return s?s[1]:null},In=(i,e="default")=>{if(!i)return null;const s={default:"default",medium:"mqdefault",high:"hqdefault",standard:"sddefault",max:"maxresdefault"},l=s[e]||s.default;return`https://img.youtube.com/vi/${i}/${l}.jpg`},f2=i=>{if(!i)return null;const e=i.match(/[?&]list=([^&]+)/);return e?e[1]:!i.includes("youtube.com")&&!i.includes("youtu.be")&&!i.includes("?")?i:null},bc={blue:{name:"Cool Blue",bg:"from-sky-400 via-sky-200 to-sky-100",menuBg:"bg-sky-100/95",menuBorder:"border-sky-400/40",tabActive:"bg-white text-sky-600",tabInactive:"bg-sky-200 text-sky-700 border-sky-300",accent:"text-sky-700",accentBg:"bg-sky-600",orbBorder:"border-sky-500",bottomBar:"bg-sky-200/60 border-sky-300"},midnight:{name:"Midnight",bg:"from-slate-950 via-slate-900 to-black",menuBg:"bg-slate-900/90",menuBorder:"border-slate-700",tabActive:"bg-white text-slate-900",tabInactive:"bg-slate-800 text-slate-500 border-slate-700",accent:"text-sky-400",accentBg:"bg-sky-500",orbBorder:"border-slate-700",bottomBar:"bg-slate-800/50 border-slate-700"}};function P4(i,e,s,l,r){const u=i.length,d=r/2,f=new Uint8Array(e),m=d/u;for(let g=0;g<e;g++){const y=Math.pow(l/s,g/e),x=Math.pow(l/s,(g+1)/e),v=s*y,_=s*x,S=Math.floor(v/m),w=Math.ceil(_/m);let N=0,k=0;const E=Math.min(w,u),M=Math.min(S,E-1);for(let A=Math.max(0,M);A<E;A++)N+=i[A],k++;f[g]=k>0?Math.round(N/k):0}return f}function R4(i,e,s){if(s===0||!e)return i;const l=new Uint8Array(i.length);for(let r=0;r<i.length;r++){const u=e[r]||0;l[r]=Math.round(i[r]*(1-s)+u*s)}return l}var C0,ib;function sp(){if(ib)return C0;ib=1;var i=function(r,u){return[r[0]+u[0],r[1]+u[1]]},e=function(r,u){return[r[0]-u[0],r[1]-u[1]]},s=function(r,u){return[r[0]*u[0]-r[1]*u[1],r[0]*u[1]+r[1]*u[0]]},l=function(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])};return C0={add:i,subtract:e,multiply:s,magnitude:l},C0}var T0,sb;function lp(){if(sb)return T0;sb=1;var i=sp(),e={},s=function(u,d){var f=-2*Math.PI*(u/d);return e[d]=e[d]||{},e[d][u]=e[d][u]||[Math.cos(f),Math.sin(f)],e[d][u]},l=function(u){var d=u.map(i.magnitude);return d.slice(0,d.length/2)},r=function(u,d){var f=d/u.length,m=u.slice(0,u.length/2);return m.map(function(g,y){return y*f})};return T0={fftMag:l,fftFreq:r,exponent:s},T0}var tn={},lb;function L4(){if(lb)return tn;lb=1;var i=32;tn.INT_BITS=i,tn.INT_MAX=2147483647,tn.INT_MIN=-1<<i-1,tn.sign=function(l){return(l>0)-(l<0)},tn.abs=function(l){var r=l>>i-1;return(l^r)-r},tn.min=function(l,r){return r^(l^r)&-(l<r)},tn.max=function(l,r){return l^(l^r)&-(l<r)},tn.isPow2=function(l){return!(l&l-1)&&!!l},tn.log2=function(l){var r,u;return r=(l>65535)<<4,l>>>=r,u=(l>255)<<3,l>>>=u,r|=u,u=(l>15)<<2,l>>>=u,r|=u,u=(l>3)<<1,l>>>=u,r|=u,r|l>>1},tn.log10=function(l){return l>=1e9?9:l>=1e8?8:l>=1e7?7:l>=1e6?6:l>=1e5?5:l>=1e4?4:l>=1e3?3:l>=100?2:l>=10?1:0},tn.popCount=function(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),(l+(l>>>4)&252645135)*16843009>>>24};function e(l){var r=32;return l&=-l,l&&r--,l&65535&&(r-=16),l&16711935&&(r-=8),l&252645135&&(r-=4),l&858993459&&(r-=2),l&1431655765&&(r-=1),r}tn.countTrailingZeros=e,tn.nextPow2=function(l){return l+=l===0,--l,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l+1},tn.prevPow2=function(l){return l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l-(l>>>1)},tn.parity=function(l){return l^=l>>>16,l^=l>>>8,l^=l>>>4,l&=15,27030>>>l&1};var s=new Array(256);return(function(l){for(var r=0;r<256;++r){var u=r,d=r,f=7;for(u>>>=1;u;u>>>=1)d<<=1,d|=u&1,--f;l[r]=d<<f&255}})(s),tn.reverse=function(l){return s[l&255]<<24|s[l>>>8&255]<<16|s[l>>>16&255]<<8|s[l>>>24&255]},tn.interleave2=function(l,r){return l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,r&=65535,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,l|r<<1},tn.deinterleave2=function(l,r){return l=l>>>r&1431655765,l=(l|l>>>1)&858993459,l=(l|l>>>2)&252645135,l=(l|l>>>4)&16711935,l=(l|l>>>16)&65535,l<<16>>16},tn.interleave3=function(l,r,u){return l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,l|=r<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,l|u<<2},tn.deinterleave3=function(l,r){return l=l>>>r&1227133513,l=(l|l>>>2)&3272356035,l=(l|l>>>4)&251719695,l=(l|l>>>8)&4278190335,l=(l|l>>>16)&1023,l<<22>>22},tn.nextCombination=function(l){var r=l|l-1;return r+1|(~r&-~r)-1>>>e(l)+1},tn}var M0,ab;function pm(){if(ab)return M0;ab=1;var i=sp(),e=lp(),s=L4();return M0={fft:function l(r){var u=[],d=r.length;if(d==1)return Array.isArray(r[0])?[[r[0][0],r[0][1]]]:[[r[0],0]];for(var f=l(r.filter(v)),m=l(r.filter(_)),g=0;g<d/2;g++){var y=f[g],x=i.multiply(e.exponent(g,d),m[g]);u[g]=i.add(y,x),u[g+d/2]=i.subtract(y,x)}function v(S,w){return w%2==0}function _(S,w){return w%2==1}return u},fftInPlace:function(l){for(var r=l.length,u=s.countTrailingZeros(r),d=0;d<r;d++){var f=s.reverse(d)>>>s.INT_BITS-u;if(f>d){var m=[l[d],0];l[d]=l[f],l[f]=m}else l[f]=[l[f],0]}for(var g=2;g<=r;g+=g)for(var y=0;y<g/2;y++)for(var x=e.exponent(y,g),v=0;v<r/g;v++){var _=i.multiply(x,l[v*g+y+g/2]);l[v*g+y+g/2]=i.subtract(l[v*g+y],_),l[v*g+y]=i.add(l[v*g+y],_)}}},M0}var A0,rb;function O4(){if(rb)return A0;rb=1;var i=pm().fft;return A0={ifft:function(s){for(var l=[],r=0;r<s.length;r++)l[r]=[s[r][1],s[r][0]];for(var u=i(l),d=[],f=0;f<u.length;f++)d[f]=[u[f][1]/u.length,u[f][0]/u.length];return d}},A0}var E0,ob;function h2(){if(ob)return E0;ob=1;var i=sp(),e=lp(),s=function(l){for(var r=[],u=l.length,d=0;d<u;d++){r[d]=[0,0];for(var f=0;f<u;f++){var m=e.exponent(d*f,u),g;Array.isArray(l[f])?g=i.multiply(l[f],m):g=i.multiply([l[f],0],m),r[d]=i.add(r[d],g)}}return r};return E0=s,E0}var z0,cb;function V4(){if(cb)return z0;cb=1;var i=h2();function e(s){for(var l=[],r=0;r<s.length;r++)l[r]=[s[r][1],s[r][0]];for(var u=i(l),d=[],f=0;f<u.length;f++)d[f]=[u[f][1]/u.length,u[f][0]/u.length];return d}return z0=e,z0}var D0,ub;function B4(){return ub||(ub=1,D0={fft:pm().fft,ifft:O4().ifft,fftInPlace:pm().fftInPlace,util:lp(),dft:h2(),idft:V4()}),D0}var db=B4();const I4=({enabled:i=!1,orbSize:e=154,barCount:s=113,barWidth:l=4,radius:r=76,radiusY:u=76,maxBarLength:d=76,minBarLength:f=7,colors:m=[255,255,255,255],smoothing:g=.75,preAmpGain:y=4,angleTotal:x=Math.PI*2,angleStart:v=-Math.PI/2,clockwise:_=!0,inward:S=!1,fftSize:w=2048,freqMin:N=60,freqMax:k=11e3,sensitivity:E=64,updateRate:M=16})=>{const A=j.useRef(null);j.useRef(null),j.useRef(null);const z=j.useRef(null),O=j.useRef(null),F=j.useRef(null),[P,V]=j.useState(!1),re=j.useRef(48e3),oe=j.useRef([]),se=j.useRef(null),Se=j.useRef(0),Ee=j.useRef(!1),{visualizerGradient:Me}=Oa();if(j.useEffect(()=>{i&&(re.current=48e3)},[i]),j.useEffect(()=>{let X=!0;return(async()=>{if(!i){if(Ee.current){console.log("[AudioVisualizer] Stopping audio capture...");try{await be("stop_audio_capture"),X&&(Ee.current=!1,V(!1))}catch(q){console.error("[AudioVisualizer] Error stopping capture:",q)}}return}if(Ee.current){console.log("[AudioVisualizer] Stopping existing capture before restart...");try{await be("stop_audio_capture")}catch(q){console.log("[AudioVisualizer] Stop error (may be expected):",q)}Ee.current=!1,V(!1),await new Promise(q=>setTimeout(q,100))}if(X)try{console.log("[AudioVisualizer] Starting audio capture...");try{const q=await be("test_audio_command");console.log("[AudioVisualizer] Test command result:",q)}catch(q){console.error("[AudioVisualizer] Test command failed:",q)}await be("start_audio_capture"),X&&(Ee.current=!0,V(!0),console.log("[AudioVisualizer] Audio capture started successfully"))}catch(q){console.error("[AudioVisualizer] Failed to start audio capture:",q),X&&(Ee.current=!1,V(!1))}})(),()=>{X=!1,Ee.current&&(console.log("[AudioVisualizer] Stopping audio capture (cleanup)..."),be("stop_audio_capture").catch(console.error),Ee.current=!1,V(!1))}},[i]),j.useEffect(()=>{if(!i)return;let X=null,L=0;(async()=>{try{console.log("[AudioVisualizer] Setting up audio data listener..."),X=await ip("audio-data",H=>{L===0&&console.log("[AudioVisualizer]  FIRST AUDIO EVENT RECEIVED!",{payloadType:typeof H.payload,isArray:Array.isArray(H.payload),length:H.payload?.length,payload:H.payload?.slice?H.payload.slice(0,5):H.payload});const Q=H.payload;if(!Q||!Array.isArray(Q)||Q.length===0){console.warn("[AudioVisualizer] Invalid samples:",Q);return}if(L++,L===1||L%100===0){const je=Math.max(...Q.map(U=>Math.abs(U)));console.log("[AudioVisualizer] Received",L,"audio events,",Q.length,"samples, max:",je.toFixed(4),"queue size:",oe.current.length)}oe.current.push(...Q);const de=96e3;oe.current.length>de&&(oe.current=oe.current.slice(-de))}),console.log("[AudioVisualizer] Audio listener set up successfully, waiting for events..."),setTimeout(()=>{L===0&&console.warn("[AudioVisualizer]  No audio events received after 2 seconds. Check Rust console for audio capture logs.")},2e3)}catch(H){console.error("[AudioVisualizer] Failed to set up audio listener:",H)}})();const T=()=>{const H=Date.now();if(!(H-Se.current<M)&&(Se.current=H,!(oe.current.length<w)))try{const Q=oe.current.slice(-w),de=new Float32Array(w);for(let I=0;I<w;I++){const fe=.5*(1-Math.cos(2*Math.PI*I/(w-1)));de[I]=Q[I]*fe}const je=db.fft(Array.from(de)),U=db.util.fftMag(je),ne=w/2,Z=new Uint8Array(ne);for(let I=0;I<ne;I++){const fe=Math.min(255,Math.round(U[I]*25*y));Z[I]=fe}const he=P4(Z,s,N,k,re.current),xe=R4(he,F.current,g),J=new Uint8Array(xe.length);for(let I=0;I<xe.length;I++){const fe=Math.min(255,Math.round(xe[I]*(E/64)));J[I]=fe}O.current=J,F.current=xe}catch(Q){console.error("[AudioVisualizer] Error processing audio:",Q)}};se.current=setInterval(T,M);const D=setInterval(()=>{oe.current.length>16384&&(oe.current=oe.current.slice(-16384))},1e3);return()=>{X&&X(),se.current&&clearInterval(se.current),clearInterval(D)}},[i,s,N,k,E,g,w,M,y]),j.useEffect(()=>{if(!i||!A.current)return;const X=A.current,L=X.getContext("2d"),T=(r+d)*2+20;X.width=T,X.height=T;const D=T/2,H=T/2,de=(Z=>{if(Array.isArray(Z)){const[he,xe,J,I=255]=Z;return`rgba(${he},${xe},${J},${I/255})`}return Z})(m),U=(Z=>{let he=255,xe=255,J=255,I=1;return Array.isArray(Z)&&(he=Z[0],xe=Z[1],J=Z[2],I=(Z[3]!==void 0?Z[3]:255)/255),{base:`rgba(${he},${xe},${J},${I})`,tip:`rgba(${he},${xe},${J},0.1)`}})(m),ne=()=>{if(L.clearRect(0,0,X.width,X.height),!O.current){L.lineWidth=l;for(let he=0;he<s;he++){const xe=_?he:s-1-he,I=((v+x/s*xe)%(Math.PI*2)+Math.PI*2)%(Math.PI*2),fe=D+r*Math.cos(I),me=H+u*Math.sin(I),Y=fe+f*Math.cos(I),ke=me+f*Math.sin(I);if(Me){const ze=fe+d*Math.cos(I),Te=me+d*Math.sin(I),Ue=L.createLinearGradient(fe,me,ze,Te);Ue.addColorStop(0,U.base),Ue.addColorStop(.2,U.base),Ue.addColorStop(1,U.tip),L.strokeStyle=Ue}else L.strokeStyle=de;L.beginPath(),L.moveTo(fe,me),L.lineTo(Y,ke),L.stroke()}z.current=requestAnimationFrame(ne);return}const Z=O.current;for(let he=0;he<s;he++){const xe=_?he:s-1-he,I=((v+x/s*xe)%(Math.PI*2)+Math.PI*2)%(Math.PI*2),me=(Z[he]||0)/255,Y=f+me*(d-f),ke=D+r*Math.cos(I),ze=H+u*Math.sin(I),Te=ke+Y*Math.cos(I),Ue=ze+Y*Math.sin(I);if(Me){const Xe=ke+d*Math.cos(I),lt=ze+d*Math.sin(I),ut=L.createLinearGradient(ke,ze,Xe,lt);ut.addColorStop(0,U.base),ut.addColorStop(.2,U.base),ut.addColorStop(1,U.tip),L.strokeStyle=ut}else L.strokeStyle=de;L.lineWidth=l,L.beginPath(),L.moveTo(ke,ze),L.lineTo(Te,Ue),L.stroke()}z.current=requestAnimationFrame(ne)};return ne(),()=>{z.current&&cancelAnimationFrame(z.current)}},[i,s,l,r,u,d,f,m,x,v,_,Me]),!i)return null;const le=(r+d)*2+20;return c.jsx("canvas",{ref:A,className:"absolute pointer-events-none",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:5,width:`${le}px`,height:`${le}px`}})},F4=Ot.map(i=>({hex:i.hex,name:i.name,id:i.id}));function U4({onPlaylistSelect:i,onVideoSelect:e,activePlayer:s=1,onActivePlayerChange:l,secondPlayerVideoUrl:r=null,secondPlayerVideoIndex:u=0,onSecondPlayerVideoIndexChange:d,secondPlayerPlaylistId:f=null,secondPlayerPlaylistItems:m=[],currentThemeId:g="blue",onThemeChange:y}){const x=j.useRef(null),v=j.useRef(0),_=j.useRef(null);j.useRef(null);const{allPlaylists:S,currentPlaylistIndex:w,currentPlaylistItems:N,currentPlaylistId:k,navigationItems:E,currentNavigationIndex:M,currentFolder:A,setAllPlaylists:z,buildNavigationItems:O,setNavigationItems:F,setPlaylistItems:P,setCurrentFolder:V,nextVideo:re,previousVideo:oe,nextPlaylist:se,previousPlaylist:Se,shufflePlaylist:Ee,setCurrentVideoIndex:Me,getCurrentVideo:W,previewPlaylistItems:le,previewPlaylistId:X,previewFolderInfo:L,clearPreview:q,currentPlaylistTitle:T}=Di(),{setCurrentPage:D}=Gr(),{pinnedVideos:H,togglePriorityPin:Q,removePin:de,isPriorityPin:je,isPinned:U,togglePin:ne}=Na(),{viewMode:Z,setViewMode:he,inspectMode:xe,toggleMenuQuarterMode:J,menuQuarterMode:I,showDebugBounds:fe,toggleDebugBounds:me,toggleInspectMode:Y,showRuler:ke,toggleRuler:ze,showDevToolbar:Te,toggleDevToolbar:Ue}=Qn(),{showColoredFolders:Xe}=Pc(),{tabs:lt,activeTabId:ut,setActiveTab:De}=Rc(),{presets:Be,activePresetId:it,setActivePreset:qe}=Lc(),Pe=Array.isArray(lt)?lt:[],mt=Array.isArray(Be)?Be:[],Qe=$=>xe?$:void 0;j.useEffect(()=>{(async()=>{try{const K=await Nn();z(K||[])}catch(K){console.error("Failed to init playlists:",K)}})()},[z]),j.useEffect(()=>{(async()=>{try{let K=S;if(console.log("[DEBUG_EXT] Building Navigation Items. Sources:",{allPlaylistsCount:S?.length,activeTabId:ut,showColoredFolders:Xe}),ut!=="all"){const Ne=lt.find(He=>He.id===ut);if(Ne&&Array.isArray(K)){const He=new Set(Ne.playlistIds);K=K.filter(ct=>He.has(ct.id)),console.log("[DEBUG_EXT] Filtered by Tab:",{tabName:Ne.name,filteredCount:K.length})}}const ce=[];try{const Ne=await o2(),He=new Set(Ne.map(([xt,Dn])=>`${xt}:${Dn}`));(await Ea()).forEach(xt=>{const Dn=`${xt.playlist_id}:${xt.folder_color}`;He.has(Dn)&&K.find(ii=>ii.id===xt.playlist_id)&&ce.push(xt)})}catch(Ne){console.error("Failed to load stuck folders:",Ne)}if(Xe)try{const Ne=await Ea(),He=new Set(ce.map(ct=>`${ct.playlist_id}:${ct.folder_color}`));Ne.forEach(ct=>{const xt=`${ct.playlist_id}:${ct.folder_color}`;K.find(ii=>ii.id===ct.playlist_id)&&!He.has(xt)&&ce.push(ct)})}catch(Ne){console.error("Failed to load all folders:",Ne)}const Ce=O(K||[],ce);console.log("[DEBUG_EXT] Final Navigation Items:",{count:Ce.length,firstFive:Ce.slice(0,5).map(Ne=>Ne.type==="playlist"?Ne.data.name:`Folder: ${Ne.data.folder_color}`),lastItem:Ce.length>0?Ce[Ce.length-1].type==="playlist"?Ce[Ce.length-1].data.name:"Folder":"None"}),F(Ce)}catch(K){console.error("Failed to build navigation items:",K)}})()},[S,O,F,Xe,ut,lt]);const[$t,En]=j.useState(!0),[St,Oe]=j.useState(null),[Xt,_e]=j.useState(null),[at,pt]=j.useState(null),[Ie,Ze]=j.useState(null),[ye,tt]=j.useState("info"),[Je,rt]=j.useState(!0),[gt,Nt]=j.useState(!1),[bi,st]=j.useState(!1),[We,yt]=j.useState(!0);dn.useEffect(()=>{l&&rt(s===1)},[s,l]);const[Ht,gn]=j.useState(null),[Jt,Kn]=j.useState(null),[rn,Et]=j.useState(null),[Sn,Zn]=j.useState(null),[Yt,Qt]=j.useState(null),[Jn,wi]=j.useState(null),[ie,pe]=j.useState(null),[Le,Ae]=j.useState(null),[$e,Ve]=j.useState(null),[ht,_i]=j.useState("#0ea5e9"),[Un,Bt]=j.useState([]),[Ql,Ba]=j.useState({}),[Js,Kl]=j.useState("#6366f1"),[Jr,Uc]=j.useState("#0ea5e9"),[ds,$c]=j.useState(null),[el,fs]=j.useState(!1),[Ii,Si]=j.useState(!1),[tf,sg]=j.useState(!1),[Hc,Yc]=j.useState(!1),[Fi,eo]=j.useState(!1);j.useEffect(()=>{try{const $=localStorage.getItem("visualizerEnabled");$!==null&&eo($==="true")}catch($){console.error("Failed to load visualizer state from localStorage:",$)}},[]),j.useEffect(()=>{try{localStorage.setItem("visualizerEnabled",Fi.toString())}catch($){console.error("Failed to save visualizer state to localStorage:",$)}},[Fi]),j.useEffect(()=>{ye==="tabs"&&Pe.length>0&&(Ie===null||!Pe.find($=>$.id===Ie))?Ze(ut||Pe[0].id):ye==="presets"&&mt.length>0&&(Ie===null||!mt.find($=>$.id===Ie))&&Ze(it||mt[0].id)},[ye,Pe,mt,ut,it,Ie]),j.useEffect(()=>{console.log("PlayerController - Tabs:",Pe),console.log("PlayerController - Presets:",mt),console.log("PlayerController - Active Header Mode:",ye),console.log("PlayerController - Tabs length:",Pe.length),console.log("PlayerController - Presets length:",mt.length)},[Pe,mt,ye]);const $n=rn!==null?rn:M,Zl=$n>=0&&E[$n]?E[$n]:null,to=Zl&&Zl.type==="playlist"?Zl.data:k?S.find($=>$.id===k):null,Hn=W();j.useEffect(()=>{(async()=>{const K=!Je&&r;let ce=Hn,Ce=k;if(K)if(m.length>0&&u>=0&&u<m.length){const Ne=m[u];if(Ne&&Ne.video_url===r)ce=Ne,Ce=f||k;else{const He=m.find(ct=>ct.video_url===r);He&&(ce=He,Ce=f||k)}}else{const Ne=N.find(He=>He.video_url===r);Ne&&(ce=Ne)}if(ce&&Ce&&ce.id)try{const He=await fm(Ce,ce.id)||[];Bt(He);const ct={};await Promise.all(He.map(async xt=>{try{const Dn=await c2(Ce,xt);Dn&&Dn[0]&&(ct[xt]=Dn[0])}catch{}})),Ba(ct)}catch(Ne){console.error("Failed to load video folder assignments:",Ne),Bt([]),Ba({})}else Bt([]),Ba({})})()},[Hn,k,Je,r,m,u,f,N]),j.useEffect(()=>{(async()=>{try{let ce=(await Nn()).find(Ce=>Ce.name==="Likes");if(ce)$c(ce.id);else{const Ce=await Pr("Likes","Videos you have liked");$c(Ce)}}catch(K){console.error("Failed to initialize Likes playlist:",K)}})()},[]),j.useEffect(()=>{(async()=>{const K=!Je&&r;let ce=Hn;if(K)if(m.length>0&&u>=0&&u<m.length){const Ce=m[u];if(Ce&&Ce.video_url===r)ce=Ce;else{const Ne=m.find(He=>He.video_url===r);Ne&&(ce=Ne)}}else{const Ce=N.find(Ne=>Ne.video_url===r);Ce&&(ce=Ce)}if(!ce||!ds){fs(!1);return}try{const Ne=(await Vt(ds)).some(He=>He.video_id===ce.video_id);fs(Ne)}catch(Ce){console.error("Failed to check if video is liked:",Ce),fs(!1)}})()},[Hn,ds,Je,r,m,u,N]);const oi=!Je&&r;oi&&m.length>0;const Xc=oi&&f?f:k;let en=Hn;if(oi)if(m.length>0&&u>=0&&u<m.length){const $=m[u];if($&&$.video_url===r)en=$;else{const K=m.find(ce=>ce.video_url===r);if(K)en=K;else{const ce=N.find(Ce=>Ce.video_url===r);ce&&(en=ce)}}}else{const $=N.find(K=>K.video_url===r);$&&(en=$)}const tl=oi&&m.length>0?m:N;let Jl;if(Sn!==null)Jl=Sn;else if(oi&&m.length>0&&u>=0&&u<m.length)Jl=u;else if(en){const $=tl.findIndex(K=>K.id===en.id);Jl=$>=0?$:0}else Jl=0;let Cs;Sn!==null&&N.length>0?Cs=N[Jl]:oi&&m.length>0&&u>=0&&u<m.length?Cs=m[u]:Cs=en;const qc=en?.thumbnail_url?en.thumbnail_url:Cs?.thumbnail_url?Cs.thumbnail_url:"https://picsum.photos/seed/playlist/800/600",no=()=>{if(Je){re();const K=Di.getState().getCurrentVideo();K&&e&&e(K.video_url)}else if(r&&m.length>0&&d){const $=(u+1)%m.length;d($);const K=m[$];K&&e&&e(K.video_url)}},nf=()=>{if(Je){oe();const K=Di.getState().getCurrentVideo();K&&e&&e(K.video_url)}else if(r&&m.length>0&&d){const $=u<=0?m.length-1:u-1;d($);const K=m[$];K&&e&&e(K.video_url)}},sf=async()=>{const $=se();if($){if($.type==="playlist"){const K=$.data;if(!K)return;try{const ce=await Vt(K.id);if(P(ce,K.id,null,K.name),i&&i(ce,K.id),ce.length>0&&e){const Ce=localStorage.getItem(`last_video_index_${K.id}`),Ne=Ce&&parseInt(Ce,10)<ce.length?parseInt(Ce,10):0;e(ce[Ne].video_url)}}catch(ce){console.error("Failed to load playlist items:",ce)}}else if($.type==="folder"){const K=$.data;if(!K)return;try{const ce=await Mn(K.playlist_id,K.folder_color);if(ce.length===0){console.warn(`Folder ${K.folder_color} in playlist ${K.playlist_id} has no videos`);return}P(ce,K.playlist_id,{playlist_id:K.playlist_id,folder_color:K.folder_color}),i&&i(ce,K.playlist_id);const Ce=`last_video_index_${K.playlist_id}_${K.folder_color}`,Ne=localStorage.getItem(Ce),He=Ne&&parseInt(Ne,10)<ce.length?parseInt(Ne,10):0;e&&ce[He]&&e(ce[He].video_url)}catch(ce){console.error("Failed to load folder items:",ce)}}}},Ia=async()=>{const $=Se();if($){if($.type==="playlist"){const K=$.data;if(!K)return;try{const ce=await Vt(K.id);if(P(ce,K.id,null,K.name),i&&i(ce,K.id),ce.length>0&&e){const Ce=localStorage.getItem(`last_video_index_${K.id}`),Ne=Ce&&parseInt(Ce,10)<ce.length?parseInt(Ce,10):0;e(ce[Ne].video_url)}}catch(ce){console.error("Failed to load playlist items:",ce)}}else if($.type==="folder"){const K=$.data;if(!K)return;try{const ce=await Mn(K.playlist_id,K.folder_color);if(ce.length===0){console.warn(`Folder ${K.folder_color} in playlist ${K.playlist_id} has no videos`);return}P(ce,K.playlist_id,{playlist_id:K.playlist_id,folder_color:K.folder_color}),i&&i(ce,K.playlist_id);const Ce=`last_video_index_${K.playlist_id}_${K.folder_color}`,Ne=localStorage.getItem(Ce),He=Ne&&parseInt(Ne,10)<ce.length?parseInt(Ne,10):0;e&&ce[He]&&e(ce[He].video_url)}catch(ce){console.error("Failed to load folder items:",ce)}}}},Ui=async($=null)=>{const K=$||as;try{let ce=[],Ce;if(Je)Ce=k,K==="all"?ce=N:k&&(ce=await Mn(k,K));else{Ce=f||k;const ct=m.length>0?m:N;K==="all"?ce=ct:Ce&&(ce=await Mn(Ce,K))}if(ce.length===0){console.warn("No videos found to shuffle");return}const Ne=Math.floor(Math.random()*ce.length),He=ce[Ne];if(He&&e){if(Je){const ct=N.findIndex(xt=>xt.id===He.id);ct>=0&&Me(ct),e(He.video_url)}else if(r&&m.length>0){const ct=m.findIndex(xt=>xt.id===He.id);ct>=0&&d&&d(ct),e(He.video_url)}}}catch(ce){console.error("Failed to shuffle video:",ce)}},Fa=()=>{D("playlists"),Z==="full"&&he("half")},io=()=>{X&&q(),Ht!==null&&(Et(null),pe(null),Qt(null),wi(null),gn(null)),k&&(D("videos"),Z==="full"&&he("half"))},nl=()=>{D("history"),Z==="full"&&he("half")},il=async $=>{const K=N.findIndex(ce=>ce.id===$.id);if(K>=0)Me(K),e&&e($.video_url);else try{for(const ce of S){const Ce=await Vt(ce.id),Ne=Ce.findIndex(He=>He.id===$.id);if(Ne>=0){P(Ce,ce.id),i&&i(Ce,ce.id),Me(Ne),e&&e($.video_url);return}}console.warn("Pinned video not found in any playlist:",$)}catch(ce){console.error("Failed to load playlist for pinned video:",ce)}},Gc=($,K)=>{$.stopPropagation(),de(K.id)},Ua=$=>{$==="up"?sf():$==="down"&&Ia()},ea=async($,K)=>{if(K==="playlist"){Ht===null&&(gn(M),Et(M>=0?M:0));const ce=rn!==null?rn:M>=0?M:0,Ce=$==="up"?E.length===0?0:(ce+1)%E.length:E.length===0?0:ce<=0?E.length-1:ce-1;Et(Ce);const Ne=E[Ce];if(!Ne)return;if(Ne.type==="playlist")try{const He=await Vt(Ne.data.id);pe(He),Qt(Ne.data.id),wi(null)}catch(He){console.error("Failed to load preview playlist items:",He)}else if(Ne.type==="folder")try{const He=await Mn(Ne.data.playlist_id,Ne.data.folder_color);pe(He),Qt(Ne.data.playlist_id),wi({playlist_id:Ne.data.playlist_id,folder_color:Ne.data.folder_color})}catch(He){console.error("Failed to load preview folder items:",He)}}else{if(Jt===null){const Ne=N.findIndex(He=>He.id===Hn?.id);Kn(Ne>=0?Ne:0),Zn(Ne>=0?Ne:0)}const ce=Sn!==null?Sn:N.findIndex(Ne=>Ne.id===Hn?.id)||0,Ce=$==="up"?(ce+1)%N.length:ce===0?N.length-1:ce-1;Zn(Ce)}},Ts=$=>{$==="playlist"&&Ht!==null?(Et(null),pe(null),Qt(null),wi(null),gn(null),q()):$==="video"&&Jt!==null&&(Zn(null),Kn(null))},$i=async $=>{if($==="playlist"&&Ht!==null&&rn!==null){const K=E[rn];if(!K){Ts("playlist");return}if(K.type==="playlist"){if(ie&&Yt&&(P(ie,Yt,null),i&&i(ie,Yt),ie.length>0&&e)){const ce=localStorage.getItem(`last_video_index_${Yt}`),Ce=ce&&parseInt(ce,10)<ie.length?parseInt(ce,10):0;e(ie[Ce].video_url)}}else if(K.type==="folder"&&ie&&Jn&&(P(ie,Jn.playlist_id,Jn),i&&i(ie,Jn.playlist_id),ie.length>0&&e)){const ce=`last_video_index_${Jn.playlist_id}_${Jn.folder_color}`,Ce=localStorage.getItem(ce),Ne=Ce&&parseInt(Ce,10)<ie.length?parseInt(Ce,10):0;ie[Ne]&&e(ie[Ne].video_url)}if(rn>=0){const ce=E[rn];if(ce)if(ce.type==="playlist"){const Ce=S.findIndex(Ne=>Ne.id===ce.data.id);Ce>=0&&Di.setState({currentNavigationIndex:rn,currentPlaylistIndex:Ce,currentFolder:null})}else Di.setState({currentNavigationIndex:rn,currentPlaylistIndex:-1,currentFolder:{playlist_id:ce.data.playlist_id,folder_color:ce.data.folder_color}})}Et(null),pe(null),Qt(null),wi(null),gn(null)}else if($==="video"&&Jt!==null&&Sn!==null){if(Sn>=0&&Sn<N.length){Me(Sn);const K=N[Sn];K&&e&&e(K.video_url)}Zn(null),Kn(null)}},$a=async($=null)=>{const K=en||Hn,ce=Xc||k;if(!K||!ce)return;const Ce=$||ol;try{(await fm(ce,K.id)).includes(Ce)?(await bd(ce,K.id,Ce),K.id===en?.id&&Bt(ct=>ct.filter(xt=>xt!==Ce))):(await Aa(ce,K.id,Ce),K.id===en?.id&&Bt(ct=>[...ct,Ce])),Le==="star"&&(Ae(null),Ve(null))}catch(Ne){console.error("Failed to assign/unassign video to folder:",Ne)}},ta=()=>{const $=en||Hn;$&&(_.current=setTimeout(()=>{je($.id)||Q($),_.current=null},600))},hs=()=>{const $=en||Hn;$&&_.current&&(clearTimeout(_.current),_.current=null,ne($))},so=()=>{_.current&&(clearTimeout(_.current),_.current=null)},sl=async($="forward")=>{if(k)try{const ce=(await Ea()).filter(xt=>String(xt.playlist_id)===String(k)&&xt.video_count>0),Ce=A?A.folder_color:"all",Ne=Ot.map(xt=>xt.id).filter(xt=>ce.some(Dn=>Dn.folder_color===xt));let He="all";if($==="reset")He="all";else if($==="forward")if(Ce==="all")Ne.length>0&&(He=Ne[0]);else{const xt=Ne.indexOf(Ce);xt!==-1&&xt<Ne.length-1?He=Ne[xt+1]:He="all"}else if(Ce==="all")Ne.length>0&&(He=Ne[Ne.length-1]);else{const xt=Ne.indexOf(Ce);xt>0?He=Ne[xt-1]:He="all"}let ct=[];He==="all"?(ct=await Vt(k),P(ct,k,null)):(ct=await Mn(k,He),P(ct,k,{playlist_id:k,folder_color:He})),ct.length>0&&(ct.some(Dn=>Dn.id===en?.id)||Me(0))}catch(K){console.error("Failed to cycle play button folder:",K)}},Wc=async()=>{const $=en||Hn;if(!(!$||!ds))try{const K=await Vt(ds);if(K.some(Ce=>Ce.video_id===$.video_id)){const Ce=K.find(Ne=>Ne.video_id===$.video_id);Ce&&(await dm(ds,Ce.id),$.id===en?.id&&fs(!1))}else await Ir(ds,$.video_url,$.video_id,$.title||null,$.thumbnail_url||null),$.id===en?.id&&fs(!0)}catch(K){console.error("Failed to toggle like:",K)}},Ms=($,K,ce=!1)=>{Le==="star"?ce?(po(K),Ae(null),Ve(null)):$a(K):Le==="shuffle"?ce?(cl(K),Ae(null),Ve(null)):Ui(K):(Le==="like"&&Uc($),Ae(null),Ve(null))},Ha=$=>{const K=$.target.files[0];if(K){const ce=new FileReader;ce.onloadend=()=>{ti(ce.result),Yc(!0)},ce.readAsDataURL(K)}},Qc=$=>{const K=$.target.files[0];if(K){const ce=new FileReader;ce.onloadend=()=>{const Ce=ce.result;jf(Ce);try{localStorage.setItem("customBannerImage",Ce)}catch(Ne){console.error("Failed to save custom banner image to localStorage:",Ne)}},ce.readAsDataURL(K)}},[ei,ll]=j.useState(5),[lo,Ya]=j.useState(54),[lg,Kc]=j.useState(1),[ao,Xa]=j.useState(10),[na,lf]=j.useState(-10),{pinFirstButtonX:af,pinFirstButtonSize:ag,likeButtonX:rf,menuButtonX:ro,tooltipButtonX:of,pinAnchorX:rg,pinAnchorY:og,plusButtonX:cg,plusButtonY:ug,pinToggleY:cf,dotMenuWidth:uf,dotMenuHeight:df,dotMenuY:ff,dotSize:qa,playlistCapsuleX:Zc,playlistCapsuleY:dg,playlistCapsuleWidth:fg,playlistCapsuleHeight:hg,playlistHandleSize:hf,playlistPlayIconSize:mg,playlistChevronIconSize:pg,playlistChevronLeftX:gg,playlistChevronRightX:yg,playlistPlayCircleX:xg,modeHandleSize:vg,modeHandleInternalSize:bg,orbImageScale:Jc,orbImageScaleW:mf,orbImageScaleH:oo,orbImageXOffset:ia,orbImageYOffset:pf,orbSize:al,menuWidth:co,menuHeight:sa,bottomBarHeight:uo,titleFontSize:fo,metadataFontSize:As,pinSize:wg,pinWidth:_g,pinHeight:Sg,bottomIconSize:Ct,navChevronSize:la,orbMenuGap:rl,setOrbMenuGap:Ga,orbButtonSpread:gf,playlistToggleX:ho,playlistTabsX:yf,playlistInfoX:xf,playlistInfoWidth:eu,videoChevronLeftX:tu,videoChevronRightX:vf,videoPlayButtonX:bf,modeSwitcherX:wf,shuffleButtonX:_f,gridButtonX:jg,starButtonX:Sf,setCustomBannerImage:jf,customOrbImage:kf,setCustomOrbImage:ti,isSpillEnabled:zn,setIsSpillEnabled:mo,orbSpill:aa,setOrbSpill:Nf,quickAssignColor:ol,setQuickAssignColor:po,quickShuffleColor:as,setQuickShuffleColor:cl}=Oa(),Cn=bc[g]||bc.blue,ra=$=>$?$>=1e9?`${($/1e9).toFixed(1)}B`:$>=1e7?`${($/1e6).toFixed(0)}M`:$>=1e6?`${($/1e6).toFixed(1)}M`:$>=1e3?`${($/1e3).toFixed(0)}K`:$.toString():"0",go=kf||qc,ms=Cs||en;let Yn;ms?Yn={title:String(ms.title||"Untitled Video"),author:String(ms.author||"Unknown"),viewers:String(ms.view_count?ra(ms.view_count):"0 live"),publishedYear:ms.published_at?new Date(ms.published_at).getFullYear():null,verified:!1}:Yn={title:"No Video",author:"Unknown",viewers:"0",verified:!1};const ul=H.map(($,K)=>({id:`pin-${$.id}`,icon:kr,video:$,index:K})),yo=$=>{const Ce=90+($-3.5)*gf,Ne=50,He=Ce*Math.PI/180,ct=50+Ne*Math.cos(He),xt=50+Ne*Math.sin(He);return{left:`${ct}%`,top:`${xt}%`,transform:"translate(-50%, -50%)"}},nu=[{icon:K5,label:"Editor",action:null},{icon:J5,label:"Search",action:null},{icon:A5,label:"Menu",action:()=>eo(!Fi)},{icon:T5,label:"Spill",action:()=>mo(!zn)},{icon:p4,label:"Channel",action:null},{icon:r2,label:"Config",action:()=>D("settings")},{icon:Ad,label:"History",action:nl},{icon:zn?P5:c5,label:"Clipping",action:()=>mo(!zn)}];let ni;if(oi&&f){const $=S.find(K=>K.id===f);ni=$?$.name:"Unknown Playlist"}else if(k){const $=S.find(K=>String(K.id)===String(k));if($)if(A&&String(A.playlist_id)===String(k)){const K=Gs(A.folder_color),ce=K?K.name:"Folder";ni=`${$.name} - ${ce}`}else ni=$.name;else ni=T||"Unknown Playlist"}else ni=to?to.name:"No Playlist";return c.jsx("div",{className:"w-full pointer-events-none",children:c.jsxs("div",{className:"max-w-5xl mx-auto py-4 px-6 pointer-events-auto",children:[c.jsx("svg",{width:"0",height:"0",className:"absolute pointer-events-none",children:c.jsx("defs",{children:c.jsxs("clipPath",{id:"orbClipPath",clipPathUnits:"objectBoundingBox",children:[c.jsx("circle",{cx:"0.5",cy:"0.5",r:"0.5"}),zn&&aa.tl&&c.jsx("rect",{x:"-50",y:"-50",width:"50.5",height:"50.5"}),zn&&aa.tr&&c.jsx("rect",{x:"0.5",y:"-50",width:"50.5",height:"50.5"}),zn&&aa.bl&&c.jsx("rect",{x:"-50",y:"0.5",width:"50.5",height:"50.5"}),zn&&aa.br&&c.jsx("rect",{x:"0.5",y:"0.5",width:"50.5",height:"50.5"})]})})}),c.jsxs("div",{className:"flex items-center relative overflow-visible",children:[c.jsx("div",{className:"flex-1 flex items-center justify-end",children:c.jsxs("div",{className:"flex items-center gap-4 relative z-10 flex-shrink-0",children:[c.jsx("div",{className:"absolute right-full mr-4 transition-transform",style:{transform:`translateX(${ao}px)`},children:c.jsxs("div",{className:"flex items-center gap-4 animate-in slide-in-from-right-2 duration-300",children:[c.jsx("div",{className:"flex flex-col gap-3 w-9 h-24 items-center justify-center",children:Ht!==null&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>$i("playlist"),className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md bg-emerald-500 text-white active:scale-90",title:Qe("Commit playlist preview"),children:c.jsx(rc,{size:20,strokeWidth:3})}),c.jsx("button",{onClick:()=>Ts("playlist"),className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md bg-rose-500 text-white active:scale-90",title:Qe("Revert playlist preview"),children:c.jsx(Nr,{size:20,strokeWidth:3})})]})}),We&&c.jsxs("div",{className:`w-8 ${Cn.menuBg} border ${Cn.menuBorder} rounded-lg shadow-sm flex flex-col justify-between items-center py-2 shrink-0 animate-in fade-in zoom-in-95 duration-200`,style:{height:`${sa}px`},children:[c.jsx("button",{onClick:()=>ea("up","playlist"),className:"text-sky-400 p-1",title:Qe("Previous playlist in preview"),children:c.jsx(qv,{size:18,strokeWidth:3})}),c.jsx("div",{className:`w-full h-px ${Cn.bottomBar} my-1`}),c.jsx("button",{onClick:()=>ea("down","playlist"),className:"text-sky-400 p-1",title:Qe("Next playlist in preview"),children:c.jsx(Xv,{size:18,strokeWidth:3})})]})]})}),c.jsxs("div",{className:`border-4 shadow-2xl flex flex-col relative overflow-visible transition-all duration-300 group/playlist ${Ii?"ring-4 ring-sky-400/30":Cn.orbBorder+" "+Cn.menuBg+" backdrop-blur-2xl rounded-2xl overflow-hidden"}`,style:{width:`${co}px`,height:`${sa}px`},children:[c.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center px-4 relative z-10 overflow-hidden w-full h-full",children:[c.jsx("h1",{className:"font-black text-sky-950 text-center leading-tight line-clamp-3 tracking-tight transition-all pb-1 cursor-pointer hover:text-sky-700",style:{fontSize:`${fo}px`},onClick:Fa,title:ni,children:ni}),Un.length>0&&c.jsx("div",{className:"flex flex-wrap justify-center gap-1 mb-0.5 animate-in fade-in zoom-in duration-300",children:Un.map($=>{const K=Ot.find(Ce=>Ce.id===$);if(!K)return null;const ce=Ql[$];return c.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.15em] px-2 py-0.5 rounded-full border shadow-sm backdrop-blur-sm",style:{color:K.hex,borderColor:K.hex,backgroundColor:`${K.hex}15`},children:ce||K.name},$)})})]}),(()=>{const $=ul.find(ce=>je(ce.video.id));if(!$)return null;const K=In($.video.video_id,"default");return c.jsxs("div",{className:"absolute top-1 right-1 pointer-events-auto group/pin z-40",children:[c.jsx("button",{onClick:()=>il($.video),className:`rounded-lg flex items-center justify-center transition-all shadow-md overflow-hidden ${at===$.id?"ring-2 ring-sky-400":""}`,style:{width:"52px",height:"39px",border:"2px solid #334155"},title:`Priority Pin: ${$.video.title||"Untitled Video"}`,children:K?c.jsx("img",{src:K,alt:$.video.title,className:"w-full h-full object-cover"}):c.jsx(kr,{size:24,fill:"#fbbf24",strokeWidth:2})}),c.jsx("button",{className:"absolute -top-1 -right-1 w-4 h-4 bg-rose-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover/pin:opacity-100 transition-opacity shadow-sm border border-white z-20",onClick:ce=>Gc(ce,$.video),title:"Unpin video",children:c.jsx(Nr,{size:10,strokeWidth:4})})]})})(),c.jsx("div",{className:`border-t flex items-center px-3 shrink-0 relative rounded-b-2xl ${Cn.bottomBar}`,style:{height:`${uo}px`},children:c.jsxs("div",{className:"w-full h-full relative",children:[c.jsxs("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 flex items-center gap-1 ${Cn.accent} font-bold uppercase tracking-widest opacity-80`,style:{fontSize:`${As}px`,maxWidth:"210px"},children:[c.jsx("span",{className:"truncate",children:Yn.author}),Yn.verified&&c.jsx(r5,{size:As,className:"fill-current shrink-0"}),c.jsx("span",{className:"mx-1 opacity-50 shrink-0",children:"|"}),c.jsx("span",{className:"shrink-0",children:Yn.viewers}),Yn.publishedYear&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mx-1 opacity-50 shrink-0",children:"|"}),c.jsx("span",{className:"shrink-0",children:Yn.publishedYear})]})]}),c.jsx("button",{onClick:()=>Ua("down"),className:"absolute left-1/2 top-1/2 p-0.5 text-sky-400",style:{transform:"translate(calc(-50% + 92px), -50%)"},title:Qe("Previous playlist"),children:c.jsx(Br,{size:la,strokeWidth:3})}),c.jsx("button",{onClick:Fa,className:"absolute left-1/2 top-1/2 flex items-center justify-center group/tool",style:{transform:"translate(calc(-50% + 120px), -50%)"},title:Qe("View playlists grid"),children:c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:"#334155"},children:c.jsx(N5,{size:Math.round(Ct*.5),className:"text-slate-600",strokeWidth:3})})}),c.jsx("button",{onClick:()=>Ua("up"),className:"absolute left-1/2 top-1/2 p-0.5 text-sky-400",style:{transform:"translate(calc(-50% + 148px), -50%)"},title:Qe("Next playlist"),children:c.jsx(xc,{size:la,strokeWidth:3})})]})}),c.jsx("div",{className:"flex-grow relative z-10"})]})]})}),c.jsxs("div",{className:"flex items-center justify-center relative group z-30 flex-shrink-0",style:{marginLeft:`${rl}px`,marginRight:`${rl}px`},children:[c.jsx(I4,{enabled:Fi,orbSize:al,barCount:113,barWidth:4,radius:77,radiusY:77,maxBarLength:76,minBarLength:7,colors:[255,255,255,255],smoothing:.75,preAmpGain:4,angleTotal:Math.PI*2,angleStart:-Math.PI/2,clockwise:!0,inward:!1,fftSize:2048,freqMin:60,freqMax:11e3,sensitivity:64,updateRate:16}),c.jsxs("div",{className:"rounded-full bg-sky-50 backdrop-blur-3xl shadow-2xl flex items-center justify-center transition-all relative overflow-visible z-20",style:{width:`${al}px`,height:`${al}px`},children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none transition-all duration-500 flex items-center justify-center z-40",style:{clipPath:"url(#orbClipPath)",overflow:"visible"},children:c.jsx("img",{src:go,alt:"",className:"max-w-none transition-all duration-500",style:{width:zn?`${al*Jc*mf}px`:"100%",height:zn?`${al*Jc*oo}px`:"100%",transform:zn?`translate(${ia}px, ${pf}px)`:"none",objectFit:zn?"contain":"cover"}})}),c.jsx("div",{className:"absolute inset-0 z-10 overflow-hidden rounded-full pointer-events-none",children:c.jsx("div",{className:"absolute inset-0 bg-sky-200/10"})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/30 via-transparent to-transparent opacity-60 z-10 pointer-events-none rounded-full"}),c.jsx("input",{type:"file",ref:x,onChange:Ha,accept:"image/*",className:"hidden"}),c.jsx("button",{className:"absolute left-1/2 top-0 -translate-x-1/2 -translate-y-1/2 rounded-full flex items-center justify-center bg-white shadow-xl hover:scale-110 active:scale-95 group/btn z-50 border-2 border-sky-100 opacity-0 group-hover:opacity-100 transition-all duration-300",style:{width:"28px",height:"28px"},onClick:()=>x.current.click(),title:Qe("Upload orb image"),children:c.jsx(Wv,{size:16,className:Cn.accent,strokeWidth:3})}),nu.map(($,K)=>{const ce=$.icon;return c.jsx("button",{onClick:$.action||(()=>{}),className:"absolute rounded-full flex items-center justify-center bg-white shadow-xl hover:scale-110 active:scale-95 group/btn z-50 border-2 border-sky-50 opacity-0 group-hover:opacity-100 transition-all duration-300",style:{...yo(K),width:"28px",height:"28px"},title:Qe($.label)||$.label,children:c.jsx(ce,{size:14,className:"text-slate-800",strokeWidth:2.5})},K)})]})]}),c.jsx("div",{className:"flex-1 flex items-center justify-start",children:c.jsxs("div",{className:"flex items-center gap-4 relative z-10 flex-shrink-0",children:[c.jsxs("div",{className:`border-4 shadow-2xl flex flex-col relative overflow-visible transition-all duration-300 ${Ii?"ring-4 ring-sky-400/30":Cn.orbBorder+" "+Cn.menuBg+" backdrop-blur-2xl rounded-2xl"}`,style:{width:`${co}px`,height:`${sa}px`},children:[Le&&c.jsx("button",{onClick:()=>{Ae(null),Ve(null)},className:"absolute -top-3 -right-3 w-7 h-7 bg-rose-500 text-white rounded-full flex items-center justify-center hover:bg-rose-600 z-50 shadow-lg border-2 border-white transition-all active:scale-90",title:Qe("Close color picker"),children:c.jsx(Nr,{size:16,strokeWidth:3})}),c.jsx("div",{className:"absolute top-0 left-0 w-full flex items-center -translate-y-1/2 z-40 px-2 pointer-events-none h-0"}),c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center px-4 relative z-10 overflow-hidden",children:Le?c.jsxs("div",{className:"flex flex-col items-center animate-in zoom-in duration-200",style:{transform:`translateY(${ff}px)`},children:[c.jsxs("p",{className:"text-[9px] font-black uppercase text-sky-600 tracking-[0.2em] mb-3",children:["Accent: ",Le]}),c.jsxs("div",{className:"grid grid-cols-7 gap-1.5 p-2.5 bg-white/60 backdrop-blur-md rounded-2xl border border-sky-200 shadow-inner overflow-hidden flex items-center justify-center",style:{width:`${uf}px`,height:`${df}px`},children:[Le==="shuffle"&&c.jsx("div",{onMouseEnter:()=>Ve("All"),onMouseLeave:()=>Ve(null),className:"rounded-full cursor-pointer border-2 border-white shadow-sm hover:scale-125 transition-transform shrink-0 relative",style:{backgroundColor:"#ffffff",width:`${qa}px`,height:`${qa}px`,borderColor:as==="all"?"#000":"white",borderWidth:as==="all"?"3px":"2px"},onClick:()=>Ms("#ffffff","all",!1),onContextMenu:$=>{$.preventDefault(),Ms("#ffffff","all",!0)},title:as==="all"?"All (Quick Shuffle - Right click to change)":"All (Right click to set as Quick Shuffle)"}),F4.map($=>c.jsx("div",{onMouseEnter:()=>Ve($.name),onMouseLeave:()=>Ve(null),className:"rounded-full cursor-pointer border-2 border-white shadow-sm hover:scale-125 transition-transform shrink-0 relative",style:{backgroundColor:$.hex,width:`${qa}px`,height:`${qa}px`,borderColor:Le==="star"?$.id===ol?"#000":"white":Le==="shuffle"&&$.id===as?"#000":"white",borderWidth:Le==="star"?$.id===ol?"3px":"2px":Le==="shuffle"&&$.id===as?"3px":"2px"},onClick:()=>Ms($.hex,$.id,!1),onContextMenu:K=>{K.preventDefault(),Ms($.hex,$.id,!0)},title:Le==="star"?$.id===ol?`${$.name} (Quick Assign - Right click to change)`:`${$.name} (Right click to set as Quick Assign)`:Le==="shuffle"?$.id===as?`${$.name} (Quick Shuffle - Right click to change)`:`${$.name} (Right click to set as Quick Shuffle)`:$.name},$.hex))]})]}):c.jsx("div",{className:"w-full flex flex-col justify-center transition-all relative h-full",children:c.jsx("h1",{className:"font-black text-sky-950 text-center leading-tight line-clamp-3 tracking-tight transition-all pb-1",style:{fontSize:`${fo}px`},children:Yn.title})})}),c.jsx("div",{className:`border-t flex items-center px-3 shrink-0 relative rounded-b-2xl ${Cn.bottomBar}`,style:{height:`${uo}px`},children:Le?c.jsx("div",{className:"flex items-center justify-center w-full h-full animate-in fade-in slide-in-from-bottom-1 duration-300",children:c.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-sky-700/80",children:$e||`Select ${Le} color`})}):c.jsxs("div",{className:"w-full h-full relative",children:[c.jsx("button",{onClick:nf,className:"absolute left-1/2 top-1/2 p-0.5 text-sky-400",style:{transform:"translate(calc(-50% - 148px), -50%)"},title:Qe("Previous video"),children:c.jsx(Br,{size:la,strokeWidth:3})}),c.jsx("button",{onClick:io,className:"absolute left-1/2 top-1/2 flex items-center justify-center group/tool",style:{transform:"translate(calc(-50% - 120px), -50%)"},title:Qe("View videos grid"),children:c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:"#334155"},children:c.jsxs("svg",{width:Math.round(Ct*.55),height:Math.round(Ct*.55),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-600",children:[c.jsx("path",{d:"M2 8 Q 7 3 12 8 T 22 8"}),c.jsx("path",{d:"M2 18 Q 7 13 12 18 T 22 18"}),c.jsx("path",{d:"M7 5.5 V 15.5"}),c.jsx("path",{d:"M12 8 V 18"}),c.jsx("path",{d:"M17 10.5 V 20.5"})]})})}),c.jsx("button",{onClick:no,className:"absolute left-1/2 top-1/2 p-0.5 text-sky-400",style:{transform:"translate(calc(-50% - 92px), -50%)"},title:Qe("Next video"),children:c.jsx(xc,{size:la,strokeWidth:3})}),c.jsx("button",{onClick:()=>sl("forward"),onContextMenu:$=>{$.preventDefault();const K=Date.now();K-v.current<300?sl("reset"):sl("reverse"),v.current=K},className:"absolute left-1/2 top-1/2 flex items-center justify-center group/tool",style:{transform:"translate(calc(-50% - 60px), -50%)"},title:Qe("Cycle Folder Filter (Left: Forward, Right: Reverse)"),children:(()=>{const $=A?Ot.find(Ce=>Ce.id===A.folder_color):null,K=$?$.hex:"#cbd5e1",ce=!!$;return c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 shadow-sm transition-colors duration-300 bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:ce?K:"#334155"},children:c.jsx(vc,{size:Math.round(Ct*.5),color:ce?K:"#475569",fill:ce?K:"#475569",strokeWidth:0})})})()}),c.jsx("button",{onClick:()=>Ui(),onContextMenu:$=>{$.preventDefault(),Ae("shuffle")},className:"absolute left-1/2 top-1/2 flex items-center justify-center group/tool",style:{transform:`translate(calc(-50% + ${_f}px), -50%)`},title:Qe("Shuffle videos"),children:(()=>{const $=as==="all"?{hex:"#334155"}:Ot.find(K=>K.id===as)||Ot.find(K=>K.id==="indigo");return c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 border-sky-200 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:$.hex},children:c.jsx(um,{size:Math.round(Ct*.5),color:$.hex,strokeWidth:3})})})()}),c.jsx("button",{onClick:()=>$a(),onContextMenu:$=>{$.preventDefault(),Ae("star")},className:"absolute left-1/2 top-1/2 flex items-center justify-center group/tool",style:{transform:`translate(calc(-50% + ${Sf}px), -50%)`},title:Qe("Star button (assign to folder)"),children:(()=>{const $=Un.length>0?Un[0]:null;Ot.find(ce=>ce.id===ol)||Ot.find(ce=>ce.id==="sky");const K=$?Ot.find(ce=>ce.id===$):null;return K?c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:K.hex},children:c.jsx(k0,{size:Math.round(Ct*.5),color:K.hex,fill:K.hex,strokeWidth:3})}):c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:"#334155"},children:c.jsx(k0,{size:Math.round(Ct*.5),color:"#475569",fill:"transparent",strokeWidth:3})})})()}),c.jsx("button",{onMouseDown:ta,onMouseUp:hs,onMouseLeave:so,onContextMenu:$=>{$.preventDefault(),Z==="full"&&he("half"),D("pins")},className:"absolute left-1/2 top-1/2 flex items-center justify-center group/tool",style:{transform:`translate(calc(-50% + ${af}px), -50%)`},title:Qe("Pin Video (Click: Normal Pin, Hold: Priority Pin, Right-click: Pins Page)"),children:(()=>{const $=en||Hn,K=$&&je($.id),ce=$&&U($.id)&&!K;let Ce="#334155",Ne="#475569",He="transparent",ct=2.5;return K?(Ce="#fbbf24",Ne="#fbbf24",He="#fbbf24",ct=1.5):ce&&(Ce="#000000",Ne="#3b82f6",He="#3b82f6",ct=1.5),c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:Ce},children:c.jsx(kr,{size:Math.round(Ct*.5),color:Ne,fill:He,strokeWidth:ct})})})()}),c.jsx("button",{onClick:Wc,onContextMenu:$=>{$.preventDefault(),Z==="full"&&he("half"),D("likes")},className:"absolute left-1/2 top-1/2 flex items-center justify-center group/tool",style:{transform:`translate(calc(-50% + ${rf}px), -50%)`},title:Qe("Like button (Right-click for Likes)"),children:c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 border-sky-200 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:el?Jr:"#334155"},children:c.jsx(Gv,{size:Math.round(Ct*.5),color:el?Jr:"#475569",fill:el?Jr:"transparent",strokeWidth:3})})}),c.jsxs("div",{className:"absolute left-1/2 top-1/2",style:{transform:`translate(calc(-50% + ${of}px), -50%)`},children:[c.jsx("button",{onClick:()=>st(!bi),className:"flex items-center justify-center group/tool relative",title:Qe("Controls Help"),children:c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 border-sky-200 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:"#334155"},children:c.jsx(j5,{size:Math.round(Ct*.5),className:"text-slate-600",strokeWidth:3})})}),bi&&c.jsx("div",{className:"absolute top-full right-0 mt-3 w-80 bg-white/95 backdrop-blur-xl border border-sky-100 rounded-2xl shadow-2xl overflow-hidden z-[10002] animate-in fade-in zoom-in-95 duration-200 p-4 text-xs text-sky-900 font-medium",style:{zIndex:10002},children:c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"shrink-0 w-8 h-8 bg-sky-50 rounded-full flex items-center justify-center border border-sky-100 shadow-sm text-sky-600",children:c.jsx(vc,{size:14,fill:"currentColor",strokeWidth:0})}),c.jsxs("div",{className:"flex flex-col gap-1.5 pt-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("svg",{width:"12",height:"16",viewBox:"0 0 12 16",fill:"none",className:"text-sky-500",children:[c.jsx("rect",{x:"0.5",y:"0.5",width:"11",height:"15",rx:"3.5",stroke:"currentColor"}),c.jsx("line",{x1:"6",y1:"0.5",x2:"6",y2:"6",stroke:"currentColor"}),c.jsx("line",{x1:"0.5",y1:"6",x2:"11.5",y2:"6",stroke:"currentColor"}),c.jsx("path",{d:"M1 4C1 2.34315 2.34315 1 4 1H6V6H1V4Z",fill:"currentColor"})]}),c.jsxs("svg",{width:"12",height:"16",viewBox:"0 0 12 16",fill:"none",className:"text-sky-500",children:[c.jsx("rect",{x:"0.5",y:"0.5",width:"11",height:"15",rx:"3.5",stroke:"currentColor"}),c.jsx("line",{x1:"6",y1:"0.5",x2:"6",y2:"6",stroke:"currentColor"}),c.jsx("line",{x1:"0.5",y1:"6",x2:"11.5",y2:"6",stroke:"currentColor"}),c.jsx("path",{d:"M6 1H8C9.65685 1 11 2.34315 11 4V6H6V1Z",fill:"currentColor"})]})]}),c.jsx("span",{className:"font-semibold text-sky-900/80",children:"Cycle Folder Filter"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[c.jsx("div",{className:"flex items-center justify-center w-6 h-4 bg-sky-100 rounded text-[9px] font-bold text-sky-700 tracking-tighter px-0.5",children:"2x"}),c.jsx("span",{children:"Reset to All Videos"})]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"shrink-0 w-8 h-8 bg-amber-50 rounded-full flex items-center justify-center border border-amber-100 shadow-sm text-amber-500",children:c.jsx(kr,{size:14,fill:"currentColor",strokeWidth:0})}),c.jsxs("div",{className:"flex flex-col gap-1.5 pt-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[c.jsxs("svg",{width:"12",height:"16",viewBox:"0 0 12 16",fill:"none",className:"text-amber-500",children:[c.jsx("rect",{x:"0.5",y:"0.5",width:"11",height:"15",rx:"3.5",stroke:"currentColor"}),c.jsx("line",{x1:"6",y1:"0.5",x2:"6",y2:"6",stroke:"currentColor"}),c.jsx("line",{x1:"0.5",y1:"6",x2:"11.5",y2:"6",stroke:"currentColor"}),c.jsx("path",{d:"M1 4C1 2.34315 2.34315 1 4 1H6V6H1V4Z",fill:"currentColor"})]}),c.jsx("span",{className:"font-semibold text-sky-900/80",children:"Normal Pin"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[c.jsx(Ad,{size:12,className:"text-amber-500",strokeWidth:2.5}),c.jsx("span",{children:"Hold for Priority Pin"})]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"shrink-0 w-8 h-8 bg-indigo-50 rounded-full flex items-center justify-center border border-indigo-100 shadow-sm text-indigo-500",children:c.jsx(Gv,{size:14,fill:"currentColor",strokeWidth:0})}),c.jsx("div",{className:"flex flex-col gap-1.5 pt-1.5",children:c.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[c.jsxs("svg",{width:"12",height:"16",viewBox:"0 0 12 16",fill:"none",className:"text-indigo-500",children:[c.jsx("rect",{x:"0.5",y:"0.5",width:"11",height:"15",rx:"3.5",stroke:"currentColor"}),c.jsx("line",{x1:"6",y1:"0.5",x2:"6",y2:"6",stroke:"currentColor"}),c.jsx("line",{x1:"0.5",y1:"6",x2:"11.5",y2:"6",stroke:"currentColor"}),c.jsx("path",{d:"M6 1H8C9.65685 1 11 2.34315 11 4V6H6V1Z",fill:"currentColor"})]}),c.jsx("span",{className:"font-semibold text-sky-900/80",children:"Go to Likes Page"})]})})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"shrink-0 w-8 h-8 bg-purple-50 rounded-full flex items-center justify-center border border-purple-100 shadow-sm text-purple-500",children:c.jsx(k0,{size:14,fill:"currentColor",strokeWidth:0})}),c.jsx("div",{className:"flex flex-col gap-1.5 pt-1.5",children:c.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[c.jsxs("svg",{width:"12",height:"16",viewBox:"0 0 12 16",fill:"none",className:"text-purple-500",children:[c.jsx("rect",{x:"0.5",y:"0.5",width:"11",height:"15",rx:"3.5",stroke:"currentColor"}),c.jsx("line",{x1:"6",y1:"0.5",x2:"6",y2:"6",stroke:"currentColor"}),c.jsx("line",{x1:"0.5",y1:"6",x2:"11.5",y2:"6",stroke:"currentColor"}),c.jsx("path",{d:"M6 1H8C9.65685 1 11 2.34315 11 4V6H6V1Z",fill:"currentColor"})]}),c.jsx("span",{className:"font-semibold text-sky-900/80",children:"Assign Quick Color"})]})})]})]})})]}),c.jsxs("div",{className:"absolute left-1/2 top-1/2",style:{transform:`translate(calc(-50% + ${ro+32}px), -50%)`},children:[c.jsx("button",{onClick:()=>Nt(!gt),className:"flex items-center justify-center group/tool",title:Qe("More options"),children:c.jsx("div",{className:"rounded-full flex items-center justify-center border-2 border-sky-200 shadow-sm bg-white",style:{width:`${Ct}px`,height:`${Ct}px`,borderColor:"#94a3b8"},children:c.jsx(m5,{size:Math.round(Ct*.5),className:"text-slate-500",strokeWidth:3})})}),gt&&c.jsxs("div",{className:"absolute top-full right-0 mt-3 w-56 bg-sky-50 border border-sky-300 rounded-lg shadow-xl overflow-hidden z-[10001] animate-in fade-in zoom-in-95 duration-100 flex flex-col p-1",style:{zIndex:10001},children:[c.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-sky-900 hover:bg-sky-200 transition-colors flex items-center gap-2",onClick:()=>{yt(!We),Nt(!1)},children:[We?c.jsx(w0,{size:14}):c.jsx(vd,{size:14}),We?"Hide Preview Menus":"Show Preview Menus"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-sky-900 hover:bg-sky-200 transition-colors flex items-center gap-2",onClick:()=>{Ue(),Nt(!1)},children:[Te?c.jsx(w0,{size:14}):c.jsx(vd,{size:14}),Te?"Hide Dev Toolbar":"Show Dev Toolbar"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-sky-900 hover:bg-sky-200 transition-colors flex items-center gap-2",onClick:()=>{document.getElementById("banner-upload").click(),Nt(!1)},children:[c.jsx(Wv,{size:14}),"Change Banner"]}),c.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-sky-900 hover:bg-sky-200 transition-colors flex items-center gap-2",onClick:()=>{eo(!Fi),Nt(!1)},children:[Fi?c.jsx(w0,{size:14}):c.jsx(vd,{size:14}),Fi?"Hide Audio Visualizer":"Show Audio Visualizer"]}),c.jsx("input",{type:"file",id:"banner-upload",className:"hidden",accept:"image/*",onChange:Qc})]})]})]})})]}),c.jsx("div",{className:"absolute left-full ml-4 transition-transform",style:{transform:`translateX(${na}px)`}}),c.jsx("div",{className:"absolute left-full ml-4 transition-transform",style:{transform:`translateX(${na}px)`},children:c.jsxs("div",{className:"flex items-center gap-4 animate-in slide-in-from-left-2 duration-300",children:[We&&c.jsxs("div",{className:`w-8 ${Cn.menuBg} border ${Cn.menuBorder} rounded-lg shadow-sm flex flex-col justify-between items-center py-2 shrink-0 animate-in fade-in zoom-in-95 duration-200`,style:{height:`${sa}px`},children:[c.jsx("button",{onClick:()=>ea("up","video"),className:"text-sky-400 p-1",title:Qe("Previous video in preview"),children:c.jsx(qv,{size:18,strokeWidth:3})}),c.jsx("div",{className:`w-full h-px ${Cn.bottomBar} my-1`}),c.jsx("button",{onClick:()=>ea("down","video"),className:"text-sky-400 p-1",title:Qe("Next video in preview"),children:c.jsx(Xv,{size:18,strokeWidth:3})})]}),c.jsx("div",{className:"flex flex-col gap-3 w-9 h-24 items-center justify-center",children:Jt!==null&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>$i("video"),className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md bg-emerald-500 text-white transition-all active:scale-90 animate-in zoom-in duration-200",title:Qe("Commit video preview"),children:c.jsx(rc,{size:20,strokeWidth:3})}),c.jsx("button",{onClick:()=>Ts("video"),className:"w-9 h-9 rounded-full flex items-center justify-center shadow-md bg-rose-500 text-white transition-all active:scale-90 animate-in zoom-in duration-200",title:Qe("Revert video preview"),children:c.jsx(Nr,{size:20,strokeWidth:3})})]})})]})})]})})]})]})})}const m2=({onSelect:i,onCancel:e})=>{const[s,l]=j.useState([]),[r,u]=j.useState([]),[d,f]=j.useState(!0),[m,g]=j.useState(new Set),[y,x]=j.useState([]);j.useEffect(()=>{v()},[]);const v=async()=>{try{f(!0);const A=await Nn();l(Array.isArray(A)?A:[]);const z=await Ea();u(Array.isArray(z)?z:[])}catch(A){console.error("Failed to load playlists/folders:",A)}finally{f(!1)}},_=j.useMemo(()=>{const A={};return r.forEach(z=>{A[z.playlist_id]||(A[z.playlist_id]=[]),A[z.playlist_id].push(z)}),A},[r]),S=A=>{g(z=>{const O=new Set(z);return O.has(A)?O.delete(A):O.add(A),O})},w=A=>{const z=`local:playlist:${A}`;x(O=>O.includes(z)?O.filter(F=>F!==z):[...O,z])},N=(A,z)=>{const O=`local:folder:${A}:${z}`;x(F=>F.includes(O)?F.filter(P=>P!==O):[...F,O])},k=A=>y.includes(`local:playlist:${A}`),E=(A,z)=>y.includes(`local:folder:${A}:${z}`),M=()=>{y.length>0&&i(y)};return c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:c.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 w-full max-w-2xl max-h-[80vh] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add Existing Playlists/Folders"}),c.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"text-slate-400",children:"Loading..."})}):c.jsx("div",{className:"space-y-2",children:s.length===0?c.jsx("div",{className:"text-slate-400 text-center py-8",children:"No playlists found"}):s.map(A=>{const z=_[A.id]||[],O=z.length>0,F=m.has(A.id),P=k(A.id);return c.jsxs("div",{className:"border border-slate-600 rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>w(A.id),className:`flex-1 text-left p-3 transition-all ${P?"bg-sky-500/20":"bg-slate-700 hover:bg-slate-600"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-white font-medium",children:A.name}),A.description&&c.jsx("div",{className:"text-slate-400 text-sm mt-1 line-clamp-1",children:A.description}),O&&c.jsxs("div",{className:"text-slate-500 text-xs mt-1",children:[z.length," folder",z.length!==1?"s":""," available"]})]}),P&&c.jsx("svg",{className:"w-5 h-5 text-sky-500 ml-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})}),O&&c.jsx("button",{onClick:V=>{V.stopPropagation(),S(A.id)},className:"px-3 py-3 bg-slate-700 hover:bg-slate-600 transition-colors border-l border-slate-600",title:F?"Collapse folders":"Expand folders",children:c.jsx("svg",{className:`w-5 h-5 text-slate-300 transition-transform ${F?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),O&&F&&c.jsx("div",{className:"border-t border-slate-600 bg-slate-800",children:z.map((V,re)=>{const oe=Gs(V.folder_color),se=E(A.id,V.folder_color);return c.jsx("button",{onClick:Se=>{Se.stopPropagation(),N(A.id,V.folder_color)},className:`w-full text-left p-3 border-b border-slate-700 last:border-b-0 transition-all ${se?"bg-sky-500/20":"hover:bg-slate-700"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[c.jsx("span",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:oe.hex}}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-white font-medium text-sm",children:[oe.name," Folder"]}),c.jsxs("div",{className:"text-slate-400 text-xs",children:[V.video_count," video",V.video_count!==1?"s":""]})]})]}),se&&c.jsx("svg",{className:"w-5 h-5 text-sky-500 ml-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})},`${A.id}-${V.folder_color}-${re}`)})})]},A.id)})})}),c.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-slate-700",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:M,disabled:y.length===0,className:"px-6 py-2 bg-sky-500 text-white rounded-lg font-medium hover:bg-sky-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Add ",y.length>0?`(${y.length})`:""]})]})]})})},ap=({onUploadComplete:i,onCancel:e,initialPlaylistId:s})=>{const[l,r]=j.useState("add"),[u,d]=j.useState([]),[f,m]=j.useState(!1),[g,y]=j.useState(null),[x,v]=j.useState({current:0,total:0,message:""}),[_,S]=j.useState("existing"),[w,N]=j.useState(s?String(s):""),[k,E]=j.useState(""),[M,A]=j.useState(""),[z,O]=j.useState({all:"",...Ot.reduce((U,ne)=>(U[ne.id]="",U),{})}),[F,P]=j.useState(!1),[V,re]=j.useState(!1),[oe,se]=j.useState(null),[Se,Ee]=j.useState(""),Me=j.useRef(null);j.useEffect(()=>{W()},[]);const W=async()=>{try{const U=await Nn();d(U)}catch(U){console.error("Failed to load playlists:",U)}},le=U=>!U||!U.trim()?[]:U.split(/\n/).flatMap(ne=>ne.includes(",")?ne.split(",").map(Z=>Z.trim()):ne.includes(";")?ne.split(";").map(Z=>Z.trim()):ne.includes("|")?ne.split("|").map(Z=>Z.trim()):ne.split(/\s+/).map(Z=>Z.trim())).filter(ne=>{if(!ne)return!1;const Z=ne.includes("youtube.com/playlist")||ne.includes("youtu.be")||ne.includes("youtube.com/watch")&&ne.includes("list=")||ne.includes("youtube.com/watch"),he=ne.startsWith("local:playlist:")||ne.startsWith("local:folder:");return Z||he}).filter((ne,Z,he)=>he.indexOf(ne)===Z),X=async U=>{const ne="AIzaSyBYPwv0a-rRbTrvMA9nF4Wa1ryC0b6l7xw",Z=mi(U),he=f2(U);if(he){const xe=`https://www.googleapis.com/youtube/v3/playlists?part=snippet&id=${he}&key=${ne}`,J=await fetch(xe);if(!J.ok)throw new Error("Failed to fetch playlist details");const I=await J.json();if(!I.items?.length)throw new Error("Playlist not found or private");const fe=I.items[0].snippet.title;let me=null,Y=[];do{const Te=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${he}&maxResults=50&key=${ne}${me?`&pageToken=${me}`:""}`,Ue=await fetch(Te);if(!Ue.ok)throw new Error("Failed to fetch videos");const Xe=await Ue.json();Xe.items&&(Y=Y.concat(Xe.items)),me=Xe.nextPageToken}while(me);if(Y.length===0)throw new Error("No videos in playlist");const ke=Y.map(Te=>Te.snippet.resourceId.videoId),ze={};for(let Te=0;Te<ke.length;Te+=50){const Xe=`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${ke.slice(Te,Te+50).join(",")}&key=${ne}`;try{const lt=await fetch(Xe);if(lt.ok){const ut=await lt.json();ut.items&&ut.items.forEach(De=>{ze[De.id]={videoUrl:`https://www.youtube.com/watch?v=${De.id}`,title:De.snippet.title,thumbnailUrl:De.snippet.thumbnails?.medium?.url||De.snippet.thumbnails?.default?.url,author:De.snippet.channelTitle,viewCount:De.statistics?.viewCount,publishedAt:De.snippet.publishedAt}})}}catch(lt){console.error("Failed to fetch batch details",lt)}}return{sourcePlaylistName:fe,videos:Y.filter(Te=>Te.snippet?.resourceId?.kind==="youtube#video").map(Te=>{const Ue=Te.snippet.resourceId.videoId,Xe=ze[Ue]||{};return{videoId:Ue,videoUrl:Xe.videoUrl||`https://www.youtube.com/watch?v=${Ue}`,title:Xe.title||Te.snippet.title,thumbnailUrl:Xe.thumbnailUrl||Te.snippet.thumbnails?.medium?.url,author:Xe.author||Te.snippet.videoOwnerChannelTitle||"Unknown",viewCount:Xe.viewCount||"0",publishedAt:Xe.publishedAt||Te.snippet.publishedAt}})}}else if(Z){const xe=`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${Z}&key=${ne}`,I=await(await fetch(xe)).json();let fe="Unknown Video",me=null,Y="Unknown",ke="0",ze=null;if(I.items&&I.items.length>0){const Te=I.items[0].snippet,Ue=I.items[0].statistics;fe=Te.title,me=Te.thumbnails?.medium?.url,Y=Te.channelTitle,ke=Ue?.viewCount||"0",ze=Te.publishedAt}return{sourcePlaylistName:"Single Video",videos:[{videoId:Z,videoUrl:`https://www.youtube.com/watch?v=${Z}`,title:fe,thumbnailUrl:me,author:Y,viewCount:ke,publishedAt:ze}]}}else throw new Error(`Invalid URL: ${U}`)},L=async U=>{const ne=await Vt(parseInt(U));return{sourcePlaylistName:`Local Playlist ${U}`,videos:ne.map(Z=>({videoId:Z.video_id,videoUrl:Z.video_url,title:Z.title,thumbnailUrl:Z.thumbnail_url,author:Z.author||"Unknown",viewCount:Z.view_count||"0",publishedAt:Z.published_at||null}))}},q=async(U,ne)=>{const Z=await Mn(parseInt(U),ne);return{sourcePlaylistName:`Local ${ne} Folder`,videos:Z.map(he=>({videoId:he.video_id,videoUrl:he.video_url,title:he.title,thumbnailUrl:he.thumbnail_url,author:he.author||"Unknown",viewCount:he.view_count||"0",publishedAt:he.published_at||null}))}},T=(U,ne)=>{O(Z=>({...Z,[U]:ne}))},D=U=>{se(U),re(!0)},H=U=>{if(oe&&U.length>0){const ne=z[oe]||"",Z=U.join(`
`);T(oe,ne?`${ne}
${Z}`:Z)}re(!1),se(null)},Q=async()=>{let U,ne="";try{if(m(!0),y(null),_==="new"){if(!k.trim())throw new Error("Playlist Name is required");ne=k,v({current:0,total:1,message:"Creating new playlist..."}),U=await Pr(k,M)}else if(w===""){const I=u.find(fe=>fe.name==="Unsorted");I?(U=I.id,ne="Unsorted"):(ne="Unsorted",U=await Pr("Unsorted","Automatically created"))}else{U=parseInt(w);const I=u.find(fe=>fe.id===U);ne=I?I.name:"Unknown"}const Z=[];if(le(z.all).forEach(I=>Z.push({url:I,folderColor:null})),Ot.forEach(I=>{le(z[I.id]).forEach(me=>Z.push({url:me,folderColor:I.id}))}),Z.length===0)throw new Error("No valid links found to import.");v({current:0,total:Z.length,message:"Fetching videos..."});let xe=[];for(let I=0;I<Z.length;I++){const{url:fe,folderColor:me}=Z[I];v({current:I+1,total:Z.length,message:`Fetching from link ${I+1}/${Z.length}`});try{let Y;if(fe.startsWith("local:playlist:"))Y=await L(fe.replace("local:playlist:",""));else if(fe.startsWith("local:folder:")){const[ke,ze]=fe.replace("local:folder:","").split(":");Y=await q(ke,ze)}else Y=await X(fe);Y.videos.forEach(ke=>{xe.push({...ke,folderColor:me})})}catch(Y){console.error(`Failed to fetch ${fe}`,Y)}}if(xe.length===0)throw new Error("Could not fetch any videos from provided links.");v({current:0,total:xe.length,message:`Adding ${xe.length} videos to "${ne}"...`});let J=0;for(let I=0;I<xe.length;I++){const fe=xe[I];try{const me=await Ir(U,fe.videoUrl,fe.videoId,fe.title,fe.thumbnailUrl,fe.author,fe.viewCount,fe.publishedAt,!1);J++,fe.folderColor&&await Aa(U,me,fe.folderColor),I%5===0&&v({current:I+1,total:xe.length,message:`Adding videos... ${I+1}/${xe.length}`})}catch(me){console.error("Insert failed",me)}}v({current:J,total:J,message:`Complete! Added ${J} videos.`}),setTimeout(()=>{i&&i()},1500)}catch(Z){console.error("Import failed",Z),y(Z.message),m(!1)}},de=async U=>{const ne=U.target.files[0];if(ne){if(!ne.name.endsWith(".json")){y("Please select a JSON file");return}try{const Z=await ne.text();Ee(Z)}catch(Z){y("Failed to read file: "+Z.message)}}},je=async()=>{if(!Se.trim()){y("Please input JSON");return}try{m(!0);const U=JSON.parse(Se);v({current:0,total:0,message:"Processing JSON..."});const ne=U.playlist?.name||"Imported JSON",Z=U.playlist?.description||"",he=await Pr(ne,Z),xe=U.videos||U.playlist?.videos||[];if(!Array.isArray(xe))throw new Error("No videos array found");v({current:0,total:xe.length,message:`Importing ${xe.length} videos...`});for(let J=0;J<xe.length;J++){const I=xe[J],fe=I.url||I.video_url||I.videoUrl,me=I.videoId||I.video_id||mi(fe);if(!me)continue;const Y=await Ir(he,fe||`https://youtube.com/watch?v=${me}`,me,I.title,I.thumbnailUrl||I.thumbnail_url,I.author,I.viewCount,I.publishedAt||I.published_at,I.isLocal||!1);if(I.folder_assignments&&Array.isArray(I.folder_assignments))for(const ke of I.folder_assignments)await Aa(he,Y,ke);J%10===0&&v({current:J+1,total:xe.length,message:`Importing... ${J+1}`})}setTimeout(()=>{i&&i()},1e3)}catch(U){y("JSON Import Failed: "+U.message),m(!1)}};return c.jsxs(c.Fragment,{children:[V&&c.jsx(m2,{onSelect:H,onCancel:()=>re(!1)}),c.jsxs("div",{className:"w-full max-w-4xl mx-auto p-0 bg-slate-800 rounded-lg border border-slate-700 flex flex-col h-[80vh] max-h-[800px]",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 bg-slate-800/50 rounded-t-lg",children:[c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{onClick:()=>r("add"),className:`px-4 py-2 font-bold rounded-lg transition-colors ${l==="add"?"bg-sky-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:"Add"}),c.jsx("button",{onClick:()=>r("modify"),className:`px-4 py-2 font-bold rounded-lg transition-colors ${l==="modify"?"bg-sky-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:"Modify"}),c.jsx("button",{onClick:()=>r("json"),className:`px-4 py-2 font-bold rounded-lg transition-colors ${l==="json"?"bg-sky-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:"JSON"})]}),c.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-slate-600",children:[l==="add"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-700 flex flex-wrap gap-4 items-center",children:[c.jsx("div",{className:"flex-shrink-0 text-slate-300 font-medium",children:"Add to:"}),_==="existing"?c.jsxs("div",{className:"flex-1 flex gap-2",children:[c.jsxs("select",{value:w,onChange:U=>N(U.target.value),className:"flex-1 bg-slate-800 border border-slate-600 text-white text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block p-2.5",disabled:f,children:[c.jsx("option",{value:"",children:"Default (Unsorted)"}),u.map(U=>c.jsx("option",{value:U.id,children:U.name},U.id))]}),c.jsx("button",{onClick:()=>S("new"),className:"bg-green-600 hover:bg-green-700 text-white p-2.5 rounded-lg transition-colors",title:"Create New Playlist",disabled:f,children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}):c.jsxs("div",{className:"flex-1 space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[c.jsx("input",{type:"text",placeholder:"New Playlist Name",value:k,onChange:U=>E(U.target.value),className:"w-full bg-slate-800 border border-slate-600 text-white text-sm rounded-lg p-2.5 focus:border-green-500 focus:outline-none",autoFocus:!0,disabled:f}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",placeholder:"Description (Optional)",value:M,onChange:U=>A(U.target.value),className:"flex-1 bg-slate-800 border border-slate-600 text-white text-sm rounded-lg p-2.5 focus:border-green-500 focus:outline-none",disabled:f}),c.jsx("button",{onClick:()=>S("existing"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm",disabled:f,children:"Cancel"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Links (YouTube Playlists, Videos, or Local Refs)"}),c.jsxs("button",{onClick:()=>D("all"),className:"text-xs text-sky-400 hover:text-sky-300 flex items-center gap-1",disabled:f,children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Existing"]})]}),c.jsx("textarea",{value:z.all,onChange:U=>T("all",U.target.value),className:"w-full h-32 bg-slate-900 border border-slate-700 rounded-lg p-3 text-sm text-slate-300 font-mono focus:border-sky-500 focus:outline-none resize-none",placeholder:"Paste links here...",disabled:f})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>P(!F),className:"w-full flex items-center justify-between p-3 bg-slate-800 border border-slate-700 rounded-lg hover:bg-slate-750 transition-colors",disabled:f,children:[c.jsx("span",{className:"font-medium text-slate-300 text-sm",children:"Colored Folder Assignments"}),c.jsx("svg",{className:`w-5 h-5 text-slate-400 transform transition-transform ${F?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),F&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-in fade-in slide-in-from-top-2",children:Ot.map(U=>c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 px-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:U.hex}}),c.jsx("span",{children:U.name})]}),c.jsx("button",{onClick:()=>D(U.id),className:"hover:text-white",disabled:f,children:"+"})]}),c.jsx("textarea",{value:z[U.id],onChange:ne=>T(U.id,ne.target.value),className:"w-full h-20 bg-slate-900 border border-slate-700/50 rounded-md p-2 text-xs font-mono focus:outline-none resize-none",style:{borderLeft:`3px solid ${U.hex}`},placeholder:"Links...",disabled:f})]},U.id))})]})]}),l==="modify"&&c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 space-y-4",children:[c.jsx("svg",{className:"w-16 h-16 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),c.jsx("p",{className:"text-lg font-medium",children:"Modify Playlist"}),c.jsx("p",{className:"text-sm",children:"Coming soon. Select specific playlists to batch edit or reorganize."})]}),l==="json"&&c.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Paste Configuration or Upload File"}),c.jsxs("div",{children:[c.jsx("input",{type:"file",ref:Me,accept:".json",onChange:de,className:"hidden"}),c.jsx("button",{onClick:()=>Me.current?.click(),className:"text-xs bg-slate-700 hover:bg-slate-600 text-white px-3 py-1.5 rounded-md transition-colors",disabled:f,children:"Upload File"})]})]}),c.jsx("textarea",{value:Se,onChange:U=>Ee(U.target.value),className:"flex-1 w-full bg-slate-900 border border-slate-700 rounded-lg p-4 font-mono text-sm text-slate-300 focus:border-sky-500 focus:outline-none resize-none",placeholder:"{ 'playlist': ... }",disabled:f})]})]}),c.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-800/50 rounded-b-lg space-y-4",children:[g&&c.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 text-red-400 rounded-lg text-sm",children:g}),f&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[c.jsx("span",{children:x.message}),c.jsxs("span",{children:[x.current," / ",x.total]})]}),c.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-sky-500 transition-all duration-300",style:{width:`${x.total?x.current/x.total*100:0}%`}})})]}),c.jsxs("div",{className:"flex items-center justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",disabled:f,children:"Cancel"}),c.jsx("button",{onClick:l==="add"?Q:l==="json"?je:()=>{},disabled:f||l==="modify",className:`px-6 py-2 rounded-lg font-medium text-white transition-colors ${f||l==="modify"?"bg-slate-600 cursor-not-allowed opacity-50":"bg-sky-500 hover:bg-sky-600"}`,children:f?"Processing...":l==="add"?"Import to Playlist":l==="json"?"Import JSON":"Save Changes"})]})]})]})]})},fb=({folder:i,onFolderClick:e})=>{const s=Gs(i.folder_color),l=i.first_video?In(i.first_video.video_id,"medium"):null,r=()=>{e&&i.first_video&&e(i.first_video.video_url,i.playlist_id)};return c.jsx("div",{onClick:r,className:"cursor-pointer group bg-slate-800 rounded-lg p-3 hover:bg-slate-700 transition-all duration-200 border border-slate-700 hover:border-sky-500",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex-shrink-0 relative w-16 h-16 rounded bg-slate-700 overflow-hidden",children:[c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 z-10",style:{backgroundColor:s.hex}}),l?c.jsx("img",{src:l,alt:i.first_video?.title||"Folder thumbnail",className:"w-full h-full object-cover pl-2",onError:u=>{u.target.style.display="none",u.target.nextElementSibling&&(u.target.nextElementSibling.style.display="flex")}}):null,c.jsx("div",{className:`w-full h-full flex items-center justify-center pl-2 ${l?"hidden":"flex"}`,children:c.jsx("svg",{className:"w-8 h-8 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:s.hex}}),c.jsxs("h3",{className:"text-white font-medium text-sm truncate group-hover:text-sky-400 transition-colors",children:[s.name," Folder"]})]}),c.jsx("p",{className:"text-slate-400 text-xs mt-1 line-clamp-1",children:i.playlist_name}),i.video_count>0&&c.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:[i.video_count," video",i.video_count!==1?"s":""]})]}),c.jsx("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("svg",{className:"w-6 h-6 text-sky-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})]})})};var $4=t2();const qd=ep($4),H4=({options:i,onOptionClick:e,submenuOptions:s={}})=>{const[l,r]=j.useState(!1),[u,d]=j.useState(null),f=j.useRef(null),m=j.useRef(null),g=j.useRef(null),{inspectMode:y}=Qn(),x=S=>y?S:void 0;j.useEffect(()=>{const S=w=>{g.current&&!g.current.contains(w.target)&&r(!1)};return l&&setTimeout(()=>{document.addEventListener("mousedown",S)},0),()=>{document.removeEventListener("mousedown",S)}},[l]);const v=S=>{if(S.submenu&&s[S.submenu]){d(S.submenu);return}e&&e(S),r(!1),d(null)},_=(S,w)=>{e&&e({...w,parentAction:S}),r(!1),d(null)};return c.jsxs("div",{ref:g,className:"relative","data-card-menu":"true",children:[c.jsx("button",{ref:m,onClick:S=>{S.stopPropagation(),r(!l)},className:"p-1.5 rounded-lg hover:bg-slate-700/50 transition-colors text-slate-400 hover:text-white",title:x("More options")||"More options",children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l&&c.jsx(Y4,{isOpen:l,buttonRef:m,menuRef:f,onClose:()=>r(!1),options:i,handleOptionClick:v,submenuOptions:s,activeSubmenu:u,setActiveSubmenu:d,handleSubmenuOptionClick:_})]})},Y4=({buttonRef:i,menuRef:e,onClose:s,options:l,handleOptionClick:r,submenuOptions:u,activeSubmenu:d,setActiveSubmenu:f,handleSubmenuOptionClick:m})=>{const[g,y]=j.useState(null);return j.useRef(null),j.useEffect(()=>{const x=()=>{if(i.current){const v=i.current.getBoundingClientRect();let _=v.bottom+5,S=v.right-192;S<0&&(S=v.left),y({top:_,left:S})}};return x(),window.addEventListener("resize",x),document.addEventListener("scroll",x,!0),()=>{window.removeEventListener("resize",x),document.removeEventListener("scroll",x,!0)}},[i]),j.useEffect(()=>{const x=v=>{e.current&&!e.current.contains(v.target)&&i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[e,i,s]),g?qd.createPortal(c.jsxs("div",{ref:e,className:"fixed z-30 bg-slate-800 border border-slate-700 rounded-lg shadow-xl overflow-visible w-48",style:{top:g.top,left:g.left,position:"fixed"},onClick:x=>x.stopPropagation(),children:[l.map((x,v)=>c.jsx("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),x.disabled||r(x)},disabled:x.disabled,className:`w-full text-left px-4 py-2.5 text-sm transition-colors relative ${x.disabled?"opacity-50 cursor-not-allowed text-slate-500":x.danger?"text-red-400 hover:bg-red-500/10 hover:text-red-300":"text-white hover:bg-slate-700"} ${v===0?"":"border-t border-slate-700"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[x.icon&&c.jsx("span",{className:"flex-shrink-0",children:x.icon}),c.jsx("span",{children:x.label})]}),x.submenu&&c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},v)),d&&u[d]&&c.jsxs("div",{className:"absolute inset-0 bg-slate-800 z-10 flex flex-col animate-in slide-in-from-right duration-200",children:[c.jsx("button",{onClick:()=>f(null),className:"w-full text-left px-4 py-2.5 text-sm text-slate-400 hover:bg-slate-700 border-b border-slate-700 flex-shrink-0",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),c.jsx("span",{children:"Back"})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:u[d].map((x,v)=>c.jsx("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),x.disabled||m(d,x)},disabled:x.disabled,className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${x.disabled?"opacity-50 cursor-not-allowed text-slate-500":x.danger?"text-red-400 hover:bg-red-500/10 hover:text-red-300":"text-white hover:bg-slate-700"} ${v===0?"":"border-t border-slate-700"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[x.icon&&c.jsx("span",{className:"flex-shrink-0",children:x.icon}),c.jsx("span",{children:x.label})]})},v))})]})]}),document.body):null},p2=({menuOptions:i=[],onMenuOptionClick:e,submenuOptions:s={},quickActions:l=[],position:r="bottom-right",className:u=""})=>{const{inspectMode:d}=Qn(),f=y=>d?y:void 0,m={"top-right":"top-2 right-2","bottom-right":"bottom-2 right-2","top-left":"top-2 left-2","bottom-left":"bottom-2 left-2"},g=!u.includes("relative");return c.jsxs("div",{className:`${g?`absolute ${m[r]}`:""} z-20 flex items-center gap-1 ${u}`,"data-card-action":"true",children:[l.map((y,x)=>c.jsx("button",{onClick:v=>{v.stopPropagation(),y.onClick&&y.onClick(v)},className:"p-1.5 rounded-lg bg-black/70 hover:bg-black/90 transition-all",title:f(y.title)||y.title,style:y.color?{color:y.color}:{},"data-card-action":"true",children:y.icon},x)),i.length>0&&c.jsx(H4,{options:i,onOptionClick:e,submenuOptions:s})]})},X4=({onPlaylistSelect:i,onVideoSelect:e})=>{console.log("=== PLAYLISTLIST FILE LOADED ==="),console.log("Component function called");const[s,l]=j.useState([]),[r,u]=j.useState({}),[d,f]=j.useState([]),[m,g]=j.useState(!0),[y,x]=j.useState(null),[v,_]=j.useState(!1),[S,w]=j.useState(new Set),[N,k]=j.useState({}),[E,M]=j.useState(new Set),{showColoredFolders:A,setShowColoredFolders:z}=Pc(),{setPlaylistItems:O,setAllPlaylists:F}=Di(),{setViewMode:P}=Qn();j.useEffect(()=>{console.log("=== PlaylistList COMPONENT MOUNTED (useEffect) ==="),console.log("showColoredFolders:",A),console.log("onPlaylistSelect:",typeof i),console.log("onVideoSelect:",typeof e),V()},[]),j.useEffect(()=>{A?re():f([])},[A]);const V=async()=>{try{g(!0),x(null),console.log("Loading playlists from database...");const X=await Nn();if(console.log("Loaded playlists:",X),!Array.isArray(X)){console.warn("getAllPlaylists returned non-array data:",X),l([]),u({});return}l(X),F(X);const L={},q=new Set;for(const T of X)try{const D=await Vt(T.id);Array.isArray(D)?L[T.id]={itemCount:D.length,firstVideo:D.length>0?D[0]:null}:(console.warn(`getPlaylistItems returned non-array for playlist ${T.id}:`,D),L[T.id]={itemCount:0,firstVideo:null});try{const H=await hm(T.id);console.log(`Playlist ${T.id} (${T.name}): Found ${H?.length||0} folders`),Array.isArray(H)&&H.length>0&&(q.add(T.id),console.log(`Added playlist ${T.id} to playlistsWithFolders`),k(Q=>({...Q,[T.id]:H})))}catch(H){console.debug(`No folders for playlist ${T.id}:`,H)}}catch(D){console.error(`Failed to load items for playlist ${T.id}:`,D),L[T.id]={itemCount:0,firstVideo:null}}u(L),M(q)}catch(X){console.error("Failed to load playlists:",X),x(X.message||"Failed to load playlists from database"),l([]),u({})}finally{g(!1)}},re=async()=>{try{console.log("Loading folders with videos...");const X=await Ea();console.log("Loaded folders data:",X),f(Array.isArray(X)?X:[]),console.log("Set folders:",Array.isArray(X)?X:[])}catch(X){console.error("Failed to load folders:",X),f([])}},oe=async(X,L)=>{if(!(L&&L.target.closest(".expand-button")))try{const q=await Vt(X.id);i&&i(q,X.id)}catch(q){console.error("Failed to load playlist items:",q)}},se=async(X,L)=>{if(L.stopPropagation(),S.has(X))w(T=>{const D=new Set(T);return D.delete(X),D});else if(w(T=>new Set(T).add(X)),!N[X]||N[X].length===0)try{const D=await hm(X)||[];console.log(`Loaded ${D.length} folders for playlist ${X}`),k(H=>({...H,[X]:D})),D.length>0&&M(H=>new Set(H).add(X))}catch(T){console.error(`Failed to load folders for playlist ${X}:`,T),k(D=>({...D,[X]:[]}))}},Se=async(X,L)=>{try{const q=await Vt(L);O(q,L),e&&e(X)}catch(q){console.error("Failed to load folder playlist items:",q)}},Ee=()=>{_(!1),V(),A&&re()},Me=(X,L)=>{console.log("Playlist menu option clicked:",X,L),X.action==="delete"&&confirm(`Are you sure you want to delete playlist "${L.name}"?`)&&console.log("Delete confirmed for",L.id)},W=X=>[{label:"Delete Playlist",danger:!0,icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),action:"delete"},{label:"Rename",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),action:"rename"}],le=()=>(console.log("=== RENDERING HEADER ==="),console.log("showColoredFolders in header:",A),c.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-700 flex-shrink-0",style:{overflow:"visible",backgroundColor:"#1e293b",position:"relative",zIndex:1e3},children:[c.jsx("h2",{className:"text-sm font-semibold flex-shrink-0 mr-2",style:{color:"#052F4A"},children:"Playlists"}),c.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",style:{overflow:"visible",position:"relative",zIndex:1001},children:[c.jsx("button",{onClick:X=>{X.preventDefault(),X.stopPropagation(),console.log("=== TOGGLE FOLDERS BUTTON CLICKED ==="),console.log("Current state:",A),z(!A)},className:`flex items-center justify-center w-8 h-8 rounded-lg text-xs font-medium transition-colors flex-shrink-0 ${A?"bg-sky-600 text-white hover:bg-sky-700":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,title:A?"Hide colored folders":"Show colored folders",style:{minWidth:"32px",minHeight:"32px",width:"32px",height:"32px",backgroundColor:A?"#0284c7":"#475569",color:"#ffffff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px"},children:c.jsx("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),c.jsx("button",{onClick:()=>_(!0),className:"flex items-center justify-center w-8 h-8 bg-sky-500 text-white rounded-lg text-xs font-medium hover:bg-sky-600 transition-colors flex-shrink-0",title:"Import Playlist",style:{minWidth:"32px",minHeight:"32px",width:"32px",height:"32px",backgroundColor:"#0ea5e9",color:"#ffffff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px"},children:c.jsx("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c.jsx("button",{onClick:()=>P("full"),className:"flex items-center justify-center w-8 h-8 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",title:"Close menu (Full screen)",style:{minWidth:"32px",minHeight:"32px",width:"32px",height:"32px",backgroundColor:"#dc2626",color:"#ffffff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px"},children:c.jsx("svg",{style:{width:"16px",height:"16px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}));return console.log("=== PlaylistList MAIN RENDER ==="),console.log("showColoredFolders:",A),console.log("folders:",d.length),console.log("playlists:",s.length),console.log("loading:",m),console.log("error:",y),console.log("showUploader:",v),m?c.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[le(),c.jsx("div",{className:"flex items-center justify-center flex-1 p-4",children:c.jsx("p",{className:"text-sm",style:{color:"#052F4A"},children:"Loading playlists..."})})]}):y?c.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[le(),c.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-4 gap-2",children:[c.jsx("p",{className:"text-red-400 text-sm",children:"Error loading playlists"}),c.jsx("p",{className:"text-slate-400 text-xs",children:y}),c.jsx("button",{onClick:V,className:"px-3 py-1.5 bg-sky-500 rounded text-xs hover:bg-sky-600 transition-colors",style:{color:"#052F4A"},children:"Retry"})]})]}):v?c.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[le(),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsx(ap,{onUploadComplete:Ee,onCancel:()=>_(!1)})})]}):s.length===0?c.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[le(),c.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-4 gap-4",children:[c.jsx("p",{className:"text-sm",style:{color:"#052F4A"},children:"No playlists found"}),c.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 rounded-lg font-medium hover:bg-sky-600 transition-colors",style:{color:"#052F4A"},children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),c.jsx("span",{children:"Import Playlist"})]})]})]}):c.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",style:{position:"relative"},children:[c.jsx("div",{style:{position:"absolute",top:"0",left:"0",right:"0",backgroundColor:"rgba(255, 0, 0, 0.3)",color:"white",padding:"5px",zIndex:1e4,fontSize:"10px",textAlign:"center"},children:"PLAYLIST LIST COMPONENT IS RENDERING"}),le(),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-3",children:[A&&c.jsx(c.Fragment,{children:d.length>0?c.jsxs(c.Fragment,{children:[d.map((X,L)=>c.jsx(fb,{folder:X,onFolderClick:Se},`${X.playlist_id}-${X.folder_color}-${L}`)),s.length>0&&c.jsx("div",{className:"pt-2 pb-1",children:c.jsx("div",{className:"h-px bg-slate-700"})})]}):c.jsx("div",{className:"text-slate-400 text-xs py-2",children:"No folders with videos found"})}),s.map(X=>{const L=r[X.id]||{itemCount:0,firstVideo:null},q=L.firstVideo,T=q?In(q.video_id,"medium"):null,D=S.has(X.id),H=N[X.id]||[],Q=E.has(X.id)||H.length>0;return console.log(`Playlist ${X.id} (${X.name}):`,{hasFolders:Q,inSet:E.has(X.id),foldersCount:H.length,folders:H}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{onClick:de=>oe(X,de),className:"cursor-pointer group bg-slate-800 rounded-lg p-3 hover:bg-slate-700 transition-all duration-200 border border-slate-700 hover:border-sky-500",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsxs("div",{className:"flex-shrink-0 w-16 h-16 rounded bg-slate-700 overflow-hidden",children:[T?c.jsx("img",{src:T,alt:X.name,className:"w-full h-full object-cover",onError:de=>{de.target.style.display="none",de.target.nextElementSibling&&(de.target.nextElementSibling.style.display="flex")}}):null,c.jsx("div",{className:`w-full h-full flex items-center justify-center ${T?"hidden":"flex"}`,children:c.jsx("svg",{className:"w-8 h-8 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-medium text-sm truncate transition-colors",style:{color:"#052F4A"},onMouseEnter:de=>de.currentTarget.style.color="#38bdf8",onMouseLeave:de=>de.currentTarget.style.color="#052F4A",children:X.name}),X.description&&c.jsx("p",{className:"text-slate-400 text-xs mt-1 line-clamp-1",children:X.description}),L.itemCount>0&&c.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:[L.itemCount," video",L.itemCount!==1?"s":"",Q&&c.jsxs("span",{className:"ml-2",children:[" ",H.length," folder",H.length!==1?"s":""]})]})]}),c.jsx("button",{onClick:de=>se(X.id,de),className:"expand-button flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg bg-sky-600 hover:bg-sky-700 text-white transition-colors z-10",title:D?"Collapse folders":Q?"Expand folders":"No folders (testing)",style:{minWidth:"32px",minHeight:"32px",opacity:Q?1:.3},children:c.jsx("svg",{className:`w-5 h-5 transition-transform ${D?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),c.jsx("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("svg",{className:"w-6 h-6 text-sky-400",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})}),c.jsx("div",{className:"flex-shrink-0 self-start pt-1",onClick:de=>de.stopPropagation(),children:c.jsx(p2,{menuOptions:W(),onMenuOptionClick:de=>Me(de,X),position:"bottom-right",className:"relative"})})]})}),D&&Q&&c.jsx("div",{className:"ml-4 space-y-2 border-l-2 border-slate-700 pl-4",children:H.map((de,je)=>c.jsx(fb,{folder:de,onFolderClick:Se},`${de.playlist_id}-${de.folder_color}-${je}`))})]},X.id)})]})})]})},q4=()=>{const i=()=>{const r=document.querySelector(".layout-shell__side-menu-content");if(!r)return null;const u=r.querySelector(".overflow-y-auto");return u||r},e=r=>{r.stopPropagation();const u=i();u&&u.scrollTo({top:0,behavior:"smooth"})},s=r=>{r.stopPropagation();const u=i();u&&u.scrollTo({top:u.scrollHeight,behavior:"smooth"})},l=r=>{r.stopPropagation();const u=i();if(!u)return;let d=u.querySelector(".ring-red-500");d||(d=u.querySelector(".active-playlist-marker")||u.querySelector('[data-active-playlist="true"]')),d?d.scrollIntoView({behavior:"smooth",block:"center"}):console.log("No active element found to scroll to.")};return c.jsxs("div",{className:"side-menu-scroll-controls",children:[c.jsx("button",{className:"scroll-control-btn scroll-control-btn--up",onClick:e,title:"Scroll to Top",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"18 15 12 9 6 15"})})}),c.jsx("button",{className:"scroll-control-dot-btn group",onClick:l,title:"Scroll to Active/Playing",children:c.jsx("div",{className:"scroll-control-dot group-hover:scale-150 transition-transform"})}),c.jsx("button",{className:"scroll-control-btn scroll-control-btn--down",onClick:s,title:"Scroll to Bottom",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})},G4=()=>{const{currentPage:i,setCurrentPage:e,history:s,goBack:l}=Gr(),{viewMode:r,setViewMode:u,inspectMode:d}=Qn(),{previewPlaylistId:f,clearPreview:m}=Di(),[g]=j.useState("blue"),y=bc[g],x=S=>d?S:void 0,v=[{id:"playlists",label:"Playlists"},{id:"videos",label:"Videos"},{id:"history",label:"History",icon:c.jsx(Ad,{size:16})},{id:"likes",label:"Likes",icon:c.jsx(w5,{size:16})},{id:"pins",label:"Pins",icon:c.jsx(kr,{size:16})},{id:"settings",label:"Settings",icon:c.jsx(r2,{size:16})},{id:"support",label:"Support",icon:c.jsx(e5,{size:16})}],_=S=>{e(S),["playlists","videos","history","likes","pins","settings","support"].includes(S)&&r==="full"&&u("half")};return c.jsx("div",{className:`w-full flex-col gap-2 rounded-xl backdrop-blur-md shadow-lg border p-2 mb-2 transition-all duration-300 ${y.menuBg} ${y.menuBorder}`,children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsx("div",{className:"flex items-center gap-1.5 overflow-x-auto no-scrollbar scroll-smooth",children:v.map(S=>{const w=["history","likes","pins","settings","support"].includes(S.id),N=i===S.id;return c.jsxs("button",{onClick:()=>_(S.id),className:`rounded-full flex items-center justify-center border-2 shadow-sm transition-all duration-200 ${N?"bg-white border-sky-500 text-sky-600 transform scale-105":"bg-white border-[#334155] text-slate-600 hover:bg-slate-50 active:scale-95"} ${w?"w-9 h-9 p-0":"px-4 h-9 gap-1.5"}`,title:x(`${S.label} tab`)||S.label,children:[S.icon&&c.jsx("span",{className:N?"opacity-100":"opacity-80",children:S.icon}),!w&&c.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:S.label})]},S.id)})}),c.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-sky-300/30",children:[c.jsx(q4,{}),(s.length>0||f)&&c.jsx("button",{onClick:()=>{f&&m(),s.length>0?l():f&&e("playlists")},className:`flex items-center justify-center w-7 h-7 rounded-full shadow-sm border transition-all hover:scale-105 active:scale-90 ${y.tabInactive}`,title:x("Go Back")||"Go Back",children:c.jsx(Br,{size:16})}),c.jsx("button",{onClick:()=>u("full"),className:"flex items-center justify-center w-7 h-7 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors shadow-md border border-rose-400 active:scale-90",title:x("Close menu (Full screen)")||"Close menu (Full screen)",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]})]})})},W4=({onImportComplete:i,onCancel:e})=>{const[s,l]=j.useState(""),[r,u]=j.useState(""),[d,f]=j.useState({all:"",...Ot.reduce((L,q)=>(L[q.id]="",L),{})}),[m,g]=j.useState(!1),[y,x]=j.useState(null),[v,_]=j.useState(!1),[S,w]=j.useState(null),[N,k]=j.useState("new"),[E,M]=j.useState([]),[A,z]=j.useState(""),[O,F]=j.useState({current:0,total:0,message:"",currentPlaylist:"",videosProcessed:0,totalVideos:0});j.useEffect(()=>{P()},[]);const P=async()=>{try{const L=await Nn();M(L)}catch(L){console.error("Failed to load playlists:",L)}},V=L=>!L||!L.trim()?[]:L.split(/\n/).flatMap(T=>T.includes(",")?T.split(",").map(D=>D.trim()):T.includes(";")?T.split(";").map(D=>D.trim()):T.includes("|")?T.split("|").map(D=>D.trim()):T.split(/\s+/).map(D=>D.trim())).filter(T=>{if(!T)return!1;const D=T.includes("youtube.com/playlist")||T.includes("youtu.be")||T.includes("youtube.com/watch")&&T.includes("list="),H=T.startsWith("local:playlist:")||T.startsWith("local:folder:");return D||H}).filter((T,D,H)=>H.indexOf(T)===D),re=async L=>{const q="AIzaSyBYPwv0a-rRbTrvMA9nF4Wa1ryC0b6l7xw",T=f2(L);if(!T)throw new Error(`Invalid YouTube playlist URL: ${L}`);const D=`https://www.googleapis.com/youtube/v3/playlists?part=snippet&id=${T}&key=${q}`,H=await fetch(D);if(!H.ok)throw new Error("Failed to fetch playlist details from YouTube API");const Q=await H.json();if(!Q.items||Q.items.length===0)throw new Error("Playlist not found or is private");const je=Q.items[0].snippet.title;let U=null,ne=[];do{const he=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${T}&maxResults=50&key=${q}${U?`&pageToken=${U}`:""}`,xe=await fetch(he);if(!xe.ok)throw new Error("Failed to fetch playlist videos from YouTube API");const J=await xe.json();J.items&&(ne=ne.concat(J.items)),U=J.nextPageToken}while(U);if(ne.length===0)throw new Error("No videos found in this playlist");const Z=ne.filter(he=>he.snippet.resourceId&&he.snippet.resourceId.kind==="youtube#video").map(he=>{const xe=he.snippet,J=xe.resourceId.videoId;return{videoId:J,videoUrl:`https://www.youtube.com/watch?v=${J}`,title:xe.title||null,thumbnailUrl:xe.thumbnails?.medium?.url||xe.thumbnails?.default?.url||null}});return{sourcePlaylistName:je,videos:Z}},oe=async L=>{try{const T=(await Vt(parseInt(L))).map(D=>({videoId:D.video_id,videoUrl:D.video_url,title:D.title,thumbnailUrl:D.thumbnail_url}));return{sourcePlaylistName:`Local Playlist ${L}`,videos:T}}catch(q){throw new Error(`Failed to fetch local playlist ${L}: ${q.message}`)}},se=async(L,q)=>{try{const D=(await Mn(parseInt(L),q)).map(H=>({videoId:H.video_id,videoUrl:H.video_url,title:H.title,thumbnailUrl:H.thumbnail_url}));return{sourcePlaylistName:`Local ${q} Folder`,videos:D}}catch(T){throw new Error(`Failed to fetch local folder ${q} from playlist ${L}: ${T.message}`)}},Se=async()=>{try{if(N==="new"&&!s.trim()){x("Please enter a name for the destination playlist.");return}if(N==="existing"&&!A){x("Please select a destination playlist.");return}g(!0),x(null);const L=[];if(V(d.all).forEach(he=>{L.push({url:he,folderColor:null})}),Ot.forEach(he=>{V(d[he.id]).forEach(J=>{L.push({url:J,folderColor:he.id})})}),L.length===0){x("No valid playlist links found. Please enter at least one YouTube playlist URL or add existing playlists/folders."),g(!1);return}let T,D=s.trim();if(N==="new")F({current:0,total:L.length,message:"Creating destination playlist...",currentPlaylist:"",videosProcessed:0,totalVideos:0}),T=await Pr(s.trim(),r.trim()||null);else{if(!A){x("Please select a destination playlist."),g(!1);return}T=parseInt(A);const he=E.find(xe=>xe.id===T);D=he?he.name:"Unknown Playlist"}let H=[],Q=0,de=0,je=0;const U=[];for(let he=0;he<L.length;he++){const{url:xe,folderColor:J}=L[he];try{F({current:he+1,total:L.length,message:`Fetching videos from ${he+1}/${L.length}...`,currentPlaylist:xe,videosProcessed:Q,totalVideos:0});let I,fe;if(xe.startsWith("local:playlist:")){const me=xe.replace("local:playlist:",""),Y=await oe(me);I=Y.sourcePlaylistName,fe=Y.videos}else if(xe.startsWith("local:folder:")){const me=xe.replace("local:folder:","").split(":"),Y=me[0],ke=me[1],ze=await se(Y,ke);I=ze.sourcePlaylistName,fe=ze.videos}else{const me=await re(xe);I=me.sourcePlaylistName,fe=me.videos}de++,fe.forEach(me=>{H.push({...me,folderColor:J,sourcePlaylist:I})}),Q+=fe.length,F({current:he+1,total:L.length,message:`Fetched ${fe.length} videos from "${I}"`,currentPlaylist:I,videosProcessed:Q,totalVideos:Q})}catch(I){je++;const fe=`Failed to fetch ${xe}: ${I.message}`;U.push(fe),console.error(fe,I)}}if(H.length===0)throw new Error("No videos were successfully fetched from any playlists.");F({current:L.length,total:L.length,message:`Adding ${H.length} videos to playlist...`,currentPlaylist:s,videosProcessed:0,totalVideos:H.length});let ne=0,Z=0;for(let he=0;he<H.length;he++){const xe=H[he];try{const J=await Ir(T,xe.videoUrl,xe.videoId,xe.title,xe.thumbnailUrl);if(ne++,xe.folderColor)try{await Aa(T,J,xe.folderColor),Z++}catch(I){console.error(`Failed to assign folder ${xe.folderColor} to video:`,I)}F({current:L.length,total:L.length,message:`Adding videos... ${ne}/${H.length}`,currentPlaylist:s,videosProcessed:ne,totalVideos:H.length})}catch(J){console.error(`Failed to add video ${he+1}:`,J)}}F({current:L.length,total:L.length,message:`Import complete! ${ne} videos added to "${s}"${Z>0?`, ${Z} assigned to folders`:""}${je>0?`, ${je} playlists failed`:""}`,currentPlaylist:s,videosProcessed:ne,totalVideos:H.length}),U.length>0&&x(`Some playlists failed to import:
${U.slice(0,5).join(`
`)}${U.length>5?`
... and ${U.length-5} more`:""}`),setTimeout(()=>{i&&i()},2e3)}catch(L){console.error("Failed to bulk import playlists:",L);const q=L?.message||L?.toString()||"Failed to import playlists";x(q),g(!1),F({current:0,total:0,message:"",currentPlaylist:"",videosProcessed:0,totalVideos:0})}},Ee=(L,q)=>{f(T=>({...T,[L]:q}))},Me=L=>V(d[L]).length,W=L=>{w(L),_(!0)},le=L=>{if(S&&L.length>0){const q=d[S]||"",T=L.join(`
`),D=q?`${q}
${T}`:T;Ee(S,D)}_(!1),w(null)},X=()=>{_(!1),w(null)};return c.jsxs(c.Fragment,{children:[v&&c.jsx(m2,{onSelect:le,onCancel:X}),c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:c.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 w-full max-w-6xl max-h-[90vh] flex flex-col my-8",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700 flex-shrink-0",children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Bulk Import Playlists"}),e&&c.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",disabled:m,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c.jsx("div",{className:"mb-4 text-sm text-slate-400",children:"All playlists will be combined into a single playlist. Paste YouTube playlist URLs in the fields below. Links can be separated by newlines, commas, or spaces. Videos from playlists in folder-specific fields will be automatically assigned to that folder."}),c.jsxs("div",{className:"flex gap-2 mb-6",children:[c.jsx("button",{type:"button",onClick:()=>k("new"),disabled:m,className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${N==="new"?"bg-sky-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Create New Playlist"}),c.jsx("button",{type:"button",onClick:()=>k("existing"),disabled:m,className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${N==="existing"?"bg-sky-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Add to Existing Playlist"})]}),c.jsx("div",{className:"mb-6 space-y-3",children:N==="new"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Playlist Name ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:s,onChange:L=>l(L.target.value),placeholder:"Enter playlist name...",className:"w-full px-3 py-2 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-sky-500 focus:outline-none",disabled:m})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (Optional)"}),c.jsx("textarea",{value:r,onChange:L=>u(L.target.value),placeholder:"Enter playlist description...",rows:2,className:"w-full px-3 py-2 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-sky-500 focus:outline-none resize-none",disabled:m})]})]}):c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Select Playlist ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("select",{value:A,onChange:L=>z(L.target.value),className:"w-full px-3 py-2 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-sky-500 focus:outline-none appearance-none",disabled:m,children:[c.jsx("option",{value:"",children:"Select a playlist..."}),E.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})]})}),y&&c.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700 rounded-lg",children:c.jsx("p",{className:"text-red-400 text-sm whitespace-pre-wrap",children:y})}),m&&(O.total>0||O.totalVideos>0)&&c.jsxs("div",{className:"mb-6 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-300",children:[c.jsx("span",{children:O.message}),O.totalVideos>0?c.jsxs("span",{children:[O.videosProcessed,"/",O.totalVideos," videos"]}):c.jsxs("span",{children:[O.current,"/",O.total," playlists"]})]}),O.currentPlaylist&&c.jsxs("div",{className:"text-xs text-slate-400 truncate",children:[O.totalVideos>0?"Adding to:":"Fetching from:"," ",O.currentPlaylist]}),c.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:c.jsx("div",{className:"bg-sky-500 h-2 rounded-full transition-all duration-300",style:{width:O.totalVideos>0?`${O.videosProcessed/O.totalVideos*100}%`:`${O.current/O.total*100}%`}})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-300",children:["All (No Folder)",c.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",Me("all")," link",Me("all")!==1?"s":"",")"]})]}),c.jsx("button",{onClick:()=>W("all"),disabled:m,className:"flex items-center justify-center w-7 h-7 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Add existing playlists/folders",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),c.jsx("textarea",{value:d.all,onChange:L=>Ee("all",L.target.value),placeholder:"Paste playlist URLs here or click + to add existing...",rows:6,className:"w-full px-3 py-2 bg-slate-900 text-white rounded-lg border border-slate-600 focus:border-sky-500 focus:outline-none font-mono text-xs resize-none",disabled:m})]}),Ot.map(L=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-300",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-full mr-2",style:{backgroundColor:L.hex}}),L.name,c.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(",Me(L.id)," link",Me(L.id)!==1?"s":"",")"]})]}),c.jsx("button",{onClick:()=>W(L.id),disabled:m,className:"flex items-center justify-center w-7 h-7 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Add existing playlists/folders",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),c.jsx("textarea",{value:d[L.id],onChange:q=>Ee(L.id,q.target.value),placeholder:"Paste playlist URLs here or click + to add existing...",rows:6,className:"w-full px-3 py-2 bg-slate-900 text-white rounded-lg border border-slate-600 focus:border-sky-500 focus:outline-none font-mono text-xs resize-none",style:{borderColor:d[L.id]?L.hex:void 0},disabled:m})]},L.id))]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-700 flex-shrink-0",children:[c.jsx("button",{onClick:e,disabled:m,className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),c.jsx("button",{onClick:Se,disabled:m,className:"px-6 py-2 bg-sky-500 text-white rounded-lg font-medium hover:bg-sky-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Importing...":"Import All Playlists"})]})]})})]})},Q4=({playlistId:i,onUploadComplete:e,onCancel:s})=>{const[l,r]=j.useState([]),[u,d]=j.useState(!1),[f,m]=j.useState(null),[g,y]=j.useState({current:0,total:0,message:""}),x=async()=>{try{const _=await be("select_video_files");if(_&&Array.isArray(_)&&_.length>0)r(_),m(null);else{if(_===null)return;m("No files selected")}}catch(_){console.error("Failed to select files:",_),m("Failed to select files. Please try again.")}},v=async()=>{if(l.length===0){m("Please select at least one video file");return}if(!i){m("No playlist selected");return}try{d(!0),m(null),y({current:0,total:l.length,message:"Adding videos..."});let _=0;for(let S=0;S<l.length;S++){const w=l[S];try{const N=w.split(/[/\\]/),k=N[N.length-1],E=`local_${w.replace(/[^a-zA-Z0-9]/g,"_")}`;await Ir(i,w,E,k,null,!0),_++,y({current:S+1,total:l.length,message:`Added ${_}/${l.length} videos...`})}catch(N){console.error(`Failed to add file ${w}:`,N)}}y({current:l.length,total:l.length,message:`Successfully added ${_} video(s)!`}),setTimeout(()=>{e&&e()},1e3)}catch(_){console.error("Failed to upload local videos:",_);const S=_?.message||_?.toString()||"Failed to upload videos";m(S),y({current:0,total:0,message:""})}finally{d(!1)}};return c.jsxs("div",{className:"w-full max-w-2xl mx-auto p-6 bg-slate-800 rounded-lg border border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Add Local Videos"}),s&&c.jsx("button",{onClick:s,className:"text-slate-400 hover:text-white transition-colors",disabled:u,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Select Video Files"}),c.jsxs("button",{type:"button",onClick:x,disabled:u,className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("svg",{className:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Select Video Files"]}),l.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-slate-700 rounded-lg",children:[c.jsxs("p",{className:"text-sm text-slate-300 mb-2",children:[l.length," file(s) selected:"]}),c.jsx("ul",{className:"text-xs text-slate-400 space-y-1 max-h-32 overflow-y-auto",children:l.map((_,S)=>{const w=_.split(/[/\\]/),N=w[w.length-1];return c.jsx("li",{children:N},S)})})]}),c.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Supported formats: MP4, MKV, AVI, MOV, WebM, FLV, WMV, M4V, MPG, MPEG"})]}),f&&c.jsx("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg",children:c.jsx("p",{className:"text-red-400 text-sm",children:f})}),u&&g.total>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-300",children:[c.jsx("span",{children:g.message}),c.jsxs("span",{children:[g.current,"/",g.total]})]}),c.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:c.jsx("div",{className:"bg-sky-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})})]}),c.jsx("button",{type:"button",onClick:v,disabled:u||l.length===0,className:"w-full px-4 py-2 bg-sky-500 text-white rounded-lg font-medium hover:bg-sky-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Adding Videos...":`Add ${l.length>0?`${l.length} `:""}Video(s) to Playlist`})]})]})},hb=({options:i,onOptionClick:e,submenuOptions:s={}})=>{const[l,r]=j.useState(!1),[u,d]=j.useState(null),[f,m]=j.useState(null),g=j.useRef(null),y=j.useRef(null),{inspectMode:x}=Qn(),v=k=>x?k:void 0,_=k=>{k.preventDefault(),k.stopPropagation(),l?(r(!1),d(null),m(null)):(S(),r(!0))},S=()=>{if(y.current){const k=y.current.getBoundingClientRect();let E=k.bottom+5,M=k.right-192;M<10&&(M=k.left),m({top:E,left:M})}};j.useEffect(()=>{if(!l)return;const k=()=>{S()};return window.addEventListener("resize",k),document.addEventListener("scroll",k,!0),()=>{window.removeEventListener("resize",k),document.removeEventListener("scroll",k,!0)}},[l]),j.useEffect(()=>{if(!l)return;const k=E=>{g.current&&g.current.contains(E.target)||y.current&&y.current.contains(E.target)||(r(!1),d(null))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[l]);const w=(k,E)=>{if(k.preventDefault(),k.stopPropagation(),!E.disabled){if(E.submenu&&s[E.submenu]){d(E.submenu);return}console.log("[NewCardMenu] Option clicked:",E.label,E.action),e&&e(E),r(!1),d(null)}},N=(k,E,M)=>{k.preventDefault(),k.stopPropagation(),!M.disabled&&(console.log("[NewCardMenu] Submenu Option clicked:",M.label,M.action),e&&e({...M,parentAction:E}),r(!1),d(null))};return c.jsxs("div",{className:"relative",onClick:k=>k.stopPropagation(),children:[c.jsx("button",{ref:y,onClick:_,className:"p-1.5 rounded-lg hover:bg-slate-700/50 transition-colors text-slate-400 hover:text-white",title:v("More options")||"More options",children:c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),l&&f&&qd.createPortal(c.jsx("div",{ref:g,className:"fixed z-50 w-48 bg-slate-800 border border-slate-700 rounded-lg shadow-xl overflow-visible text-left",style:{top:f.top,left:f.left},onClick:k=>k.stopPropagation(),children:u?c.jsxs("div",{className:"py-1 animate-in slide-in-from-right duration-200",children:[c.jsxs("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),d(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-400 hover:bg-slate-700 border-b border-slate-700 flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),c.jsx("span",{children:"Back"})]}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:s[u]?.map((k,E)=>c.jsxs("button",{onClick:M=>N(M,u,k),disabled:k.disabled,className:`w-full text-left px-4 py-2.5 text-sm transition-colors flex items-center gap-3 ${k.disabled?"opacity-50 cursor-not-allowed text-slate-500":k.danger?"text-red-400 hover:bg-red-500/10 hover:text-red-300":"text-white hover:bg-slate-700"} ${E>0?"border-t border-slate-700":""}`,children:[k.icon&&c.jsx("span",{className:"flex-shrink-0",children:k.icon}),c.jsx("span",{children:k.label})]},E))})]}):c.jsx("div",{className:"py-1",children:i.map((k,E)=>c.jsxs("button",{onClick:M=>w(M,k),disabled:k.disabled,className:`w-full text-left px-4 py-2.5 text-sm transition-colors flex items-center justify-between gap-3 ${k.disabled?"opacity-50 cursor-not-allowed text-slate-500":k.danger?"text-red-400 hover:bg-red-500/10 hover:text-red-300":"text-white hover:bg-slate-700"} ${E>0?"border-t border-slate-700":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[k.icon&&c.jsx("span",{className:"flex-shrink-0",children:k.icon}),c.jsx("span",{children:k.label})]}),k.submenu&&c.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},E))})}),document.body)]})},K4=({tabId:i,tabName:e,onClose:s,onAdd:l})=>{const[r,u]=j.useState([]),[d,f]=j.useState({}),[m,g]=j.useState(new Set),[y,x]=j.useState(!0);j.useEffect(()=>{v()},[]);const v=async()=>{try{x(!0);const w=await Nn();u(Array.isArray(w)?w:[]);const N={};for(const k of w)try{const E=await Vt(k.id);Array.isArray(E)&&E.length>0&&(N[k.id]=In(E[0].video_id,"medium"))}catch(E){console.error(`Failed to load thumbnail for playlist ${k.id}:`,E)}f(N)}catch(w){console.error("Failed to load playlists:",w),u([])}finally{x(!1)}},_=w=>{g(N=>{const k=new Set(N);return k.has(w)?k.delete(w):k.add(w),k})},S=()=>{m.forEach(w=>{l(i,w)}),s()};return y?c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:s,children:c.jsx("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",onClick:w=>w.stopPropagation(),children:c.jsx("p",{className:"text-white text-center",children:"Loading playlists..."})})}):c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:s,children:c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col",onClick:w=>w.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-white",children:['Add Playlists to "',e,'"']}),c.jsx("button",{onClick:s,className:"text-slate-400 hover:text-white transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto mb-4",children:r.length===0?c.jsx("p",{className:"text-slate-400 text-center py-8",children:"No playlists available"}):c.jsx("div",{className:"space-y-2",children:r.map(w=>{const N=d[w.id],k=m.has(w.id);return c.jsxs("div",{onClick:()=>_(w.id),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${k?"bg-sky-600/20 border border-sky-500":"bg-slate-700 hover:bg-slate-600 border border-transparent"}`,children:[c.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${k?"bg-sky-500 border-sky-500":"border-slate-500"}`,children:k&&c.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsx("div",{className:"w-16 h-16 rounded bg-slate-600 overflow-hidden flex-shrink-0",children:N?c.jsx("img",{src:N,alt:w.name,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"text-white font-medium text-sm truncate",children:w.name}),w.description&&c.jsx("p",{className:"text-slate-400 text-xs mt-1 line-clamp-1",children:w.description})]})]},w.id)})})}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[c.jsxs("p",{className:"text-slate-400 text-sm",children:[m.size," playlist",m.size!==1?"s":""," selected"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:s,className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:S,disabled:m.size===0,className:"px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 disabled:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Add ",m.size>0?`(${m.size})`:""]})]})]})]})})},Z4=({align:i="left"})=>{const{presets:e,activePresetId:s,setActivePreset:l,createPreset:r,deletePreset:u,updatePreset:d}=Lc(),{tabs:f}=Rc(),[m,g]=j.useState(!1),[y,x]=j.useState(!1),[v,_]=j.useState(""),[S,w]=j.useState(new Set),[N,k]=j.useState(null),E=j.useRef(null),[M,A]=j.useState(null);j.useEffect(()=>{const se=()=>{if(E.current&&m){const Se=E.current.getBoundingClientRect();A({top:Se.bottom+8,left:Se.left})}};return m&&(se(),window.addEventListener("resize",se),window.addEventListener("scroll",se,!0)),()=>{window.removeEventListener("resize",se),window.removeEventListener("scroll",se,!0)}},[m]),j.useEffect(()=>{const se=Se=>{if(!m||E.current&&E.current.contains(Se.target))return;const Ee=document.getElementById("tab-presets-dropdown-portal");if(Ee&&Ee.contains(Se.target))return;const Me=document.getElementById("tab-presets-modal");Me&&Me.contains(Se.target)||g(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[m]);const z=e.find(se=>se.id===s)||e[0],O=()=>{v.trim()&&S.size>0&&(r(v.trim(),Array.from(S)),_(""),w(new Set),x(!1))},F=()=>{w(new Set),_(""),x(!0)},P=se=>{w(Se=>{const Ee=new Set(Se);return Ee.has(se)?Ee.delete(se):Ee.add(se),Ee})},V=se=>{se.id!=="all"&&(k(se.id),w(new Set(se.tabIds)),_(se.name),x(!0))},re=()=>{v.trim()&&N&&(d(N,v.trim(),Array.from(S)),k(null),_(""),w(new Set),x(!1))},oe=(se,Se)=>{Se.stopPropagation(),se!=="all"&&window.confirm("Are you sure you want to delete this preset?")&&u(se)};return c.jsxs(c.Fragment,{children:[c.jsxs("button",{ref:E,onClick:se=>{se.stopPropagation(),g(!m)},className:`h-9 px-4 rounded-full text-xs font-bold uppercase tracking-wide transition-colors flex items-center justify-center gap-2 border-2 shadow-sm ${s==="all"?"bg-slate-800 text-white border-slate-700 hover:bg-slate-700":"bg-white text-slate-600 border-[#334155] hover:bg-slate-50"}`,title:"Tab Presets",children:[c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),c.jsx("span",{children:z.name}),c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&M&&qd.createPortal(c.jsxs("div",{id:"tab-presets-dropdown-portal",className:"fixed z-[9999] w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl overflow-hidden",style:{top:M.top,left:M.left},onClick:se=>se.stopPropagation(),children:[c.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.map(se=>c.jsxs("div",{className:`flex items-center justify-between px-3 py-2 hover:bg-slate-700 cursor-pointer group ${s===se.id?"bg-sky-600/20":""}`,onClick:()=>{l(se.id),g(!1)},children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[c.jsx("span",{className:"text-white text-sm truncate",children:se.name}),se.id==="all"?c.jsxs("span",{className:"text-xs text-slate-400",children:["(",f.length," tabs)"]}):c.jsxs("span",{className:"text-xs text-slate-400",children:["(",se.tabIds.length," tabs)"]})]}),c.jsx("div",{className:"flex items-center gap-1",children:se.id!=="all"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:Se=>{Se.stopPropagation(),V(se)},className:"p-1 rounded hover:bg-slate-600 opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-white",title:"Edit preset",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),c.jsx("button",{onClick:Se=>oe(se.id,Se),className:"p-1 rounded hover:bg-slate-600 opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-red-400",title:"Delete preset",children:c.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},se.id))}),c.jsx("div",{className:"border-t border-slate-700",children:c.jsxs("button",{onClick:se=>{se.stopPropagation(),F(),g(!1)},className:"w-full text-left px-3 py-2 text-sm text-sky-400 hover:bg-slate-700 flex items-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),c.jsx("span",{children:"Create Preset"})]})})]}),document.body),y&&c.jsx("div",{id:"tab-presets-modal",className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]",onClick:()=>x(!1),children:c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] flex flex-col",onClick:se=>se.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:N?"Edit Preset":"Create Preset"}),c.jsx("input",{type:"text",value:v,onChange:se=>_(se.target.value),placeholder:"Preset name",className:"px-3 py-2 bg-slate-700 text-white rounded-lg border border-slate-600 focus:outline-none focus:ring-1 focus:ring-sky-500 mb-4",autoFocus:!0}),c.jsxs("div",{className:"flex-1 overflow-y-auto mb-4",children:[c.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Select tabs to include:"}),c.jsx("div",{className:"space-y-2",children:f.filter(se=>se.id!=="all").map(se=>{const Se=S.has(se.id);return c.jsxs("div",{onClick:()=>P(se.id),className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${Se?"bg-sky-600/20 border border-sky-500":"bg-slate-700 hover:bg-slate-600 border border-transparent"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center flex-shrink-0 ${Se?"bg-sky-500 border-sky-500":"border-slate-500"}`,children:Se&&c.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsx("span",{className:"text-white text-sm",children:se.name})]},se.id)})})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-slate-700",children:[c.jsx("button",{onClick:()=>{x(!1),k(null),_(""),w(new Set)},className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:N?re:O,disabled:!v.trim()||S.size===0,className:"px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 disabled:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:N?"Save":"Create"})]})]})})]})},J4=({onAdd:i,onRename:e,onDelete:s,inspectMode:l})=>{const[r,u]=j.useState(!1),[d,f]=j.useState(null),m=j.useRef(null),g=j.useRef(null);j.useEffect(()=>{const x=()=>{if(g.current){const v=g.current.getBoundingClientRect();let _=v.bottom+5,S=v.left;f({top:_,left:S})}};return r&&(x(),window.addEventListener("resize",x),document.addEventListener("scroll",x,!0)),()=>{window.removeEventListener("resize",x),document.removeEventListener("scroll",x,!0)}},[r]),j.useEffect(()=>{const x=v=>{m.current&&!m.current.contains(v.target)&&g.current&&!g.current.contains(v.target)&&u(!1)};return r&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[r]);const y=x=>l?x:void 0;return c.jsxs(c.Fragment,{children:[c.jsx("button",{ref:g,onClick:x=>{x.stopPropagation(),u(!r)},className:`p-0.5 rounded-md hover:bg-slate-200 text-slate-400 hover:text-slate-800 transition-all ${r?"opacity-100 bg-slate-200 text-slate-800":"opacity-0 group-hover:opacity-100"}`,title:y("Tab options"),style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})}),r&&d&&qd.createPortal(c.jsxs("div",{ref:m,className:"fixed z-50 mt-1 w-36 bg-slate-800 border border-slate-700 rounded-lg shadow-xl overflow-hidden",style:{top:d.top,left:d.left},onClick:x=>x.stopPropagation(),children:[c.jsxs("button",{onClick:()=>{i(),u(!1)},className:"w-full text-left px-3 py-2 text-xs text-slate-300 hover:bg-slate-700 hover:text-white transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Playlist"]}),c.jsxs("button",{onClick:()=>{e(),u(!1)},className:"w-full text-left px-3 py-2 text-xs text-slate-300 hover:bg-slate-700 hover:text-white transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Rename"]}),c.jsx("div",{className:"h-px bg-slate-700 my-0.5"}),c.jsxs("button",{onClick:()=>{s(),u(!1)},className:"w-full text-left px-3 py-2 text-xs text-red-400 hover:bg-red-500/10 transition-colors flex items-center gap-2",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Tab"]})]}),document.body)]})},ek=({onAddPlaylistToTab:i,showPresets:e=!0})=>{const{tabs:s,activeTabId:l,setActiveTab:r,createTab:u,deleteTab:d,renameTab:f}=Rc(),{inspectMode:m}=Qn(),g=L=>m?L:void 0,[y,x]=j.useState(!1),[v,_]=j.useState(""),[S,w]=j.useState(null),[N,k]=j.useState(""),[E,M]=j.useState(!1),[A,z]=j.useState(null),O=()=>{v.trim()&&(u(v.trim()),_(""),x(!1))},F=L=>{L.id!=="all"&&(w(L.id),k(L.name))},P=L=>{N.trim()&&(f(L,N.trim()),w(null),k(""))},V=()=>{w(null),k("")},re=(L,q)=>{z(L),M(!0)},oe=()=>{M(!1),z(null)},se=(L,q)=>{i&&i(L,q)},Se=s.find(L=>L.id===A),{activePresetId:Ee,presets:Me}=Lc(),W=Me.find(L=>L.id===Ee)||Me[0],X=(Ee==="all"||!W||W.tabIds.length===0?s:s.filter(L=>L.id==="all"||W.tabIds.includes(L.id))).filter(L=>L.id!=="all");return c.jsxs(c.Fragment,{children:[E&&Se&&c.jsx(K4,{tabId:A,tabName:Se.name,onClose:oe,onAdd:se}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e&&c.jsx("div",{className:"flex-shrink-0 relative z-20",children:c.jsx(Z4,{})}),c.jsxs("div",{className:"flex items-center gap-1 overflow-x-auto flex-1 min-w-0 pb-1 no-scrollbar",children:[X.map(L=>c.jsx("div",{className:"flex-shrink-0",children:S===L.id?c.jsx("input",{type:"text",value:N,onChange:q=>k(q.target.value),onBlur:()=>P(L.id),onKeyDown:q=>{q.key==="Enter"?P(L.id):q.key==="Escape"&&V()},className:"px-2 py-1 text-xs bg-slate-700 text-white rounded border border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",style:{minWidth:"60px",width:"auto"},autoFocus:!0}):c.jsxs("div",{className:`rounded-full flex items-center justify-center border-2 shadow-sm transition-all duration-200 px-4 h-9 gap-1.5 cursor-pointer group relative ${l===L.id?"bg-white border-sky-500 text-sky-600 transform scale-105":"bg-white border-[#334155] text-slate-600 hover:bg-slate-50 active:scale-95"}`,onClick:()=>r(l===L.id?"all":L.id),title:g(`Tab: ${L.name}`),children:[c.jsx("span",{className:"font-bold text-xs uppercase tracking-wide",children:L.name}),L.id!=="all"&&c.jsx(J4,{onAdd:()=>re(L.id),onRename:()=>F(L),onDelete:()=>d(L.id),inspectMode:m})]})},L.id)),y?c.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:c.jsx("input",{type:"text",value:v,onChange:L=>_(L.target.value),onBlur:()=>{v.trim()?O():x(!1)},onKeyDown:L=>{L.key==="Enter"?O():L.key==="Escape"&&(x(!1),_(""))},placeholder:"Tab name",className:"px-2 py-1.5 text-xs bg-slate-700 text-white rounded border border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",style:{minWidth:"100px"},autoFocus:!0})}):c.jsx("button",{onClick:()=>x(!0),className:"flex items-center justify-center w-7 h-7 rounded-lg bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors flex-shrink-0",title:"Create new tab",children:c.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})]})},g2=({src:i,alt:e,fallbackIcon:s,overlay:l,badges:r=[],className:u="",progress:d=0})=>{const[f,m]=dn.useState(!1),g={"top-left":"top-2 left-2","top-right":"top-2 right-2","bottom-left":"bottom-2 left-2","bottom-right":"bottom-2 right-2"};return c.jsxs("div",{className:`relative ${u}`,style:{position:"relative",width:"100%",paddingBottom:"56.25%",backgroundColor:"#0f172a",overflow:"hidden"},children:[i&&!f?c.jsx("img",{src:i,alt:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",display:"block"},onError:()=>m(!0)}):c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:s||c.jsx("svg",{className:"w-12 h-12 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),r.map((y,x)=>c.jsx("div",{className:`absolute z-10 ${g[y.position]||"top-2 right-2"}`,"data-card-action":"true",style:{position:"absolute"},children:y.component},x)),l&&c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0)",transition:"background-color 0.2s",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},className:"group-hover:bg-black/40",children:l}),d>0&&c.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"4px",backgroundColor:"rgba(0,0,0,0.3)",zIndex:5},children:c.jsx("div",{style:{width:`${Math.min(100,Math.max(0,d))}%`,height:"100%",backgroundColor:"#ef4444"}})})]})},tk=({image:i,bgSize:e,yOffset:s,isGif:l=!1})=>{if(!i)return null;const r={backgroundImage:`url(${i})`,backgroundSize:e||"cover",backgroundPositionX:"left",backgroundPositionY:typeof s=="number"?`${s}px`:s,backgroundRepeat:"repeat-x"};return l?c.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",style:{...r,backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}):c.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:c.jsxs("div",{className:"absolute top-0 left-0 h-full w-[200%] flex animate-gpu-scroll",children:[c.jsx("div",{className:"w-1/2 h-full",style:r}),c.jsx("div",{className:"w-1/2 h-full",style:r})]})})},nk=dn.memo(tk),Wr=({title:i,description:e,folderColor:s,onEdit:l,videoCount:r,countLabel:u="Video",creationYear:d,author:f,avatar:m,continueVideo:g,onContinue:y,children:x,childrenPosition:v="right",topRightContent:_,seamlessBottom:S=!1})=>{const{bannerPattern:w,customPageBannerImage:N,bannerBgSize:k,setBannerHeight:E,setBannerBgSize:M}=Oa(),A=s==="unsorted",z=!A&&s?Ot.find(re=>re.id===s):null;let O,F;const P=dn.useRef(null);dn.useEffect(()=>{if(!P.current)return;const re=()=>{const se=P.current;if(!se)return;se.offsetWidth;const Se=se.offsetHeight;if(!N){E(Se);return}E(Se)},oe=new ResizeObserver(re);return oe.observe(P.current),window.addEventListener("resize",re),()=>{oe.disconnect(),window.removeEventListener("resize",re)}},[N,E,M]),N?(O={backgroundImage:`url(${N})`,backgroundSize:"cover",backgroundPositionY:"center",backgroundPositionX:"0px",backgroundRepeat:"repeat-x"},F=z?.hex||"#3b82f6"):A?(O={background:"linear-gradient(135deg, #64748b 0%, #475569 100%)"},F="#64748b"):z?(O={background:`linear-gradient(135deg, ${z.hex}DD 0%, ${z.hex} 100%)`},F=z.hex):(O={background:"linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%)"},F="#3b82f6");const V=N?.startsWith("data:image/gif");return c.jsxs("div",{ref:P,className:`w-full relative animate-fade-in group mx-auto h-[220px] ${S?"mb-0":"mb-8"}`,children:[c.jsxs("div",{className:`absolute inset-0 overflow-hidden ${S?"rounded-t-2xl rounded-b-none shadow-none":"rounded-2xl shadow-lg"}`,style:{...N?{}:O,boxShadow:S?"none":`0 10px 25px -5px ${F}50`},children:[N&&c.jsx(nk,{image:N,bgSize:"cover",yOffset:"center",isGif:V}),!N&&c.jsx("div",{className:`absolute inset-0 pointer-events-none z-0 pattern-${w||"diagonal"}`}),c.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none transform group-hover:scale-110 transition-transform duration-1000 ease-in-out"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-black/10 rounded-full blur-2xl -ml-16 -mb-16 pointer-events-none"})]}),l&&c.jsx("button",{onClick:re=>{re.stopPropagation(),l()},className:"absolute top-4 left-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full backdrop-blur-md opacity-0 group-hover:opacity-100 transition-all duration-300 transform hover:scale-105 z-20",title:"Edit Details",children:c.jsx(Y5,{size:18})}),_&&c.jsx("div",{className:"absolute top-4 right-4 z-30",children:_}),c.jsxs("div",{className:"relative z-10 flex items-start h-full gap-8 w-full px-8 pt-4",children:[m&&c.jsx("div",{className:"shrink-0 hidden md:flex flex-col items-center gap-1 animate-in fade-in slide-in-from-left-4 duration-700 mt-8",children:m.includes(`
`)?c.jsx("pre",{className:"font-mono text-[4px] leading-none whitespace-pre text-white/90 drop-shadow-md select-none opacity-90 mix-blend-overlay",style:{textShadow:"-0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000, 0.5px 0.5px 0 #000, 0 1px 2px rgba(0,0,0,1)"},children:m}):c.jsx("div",{className:"font-mono text-3xl font-bold text-white/90 drop-shadow-md whitespace-nowrap opacity-90 mix-blend-overlay",style:{textShadow:"-2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000, 0 4px 8px rgba(0,0,0,0.8)"},children:m})}),c.jsxs("div",{className:`flex flex-col justify-start min-w-0 ${g?"pr-64":""}`,children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white mb-2 tracking-tight drop-shadow-md truncate",style:{textShadow:"-2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000, 0 4px 8px rgba(0,0,0,0.8)"},children:i}),c.jsxs("div",{className:"flex items-center gap-3 text-white/80 font-medium text-sm md:text-base mb-4",style:{textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000, 0 2px 4px rgba(0,0,0,0.9)"},children:[r!==void 0&&c.jsxs("span",{children:[r," ",r===1?u:`${u}s`]}),r!==void 0&&(d||f)&&c.jsx("span",{className:"w-1 h-1 rounded-full bg-white/60 shadow-sm"}),d&&c.jsx("span",{children:d}),d&&f&&c.jsx("span",{className:"w-1 h-1 rounded-full bg-white/60 shadow-sm"}),f&&c.jsx("span",{children:f})]}),e&&c.jsx("p",{className:"text-sm md:text-base text-white/90 font-medium max-w-4xl leading-relaxed drop-shadow-sm opacity-90 line-clamp-2",style:{textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000, 0 2px 4px rgba(0,0,0,0.8)"},children:e}),x&&v==="bottom"&&c.jsx("div",{className:"mt-4",children:x})]}),x&&v==="right"&&c.jsx("div",{className:"ml-auto pl-8",children:x})]}),g&&c.jsxs("div",{className:"absolute top-12 right-6 flex flex-col items-end gap-2 group/continue cursor-pointer z-20",onClick:re=>{re.stopPropagation(),y&&y()},children:[c.jsx("span",{className:"text-white/80 font-bold text-sm tracking-wider group-hover/continue:text-white transition-colors",style:{textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000, 0 2px 4px rgba(0,0,0,0.8)"},children:"CONTINUE?"}),c.jsxs("div",{className:"relative h-24 aspect-video rounded-lg overflow-hidden shadow-lg border-2 border-white/20 group-hover/continue:border-white transition-all transform group-hover/continue:scale-105",children:[c.jsx("img",{src:In(g.video_id,"medium"),alt:g.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover/continue:opacity-100 transition-opacity",children:c.jsx(vc,{className:"text-white fill-white",size:24})})]})]})]})},ik=()=>c.jsxs("div",{className:"relative rounded-lg bg-transparent",children:[c.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-slate-800/50",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})}),c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"h-5 bg-slate-800/50 rounded w-2/3 mb-1.5 relative overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:"h-3 bg-slate-800/30 rounded w-16 relative overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})}),c.jsx("div",{className:"h-3 bg-slate-800/30 rounded w-12 relative overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})})]})]})]}),sk=({onVideoSelect:i})=>{const[e,s]=j.useState([]),[l,r]=j.useState({}),[u,d]=j.useState({}),[f,m]=j.useState({}),[g,y]=j.useState(!0),[x,v]=j.useState(null),[_,S]=j.useState(!1),[w,N]=j.useState(!1),[k,E]=j.useState(!1),[M,A]=j.useState(null),[z,O]=j.useState(!1),[F,P]=j.useState(null),[V,re]=j.useState([]),[oe,se]=j.useState(new Set),[Se,Ee]=j.useState({}),[Me,W]=j.useState(new Set),{setPlaylistItems:le,currentPlaylistItems:X,setCurrentFolder:L,setPreviewPlaylist:q,setAllPlaylists:T,activePlaylistId:D}=Di(),{showColoredFolders:H,setShowColoredFolders:Q}=Pc(),[de,je]=j.useState(new Set),{tabs:U,activeTabId:ne,addPlaylistToTab:Z,removePlaylistFromTab:he}=Rc(),{activePresetId:xe,presets:J}=Lc(),{setViewMode:I,viewMode:fe,inspectMode:me}=Qn(),{customPageBannerImage:Y,bannerHeight:ke,bannerBgSize:ze}=Oa(),{setCurrentPage:Te}=Gr(),Ue=_e=>me?_e:void 0,Xe=j.useRef(!1),[lt,ut]=j.useState(!1),De=j.useRef(null),Be=j.useRef(null);j.useEffect(()=>{const _e=new IntersectionObserver(([at])=>{ut(at.intersectionRatio<1&&at.boundingClientRect.top<0)},{threshold:[1],rootMargin:"-1px 0px 0px 0px"});return De.current&&_e.observe(De.current),()=>_e.disconnect()},[]),j.useEffect(()=>{Pe(),it()},[]);const it=async()=>{try{const _e=await o2(),at=new Set(_e.map(([pt,Ie])=>`${pt}:${Ie}`));W(at)}catch(_e){console.error("Failed to load stuck folders:",_e)}};j.useEffect(()=>{qe(),it()},[H]);const qe=async()=>{try{console.log("Loading specific folders via optimized batch fetch...");const _e=await Ea();Array.isArray(_e)?(console.log("Loaded folders (batch):",_e.length),re(_e)):re([])}catch(_e){console.error("Failed to load folders:",_e),re([])}};j.useEffect(()=>{(async()=>{if(!Xe.current){Xe.current=!0;try{await C4("Test Playlist")&&(console.log('Successfully deleted "Test Playlist"'),await Pe())}catch(at){console.error("Error deleting Test Playlist:",at)}}})()},[]);const Pe=async()=>{try{y(!0),v(null),console.log("Loading playlists from database...");const[_e,at,pt]=await Promise.all([Nn(),j4().catch(Ze=>(console.error("Failed to load metadata",Ze),[])),mm().catch(Ze=>(console.error("Failed to load video progress",Ze),[]))]);console.log("Loaded playlists:",_e);const Ie=new Map;if(Array.isArray(pt)&&pt.forEach(Ze=>{Ze.video_id&&Ze.last_updated&&Ie.set(Ze.video_id,Ze.last_updated)}),Array.isArray(_e)){s(_e),T(_e);const Ze={},ye={},tt={},Je=new Map;Array.isArray(at)&&at.forEach(rt=>Je.set(rt.playlist_id,rt));try{const rt=await Ea();if(Array.isArray(rt)){const gt={};rt.forEach(Nt=>{gt[Nt.playlist_id]||(gt[Nt.playlist_id]=[]),gt[Nt.playlist_id].push(Nt)}),Ee(gt)}}catch(rt){console.warn("Failed to load folders for map",rt)}for(const rt of _e){const gt=Je.get(rt.id);if(tt[rt.id]=gt?gt.count:0,rt.custom_thumbnail_url)Ze[rt.id]={max:rt.custom_thumbnail_url,standard:rt.custom_thumbnail_url};else if(gt&&gt.first_video){const Nt=gt.first_video;Ze[rt.id]={max:Nt.thumbnail_url||In(Nt.video_id,"max"),standard:Nt.thumbnail_url||In(Nt.video_id,"standard")}}gt&&gt.recent_video&&(ye[rt.id]=gt.recent_video)}r(Ze),d(ye),m(tt)}else console.warn("getAllPlaylists returned non-array data:",_e),s([])}catch(_e){console.error("Failed to load playlists:",_e),v(_e.message||"Failed to load playlists from database"),s([])}finally{y(!1)}};if(g)return c.jsxs("div",{className:"w-full h-full flex flex-col",children:[c.jsx("div",{className:"px-8 pt-8",children:c.jsx("div",{className:"w-full h-64 bg-slate-800/30 rounded-xl animate-pulse mb-8"})}),c.jsx("div",{className:"grid grid-cols-2 gap-4 px-8 pb-8",children:[...Array(6)].map((_e,at)=>c.jsx(ik,{},at))})]});if(x)return c.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full gap-4",children:[c.jsx("p",{className:"text-red-400 text-lg",children:"Error loading playlists"}),c.jsx("p",{className:"text-slate-400 text-sm",children:x}),c.jsx("button",{onClick:Pe,className:"px-4 py-2 bg-sky-500 rounded-lg hover:bg-sky-600 transition-colors",style:{color:"#052F4A"},children:"Retry"})]});if(e.length===0)return c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("p",{className:"text-lg",style:{color:"#052F4A"},children:"No playlists found. Create one to get started!"})});const mt=async()=>{try{S(!1),await Pe()}catch(_e){console.error("Error reloading playlists after upload:",_e),S(!1)}},Qe=async()=>{try{N(!1),await Pe(),H&&await qe()}catch(_e){console.error("Error reloading playlists after bulk import:",_e),N(!1)}},$t=async()=>{try{E(!1),A(null),await Pe()}catch(_e){console.error("Error reloading playlists after local video upload:",_e),E(!1),A(null)}},En=_e=>{A(_e),O(!1),E(!0)},St=async(_e,at,pt)=>{try{if(!window.confirm(`Are you sure you want to delete "${at}"?

This will permanently delete the playlist and all its videos.`))return;P(_e);try{await N4(_e),X.length>0&&le([]),await Pe()}catch(Ze){console.error("Failed to delete playlist:",Ze);const ye=Ze?.message||Ze?.toString()||"Unknown error";alert(`Failed to delete playlist: ${ye}`)}finally{P(null)}}catch(Ie){console.error("Error in delete handler:",Ie),P(null),Ie.name!=="AbortError"&&!Ie.message?.includes("cancel")&&alert(`An error occurred: ${Ie.message||"Unknown error"}`)}},Oe=async(_e,at)=>{try{const pt=await z4(_e),Ie=JSON.stringify(pt,null,2),Ze=new Blob([Ie],{type:"application/json"}),ye=URL.createObjectURL(Ze),tt=document.createElement("a");tt.href=ye,tt.download=`${at.replace(/[^a-z0-9]/gi,"_")}_export.json`,document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),URL.revokeObjectURL(ye),alert(`Playlist "${at}" exported successfully!`)}catch(pt){console.error("Failed to export playlist:",pt),alert(`Failed to export playlist: ${pt.message||"Unknown error"}`)}},Xt=async _e=>{if(oe.has(_e))se(pt=>{const Ie=new Set(pt);return Ie.delete(_e),Ie});else if(se(pt=>new Set(pt).add(_e)),!Se[_e]||Se[_e].length===0)try{const Ie=await hm(_e)||[];console.log(`Loaded ${Ie.length} folders for playlist ${_e}`),Ee(Ze=>({...Ze,[_e]:Ie}))}catch(pt){console.error(`Failed to load folders for playlist ${_e}:`,pt),Ee(Ie=>({...Ie,[_e]:[]}))}};return c.jsx("div",{className:"w-full h-full flex flex-col",children:w?c.jsx(W4,{onImportComplete:Qe,onCancel:()=>N(!1)}):_?c.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent",children:c.jsx(ap,{onUploadComplete:mt,onCancel:()=>S(!1)})}):z?c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 w-full max-w-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",style:{color:"#052F4A"},children:"Select Playlist"}),c.jsx("button",{onClick:()=>O(!1),className:"text-slate-400 transition-colors",onMouseEnter:_e=>_e.currentTarget.style.color="#052F4A",onMouseLeave:_e=>_e.currentTarget.style.color="rgb(148 163 184)",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Choose a playlist to add local videos to:"}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto mb-4",children:e.map(_e=>c.jsxs("button",{onClick:()=>En(_e.id),className:"w-full text-left p-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors border border-transparent hover:border-sky-500",children:[c.jsx("div",{className:"font-medium",style:{color:"#052F4A"},children:_e.name}),_e.description&&c.jsx("div",{className:"text-slate-400 text-xs mt-1 line-clamp-1",children:_e.description})]},_e.id))}),c.jsx("button",{onClick:()=>O(!1),className:"w-full px-4 py-2 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors",style:{color:"#052F4A"},children:"Cancel"})]})}):k?c.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent",children:c.jsx(Q4,{playlistId:M,onUploadComplete:$t,onCancel:()=>{E(!1),A(null)}})}):c.jsx(c.Fragment,{children:c.jsxs("div",{ref:Be,className:"flex-1 overflow-y-auto bg-transparent relative",children:[(()=>{const _e=J.find(ye=>ye.id===xe);let at=xe==="all"||!_e?"All":_e.name;if(ne&&ne!=="all"){const ye=U.find(tt=>tt.id===ne);ye&&(at+=` - ${ye.name}`)}const pt=e.filter(ye=>{if(ne==="all")return!0;const tt=U.find(Je=>Je.id===ne);return tt&&tt.playlistIds.includes(ye.id)}),Ie=pt.length,Ze=pt.reduce((ye,tt)=>ye+(f[tt.id]||0),0);return c.jsx("div",{className:"px-8 pt-8",children:c.jsx(Wr,{title:at,description:null,color:null,isEditable:!1,seamlessBottom:!0,videoCount:Ie,countLabel:"Playlist",author:`${Ze} Videos`})})})(),c.jsx("div",{ref:De,className:"absolute h-px w-full -mt-px pointer-events-none opacity-0"}),c.jsx("div",{className:`sticky top-0 z-40 transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) overflow-hidden -mt-16
              ${lt?"backdrop-blur-xl border-y shadow-2xl mx-0 rounded-none mb-6 pt-2 pb-2 bg-slate-900/70":"backdrop-blur-[2px] border-b border-x border-t border-white/10 shadow-xl mx-8 rounded-b-2xl mb-8 mt-0 pt-1 pb-0 bg-transparent"}
              `,style:{backgroundColor:lt?void 0:"transparent"},children:c.jsxs("div",{className:`px-4 flex items-center justify-between transition-all duration-300 relative z-10 ${lt?"h-[52px]":"py-0.5"}`,children:[c.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar mask-gradient-right min-w-0",children:c.jsx(ek,{onAddPlaylistToTab:Z,showPresets:!0})}),c.jsxs("div",{className:"flex items-center gap-2 ml-4 shrink-0 pl-3 border-l border-white/10",children:[c.jsx("button",{onClick:()=>Q(!H),className:`p-1.5 rounded-md transition-all ${H?"bg-sky-600 text-white shadow-sm":"bg-slate-800/80 text-slate-400 hover:bg-slate-700 hover:text-white border border-white/10"}`,title:H?"Hide Folders":"Show Folders",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),c.jsx("button",{onClick:()=>setShowImportModal(!0),className:"p-1.5 bg-sky-500 hover:bg-sky-400 text-white rounded-md transition-all shadow-lg hover:shadow-sky-500/25 border border-white/10",title:"Add Playlist",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 px-8 pb-8",children:[H&&V.filter(_e=>{const at=`${_e.playlist_id}:${_e.folder_color}`;if(Me.has(at))return!1;if(ne==="all")return!0;const pt=U.find(Ie=>Ie.id===ne);return pt&&pt.playlistIds.includes(_e.playlist_id)}).map((_e,at)=>{const pt=Gs(_e.folder_color),Ie=`folder-${_e.playlist_id}-${_e.folder_color}`,Ze=_e.first_video?{max:In(_e.first_video.video_id,"max"),standard:In(_e.first_video.video_id,"standard")}:null,ye=de.has(Ie),tt=Ze?ye?Ze.standard:Ze.max:null;return c.jsxs("div",{onClick:async Je=>{Je.stopPropagation();try{const rt=await Mn(_e.playlist_id,_e.folder_color);le(rt,_e.playlist_id,{playlist_id:_e.playlist_id,folder_color:_e.folder_color}),rt.length>0&&i?i(rt[0].video_url):_e.first_video&&i&&i(_e.first_video.video_url)}catch(rt){console.error("Failed to load folder items:",rt)}},className:"cursor-pointer group relative",children:[c.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg",style:{backgroundColor:"#0f172a"},children:[c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 z-10",style:{backgroundColor:pt.hex}}),tt?c.jsx("img",{src:tt,alt:_e.first_video?.title||"Folder thumbnail",className:"w-full h-full object-cover pl-2",onError:()=>{ye||je(Je=>new Set(Je).add(Ie))},style:{display:"block",width:"100%",height:"100%",objectFit:"cover",paddingLeft:"8px",position:"relative",zIndex:1}}):c.jsx("div",{className:"w-full h-full flex items-center justify-center pl-2",children:c.jsx("svg",{className:"w-12 h-12 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center",children:c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("svg",{className:"w-16 h-16",style:{color:"#052F4A"},fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]}),c.jsx("div",{className:"mt-2 relative",children:c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:pt.hex}}),c.jsxs("h3",{className:"font-medium text-sm truncate transition-colors",style:{color:"#052F4A"},onMouseEnter:Je=>Je.currentTarget.style.color="#38bdf8",onMouseLeave:Je=>Je.currentTarget.style.color="#052F4A",children:[pt.name," Folder"]})]})})]},`folder-${_e.playlist_id}-${_e.folder_color}-${at}`)}),(()=>{const _e=e.filter(Ie=>{if(ne==="all")return!0;const Ze=U.find(ye=>ye.id===ne);return Ze&&Ze.playlistIds.includes(Ie.id)}),at=[],pt=new Set;return _e.forEach(Ie=>{at.push({type:"playlist",data:Ie});const Ze=oe.has(Ie.id),ye=Se[Ie.id]||[];Ze&&ye.length>0&&ye.forEach(tt=>{const Je=`${tt.playlist_id}:${tt.folder_color}`;pt.add(Je),at.push({type:"folder",data:tt,parentPlaylist:Ie})}),ye.forEach(tt=>{const Je=`${tt.playlist_id}:${tt.folder_color}`;Me.has(Je)&&!pt.has(Je)&&(pt.add(Je),at.push({type:"folder",data:tt,parentPlaylist:Ie,isStuck:!0}))})}),H||V.forEach(Ie=>{const Ze=`${Ie.playlist_id}:${Ie.folder_color}`;if(Me.has(Ze)&&!pt.has(Ze)){const ye=e.find(tt=>tt.id===Ie.playlist_id);ye&&(ne==="all"||U.find(Je=>Je.id===ne)?.playlistIds.includes(Ie.playlist_id))&&(pt.add(Ze),at.push({type:"folder",data:Ie,parentPlaylist:ye,isStuck:!0}))}}),at.map((Ie,Ze)=>{if(Ie.type==="playlist"){const ye=Ie.data,tt=l[ye.id],Je=`playlist-${ye.id}`,rt=de.has(Je),gt=tt?rt?tt.standard:tt.max:null;u[ye.id],f[ye.id];const Nt=oe.has(ye.id);return(Se[ye.id]||[]).length>0,c.jsx("div",{onClick:async st=>{if(!st.target.closest('[data-card-menu="true"]'))try{const We=await Vt(ye.id);le(We,ye.id,null,ye.name),We.length>0&&i&&i(We[0].video_url)}catch(We){console.error("Failed to load playlist items:",We)}},className:"cursor-pointer group relative",title:Ue(`Playlist: ${ye.name}`),children:c.jsxs("div",{className:`border-2 border-slate-700/50 rounded-xl p-2 bg-slate-800/20 hover:border-sky-500/50 transition-colors h-full flex flex-col ${String(ye.id)===String(D)?"active-playlist-marker":""}`,"data-active-playlist":String(ye.id)===String(D)?"true":"false",children:[c.jsxs("div",{className:"mb-2 flex items-center justify-between border-2 border-[#052F4A] rounded-md p-1 bg-slate-100/90 shadow-sm relative overflow-hidden h-[38px]",children:[c.jsx("h3",{className:"font-bold text-lg truncate transition-colors pl-1 flex-1 text-left",style:{color:"#052F4A"},onMouseEnter:st=>st.currentTarget.style.color="#38bdf8",onMouseLeave:st=>st.currentTarget.style.color="#052F4A",title:ye.name,children:ye.name}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity absolute right-1 top-0 bottom-0 pr-1 pl-4 bg-gradient-to-l from-slate-100 via-slate-100 to-transparent",children:[c.jsx("button",{onClick:async st=>{st.stopPropagation();try{const We=await Vt(ye.id);q(We,ye.id,null),Te("videos"),fe==="full"&&I("half")}catch(We){console.error("Failed to load playlist items for preview:",We)}},className:"p-1 hover:bg-slate-200 rounded text-[#052F4A] hover:text-sky-600 transition-colors",title:"Preview playlist",children:c.jsx(vd,{size:18,strokeWidth:2.5})}),c.jsx("button",{onClick:async st=>{st.stopPropagation();try{const We=await Vt(ye.id);le(We,ye.id,null,ye.name),We.length>0&&i&&i(We[0].video_url)}catch(We){console.error("Failed to load playlist items:",We)}},onContextMenu:async st=>{st.stopPropagation(),st.preventDefault();try{const We=await Vt(ye.id);if(le(We,ye.id,null,ye.name),We.length>0&&i){let yt=We[0];if(gt){const Ht=We.find(gn=>{const Jt=In(gn.video_id,"max"),Kn=In(gn.video_id,"standard");return Jt===gt||Kn===gt});Ht&&(yt=Ht,console.log("Playing cover video:",yt.title))}i(yt.video_url)}}catch(We){console.error("Failed to play cover video:",We)}},className:"p-1 hover:bg-slate-200 rounded text-[#052F4A] hover:text-sky-600 transition-colors",title:"Play playlist (Right-click for cover video)",children:c.jsx(vc,{size:18,fill:"currentColor"})}),c.jsx("button",{onClick:async st=>{st.stopPropagation();try{const yt=[...await Vt(ye.id)].sort(()=>Math.random()-.5);le(yt,ye.id,null,ye.name),yt.length>0&&i&&i(yt[0].video_url)}catch(We){console.error("Failed to shuffle playlist:",We)}},className:"p-1 hover:bg-slate-200 rounded text-[#052F4A] hover:text-sky-600 transition-colors",title:"Shuffle playlist",children:c.jsx(um,{size:18})})]})]}),c.jsxs("div",{className:"rounded-lg overflow-hidden relative group mt-auto",style:{width:"100%",paddingBottom:"56.25%",backgroundColor:"#0f172a"},children:[gt?c.jsx("img",{src:gt,alt:ye.name,onError:()=>{rt||je(st=>new Set(st).add(Je))},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",display:"block"}}):c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx("svg",{className:"w-12 h-12 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-30",onClick:st=>st.stopPropagation(),children:c.jsx(hb,{options:[{label:Nt?"Collapse Folders":"Expand Folders",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:Nt?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})}),action:"toggleFolders"},{label:"Export Playlist",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),action:"export"},{label:"Add to Tab",submenu:"tabs",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})},...ne!=="all"?[{label:"Remove from Tab",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),action:"removeFromTabCurrent",danger:!0}]:[],{label:F===ye.id?"Deleting...":"Delete",danger:!0,icon:F===ye.id?c.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),action:"delete",disabled:F===ye.id}],submenuOptions:{tabs:U.filter(st=>st.id!=="all").map(st=>{const We=st.playlistIds.includes(ye.id);return{label:We?` ${st.name}`:st.name,action:We?"removeFromTab":"addToTab",tabId:st.id}})},onOptionClick:st=>{st.action==="toggleFolders"?Xt(ye.id):st.action==="export"?Oe(ye.id,ye.name):st.action==="removeFromTabCurrent"?(console.log("Removing playlist",ye.id,"from active tab",ne),he(ne,ye.id)):st.action==="delete"&&!st.disabled?St(ye.id,ye.name):st.action==="addToTab"?Z(st.tabId,ye.id):st.action==="removeFromTab"&&he(st.tabId,ye.id)}})})]})]})},ye.id)}else{const ye=Ie.data,tt=Gs(ye.folder_color),Je=`folder-${ye.playlist_id}-${ye.folder_color}`,rt=ye.first_video?{max:In(ye.first_video.video_id,"max"),standard:In(ye.first_video.video_id,"standard")}:null,gt=de.has(Je),Nt=rt?gt?rt.standard:rt.max:null,bi=`${ye.playlist_id}:${ye.folder_color}`,st=Me.has(bi);return c.jsx("div",{onClick:async We=>{if(!We.target.closest('[data-card-menu="true"]'))try{const yt=await Vt(ye.playlist_id),Ht=Ie.parentPlaylist?Ie.parentPlaylist.name:null;le(yt,ye.playlist_id,{playlist_id:ye.playlist_id,folder_color:ye.folder_color},Ht),ye.first_video&&i&&i(ye.first_video.video_url)}catch(yt){console.error("Failed to load folder playlist items:",yt)}},className:"cursor-pointer group relative",title:Ue(`${tt.name} folder`),children:c.jsxs("div",{className:`border-2 border-slate-700/50 rounded-xl p-2 bg-slate-800/20 hover:border-sky-500/50 transition-colors h-full flex flex-col ${String(playlist.id)===String(D)?"active-playlist-marker":""}`,"data-active-playlist":String(playlist.id)===String(D)?"true":"false",children:[c.jsxs("div",{className:"mb-2 relative border-2 border-[#052F4A] rounded-md p-1 bg-slate-100/90 shadow-sm flex items-center justify-between h-[38px] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center gap-2 justify-center pl-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:tt.hex}}),c.jsxs("h3",{className:"font-medium text-sm truncate transition-colors pr-8",style:{color:"#052F4A"},onMouseEnter:We=>We.currentTarget.style.color="#38bdf8",onMouseLeave:We=>We.currentTarget.style.color="#052F4A",children:[tt.name," Folder"]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity absolute right-1 top-0 bottom-0 pr-1 pl-4 bg-gradient-to-l from-slate-100 via-slate-100 to-transparent",children:[c.jsx("button",{onClick:async We=>{We.stopPropagation();try{const yt=await Mn(ye.playlist_id,ye.folder_color),Ht=Ie.parentPlaylist?Ie.parentPlaylist.name:null;le(yt,ye.playlist_id,{playlist_id:ye.playlist_id,folder_color:ye.folder_color},Ht),yt.length>0&&i&&i(yt[0].video_url)}catch(yt){console.error("Failed to load folder playlist items:",yt)}},onContextMenu:async We=>{We.stopPropagation(),We.preventDefault();try{const yt=await Mn(ye.playlist_id,ye.folder_color),Ht=Ie.parentPlaylist?Ie.parentPlaylist.name:null;if(le(yt,ye.playlist_id,{playlist_id:ye.playlist_id,folder_color:ye.folder_color},Ht),yt.length>0&&i){let gn=yt[0];if(Nt){const Jt=yt.find(Kn=>{const rn=In(Kn.video_id,"max"),Et=In(Kn.video_id,"standard");return rn===Nt||Et===Nt});Jt&&(gn=Jt)}i(gn.video_url)}}catch(yt){console.error("Failed to play folder cover:",yt)}},className:"p-1 hover:bg-slate-200 rounded text-[#052F4A] hover:text-sky-600 transition-colors",title:"Play folder (Right-click for cover video)",children:c.jsx(vc,{size:18,fill:"currentColor"})}),c.jsx("button",{onClick:async We=>{We.stopPropagation();try{const Ht=[...await Mn(ye.playlist_id,ye.folder_color)].sort(()=>Math.random()-.5),gn=Ie.parentPlaylist?Ie.parentPlaylist.name:null;le(Ht,ye.playlist_id,{playlist_id:ye.playlist_id,folder_color:ye.folder_color},gn),Ht.length>0&&i&&i(Ht[0].video_url)}catch(yt){console.error("Failed to shuffle folder:",yt)}},className:"p-1 hover:bg-slate-200 rounded text-[#052F4A] hover:text-sky-600 transition-colors",title:"Shuffle folder",children:c.jsx(um,{size:18})})]})]}),c.jsxs("div",{className:"rounded-lg overflow-hidden relative group mt-auto",style:{width:"100%",paddingBottom:"56.25%",backgroundColor:"#0f172a",overflow:"hidden"},children:[c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 z-10",style:{backgroundColor:tt.hex}}),Nt?c.jsx("img",{src:Nt,alt:ye.first_video?.title||"Folder thumbnail",onError:()=>{gt||je(We=>new Set(We).add(Je))},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",display:"block",paddingLeft:"8px"}}):c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:"8px"},children:c.jsx("svg",{className:"w-12 h-12 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),c.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-20",children:c.jsx(hb,{options:[{label:st?"Unstick Folder":"Stick Folder",icon:st?c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),action:"toggleStick"}],onOptionClick:async We=>{if(We.action==="toggleStick")try{const yt=await A4(ye.playlist_id,ye.folder_color),Ht=`${ye.playlist_id}:${ye.folder_color}`;W(gn=>{const Jt=new Set(gn);return yt?Jt.add(Ht):Jt.delete(Ht),Jt})}catch(yt){console.error("Failed to toggle stick folder:",yt)}}})})]})]})},`${ye.playlist_id}-${ye.folder_color}-${Ze}`)}})})()]})]})})})},y2=({children:i,onClick:e,className:s="",hoverable:l=!0,variant:r="default",disabled:u=!1,selected:d=!1,playing:f=!1,actionAreas:m=[]})=>{const g=dn.useRef(null),y=_=>{if(u)return;const S=m.some(k=>typeof k=="string"?_.target.closest(k):k?.current?k.current?.contains(_.target):k?k.contains(_.target):!1),w=_.target.closest("[data-card-action]")!==null,N=_.target.closest("[data-card-menu]")!==null;S||w||N||e&&e(_)},x=r==="minimal",v=`
    relative
    rounded-lg
    overflow-visible
    transition-all
    duration-200
    ${l&&!u?"group cursor-pointer":""}
    ${d?"border-sky-400":f?"border-sky-500 ring-2 ring-sky-500/50":x?"border-transparent":"border-slate-700"}
    ${l&&!u?x?"hover:bg-transparent":"hover:bg-slate-700 hover:border-sky-500":""}
    ${u?"opacity-50 cursor-not-allowed":""}
    ${x?"bg-transparent border-0":"bg-slate-800 border"}
    ${s}
  `.trim().replace(/\s+/g," ");return c.jsx("div",{ref:g,onClick:y,className:v,"data-card":"true",children:i})},lk=({children:i,title:e,subtitle:s,metadata:l,actions:r,headerActions:u,className:d="",padding:f="p-3"})=>c.jsxs("div",{className:`${f} relative ${d}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e&&c.jsx("h3",{className:"font-medium text-sm truncate transition-colors flex-1",style:{color:"#052F4A"},onMouseEnter:m=>m.currentTarget.style.color="#38bdf8",onMouseLeave:m=>m.currentTarget.style.color="#052F4A",children:e}),u&&c.jsx("div",{className:"flex-shrink-0","data-card-action":"true",children:u})]}),s&&c.jsx("p",{className:"text-slate-400 text-xs mt-1 line-clamp-2",children:s}),l&&c.jsx("div",{className:"mt-1 text-slate-500 text-xs",children:l}),i,r&&c.jsx("div",{className:"absolute bottom-2 right-2","data-card-action":"true",children:r})]}),ak=({videoId:i,currentFolders:e=[],selectedFolders:s=new Set,onColorClick:l})=>c.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-20","data-card-action":"true",onClick:r=>r.stopPropagation(),children:c.jsx("div",{className:"grid grid-cols-4 gap-2 p-4 max-w-xs",children:Ot.map(r=>{const u=s.has(r.id),d=e.includes(r.id);return c.jsx("button",{onClick:f=>{f.stopPropagation(),l&&l(r.id)},className:`
                w-10 h-10 rounded-lg transition-all
                ${u?"ring-2 ring-white ring-offset-2 ring-offset-black scale-110":"hover:scale-105"}
                ${d?"opacity-100":"opacity-70"}
              `,style:{backgroundColor:r.hex},title:r.name,children:u&&c.jsx("svg",{className:"w-6 h-6 text-white mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})},r.id)})})}),rk=({currentFolders:i=[],quickAssignFolder:e,onColorLeftClick:s,onColorRightClick:l})=>c.jsx("div",{className:"bg-black/90 backdrop-blur-sm rounded-lg p-2 shadow-xl border border-white/10 pointer-events-auto","data-card-action":"true","data-star-picker":"true",onClick:r=>r.stopPropagation(),onContextMenu:r=>r.preventDefault(),style:{width:"180px"},children:c.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:Ot.map(r=>{const u=i.includes(r.id),d=r.id===e;return c.jsxs("button",{onClick:f=>{f.stopPropagation(),s&&s(r.id)},onContextMenu:f=>{f.preventDefault(),f.stopPropagation(),l&&l(r.id)},className:`
                relative w-8 h-8 rounded-lg transition-all flex items-center justify-center
                ${u?"ring-2 ring-white ring-offset-1 ring-offset-black":"hover:scale-110"}
                ${d?"ring-2 ring-blue-400 ring-offset-1 ring-offset-black":""}
              `,style:{backgroundColor:r.hex},title:d?`${r.name} (Quick Assign - Right click to change)`:`${r.name} (Right click to set as Quick Assign)`,children:[c.jsx("svg",{className:`w-4 h-4 ${u?"text-white":"text-white/60"}`,fill:u?"currentColor":"none",stroke:"currentColor",strokeWidth:u?0:2,viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),d&&c.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-blue-400 rounded-full border-2 border-black z-10"})]},r.id)})})}),wc=({video:i,index:e,originalIndex:s,isSelected:l=!1,isCurrentlyPlaying:r=!1,videoFolders:u=[],selectedFolder:d=null,onVideoClick:f,onStarClick:m,onStarColorLeftClick:g,onStarColorRightClick:y,onMenuOptionClick:x,onQuickAssign:v,bulkTagMode:_=!1,bulkTagSelections:S=new Set,onBulkTagColorClick:w,onPinClick:N,onSecondPlayerSelect:k,progress:E=0,isWatched:M=!1,isStickied:A=!1,showTimer:z=!1})=>{const{inspectMode:O}=Qn(),{quickAssignFolder:F}=Pc(),P=Y=>O?Y:void 0,[V,re]=j.useState(!1),[oe,se]=j.useState(!1),Se=j.useRef(null),Ee=j.useRef(null),Me=In(i.video_id,"medium"),W=u.length>0?Gs(u[0]):null,le=Gs(F),X=Na(Y=>Y.pinnedVideos.some(ke=>ke.id===i.id)&&!Y.priorityPinIds.includes(i.id)),L=Na(Y=>Y.priorityPinIds.includes(i.id)),{togglePin:q,togglePriorityPin:T}=Na(),D=j.useRef(null),[H,Q]=j.useState(null),de=Y=>{Y.stopPropagation(),Q("pressing"),D.current=setTimeout(()=>{T(i),Q("long-pressed"),D.current=null},600)},je=Y=>{Y.stopPropagation(),Q(null),D.current&&(clearTimeout(D.current),D.current=null,q(i),N&&N(i))},U=Y=>{D.current&&(clearTimeout(D.current),D.current=null,Q(null))},ne=Na(Y=>{const ke=Y.pinnedVideos.find(ze=>ze.id===i.id);return ke?ke.pinnedAt:null}),[Z,he]=j.useState("");dn.useEffect(()=>{if(!z||!X||!ne){Z&&he("");return}const Y=()=>{const ze=Date.now(),Ue=ne+1440*60*1e3-ze;if(Ue<=0){he("Expired");return}const Xe=Math.floor(Ue/(1e3*60*60)),lt=Math.floor(Ue%(1e3*60*60)/(1e3*60)),ut=Math.floor(Ue%(1e3*60)/1e3),De=[];Xe>0&&De.push(`${Xe}h`),(lt>0||Xe>0)&&De.push(`${lt}m`),De.push(`${ut}s`),he(De.join(" "))};Y();const ke=setInterval(Y,1e3);return()=>clearInterval(ke)},[X,ne,z]);const J=[{label:A?"Unsticky Video":"Sticky Video",icon:c.jsx("svg",{className:"w-4 h-4 text-amber-500",viewBox:"0 0 100 100",fill:"currentColor",children:c.jsx("path",{d:"M47.5,12.2c0,0-2.3,16.2-7.8,19.3c-5.5,3.1-17.7-6.2-17.7-6.2s3.8,11.2-1.7,16.5c-5.5,5.3-20.2-2.1-20.2-2.1 s12.5,9.6,9.2,16.5c-3.3,6.9-10.7,5.5-10.7,5.5s12.9,5.7,12.5,14.7c-0.4,9-10.6,15.6-10.6,15.6s15.3-1.6,20.2,4.2 c4.9,5.8-0.9,13.8-0.9,13.8s9.4-9,16.9-5.3c7.5,3.7,5.9,14.6,5.9,14.6s5.9-11.8,13.6-10.6c7.7,1.2,13.6,9.5,13.6,9.5 s-1.8-13.6,5.3-16.7c7.1-3.1,16.5,2.7,16.5,2.7s-8.1-13.6-1.5-18.9c6.6-5.3,18.8,0.7,18.8,0.7s-13.2-8.1-11.1-16.7 C99.2,40.4,100,28.8,100,28.8s-12,8.8-17.7,3.1c-5.7-5.7-1.3-18.8-1.3-18.8s-9,11.6-16.5,9.4c-7.5-2.2-11.1-12.2-11.1-12.2 S50.4,14.5,47.5,12.2z"})}),action:"toggleSticky"},{label:"Delete",danger:!0,icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),action:"delete"},{label:"Move to Playlist",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),action:"moveToPlaylist"},{label:"Set as Playlist Cover",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),action:"setPlaylistCover"},{label:"Copy to Playlist",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),action:"copyToPlaylist"},{label:"Assign to Folder",submenu:"folders",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),action:"assignFolder"},{label:"Quick Assign",submenu:"quickFolders",icon:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),action:"setQuickAssign"}],I={folders:Ot.map(Y=>({label:Y.name,icon:c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Y.hex}}),action:"assignFolder",folderColor:Y.id})),quickFolders:Ot.map(Y=>({label:`Set ${Y.name} as Quick Assign`,icon:c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:Y.hex}}),action:"setQuickAssign",folderColor:Y.id}))},fe=null,me=[!r&&M&&{component:c.jsx("div",{className:"text-green-500 drop-shadow-md flex items-center justify-center filter drop-shadow-lg",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:4,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),position:"top-left"},!_&&{component:c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[c.jsx("button",{onMouseDown:de,onMouseUp:je,onMouseLeave:U,className:`p-1.5 rounded-lg transition-all active:scale-95 duration-200 mr-1 ${L?"bg-amber-500/10 border-amber-500/50 text-amber-500 hover:bg-amber-500 hover:text-white":X?"bg-sky-500/10 border-sky-500/50 text-sky-500 hover:bg-sky-500 hover:text-white":"bg-black/70 hover:bg-black/90 text-slate-400 hover:text-slate-200"} ${H==="pressing"?"scale-90":""}`,style:{borderWidth:L||X?"1px":"0px"},title:P(L?"Remove priority pin":X?"Unpin video":"Pin (Click) / Priority (Hold)")||(L?"Remove priority pin":X?"Unpin video":"Pin (Click) / Priority (Hold)"),children:c.jsx(kr,{size:20,fill:L||X?"currentColor":"none",strokeWidth:2})}),c.jsx("div",{className:"relative",onMouseEnter:()=>{Ee.current&&clearTimeout(Ee.current),Se.current&&(clearTimeout(Se.current),Se.current=null),Ee.current=setTimeout(()=>{se(!0),Ee.current=null},1200)},onMouseLeave:()=>{Ee.current&&(clearTimeout(Ee.current),Ee.current=null),Se.current=setTimeout(()=>{se(!1)},150)},children:c.jsx("button",{onClick:Y=>{Y.stopPropagation(),m&&m(Y)},onMouseEnter:()=>{Ee.current&&clearTimeout(Ee.current),Se.current&&(clearTimeout(Se.current),Se.current=null),Ee.current=setTimeout(()=>{se(!0),Ee.current=null},1200)},onMouseLeave:()=>{Ee.current&&(clearTimeout(Ee.current),Ee.current=null)},className:"p-1.5 rounded-lg bg-black/70 hover:bg-black/90 transition-all block",title:P(u.length>0?`Assigned to: ${u.map(Y=>Gs(Y).name).join(", ")}`:"Click to assign to folder")||(u.length>0?`Assigned to: ${u.map(Y=>Gs(Y).name).join(", ")}`:"Click to assign to folder"),style:{color:W?W.hex:le.hex},"data-card-action":"true",children:c.jsx("svg",{className:"w-5 h-5",fill:u.length>0?"currentColor":"none",stroke:"currentColor",strokeWidth:u.length>0?0:2,viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})})]}),position:"top-right"},!_&&{component:c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:c.jsx(p2,{menuOptions:J,onMenuOptionClick:x,submenuOptions:I,className:"flex-nowrap p-0 bg-black/70 rounded-lg hover:bg-black/90 text-white backdrop-blur-sm shadow-sm"})}),position:"bottom-right"}].filter(Boolean);return c.jsxs(y2,{onClick:_?void 0:f,selected:l,playing:r,className:_?"cursor-default":"",variant:"minimal",children:[c.jsxs("div",{onMouseEnter:()=>_&&re(!0),onMouseLeave:()=>_&&re(!1),className:"relative group rounded-lg overflow-visible",children:[z&&X&&Z&&c.jsx("div",{className:"absolute -top-10 left-0 w-full p-0 pointer-events-none z-40 flex justify-center",children:c.jsx("div",{className:"bg-black/80 backdrop-blur-md text-white font-mono text-lg font-bold px-4 py-1.5 rounded-lg border border-white/20 shadow-2xl tracking-wider transform translate-y-2",children:Z})}),c.jsx(g2,{src:Me,alt:i.title||`Video ${e+1}`,overlay:fe,badges:_?me.filter(Y=>Y.position!=="top-right"):me,progress:E,className:`rounded-lg overflow-hidden border-2 border-black ${r?"ring-4 ring-red-500 ring-offset-2 ring-offset-black shadow-[0_0_40px_rgba(239,68,68,1),inset_0_0_40px_rgba(239,68,68,0.8)]":""}`}),oe&&!_&&c.jsx("div",{"data-star-picker":"true",className:"absolute inset-0 flex items-start justify-center pt-2 z-30 pointer-events-none",onMouseEnter:()=>{Se.current&&(clearTimeout(Se.current),Se.current=null),se(!0)},onMouseLeave:()=>{se(!1)},children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(rk,{currentFolders:u,quickAssignFolder:F,onColorLeftClick:Y=>{g&&g(i,Y),se(!1)},onColorRightClick:Y=>{y&&y(Y),se(!1)}})})}),_&&V&&c.jsx("div",{onMouseEnter:()=>re(!0),onMouseLeave:()=>re(!1),children:c.jsx(ak,{videoId:i.id,currentFolders:u,selectedFolders:S,onColorClick:w})})]}),c.jsx(lk,{title:i.title||`Video ${e+1}`,subtitle:i.video_id,className:"[&>p]:opacity-0 [&>p]:group-hover:opacity-100 [&>p]:transition-opacity [&>p]:duration-200",padding:"p-0 pt-3",headerActions:null})]})},ok=({isOpen:i,onClose:e,onSelect:s,title:l="Select Playlist"})=>{const[r,u]=j.useState([]),[d,f]=j.useState(!0),[m,g]=j.useState(null);j.useEffect(()=>{i&&y()},[i]);const y=async()=>{try{f(!0);const x=await Nn();u(x)}catch(x){console.error("Failed to load playlists:",x),g("Failed to load playlists")}finally{f(!1)}};return i?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl w-full max-w-md border border-slate-700 max-h-[80vh] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:l}),c.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:d?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-sky-500 border-t-transparent rounded-full animate-spin"})}):m?c.jsxs("div",{className:"p-4 text-center text-red-400",children:[m,c.jsx("button",{onClick:y,className:"block mx-auto mt-2 text-sm text-sky-400 hover:text-sky-300 underline",children:"Retry"})]}):r.length===0?c.jsx("div",{className:"p-8 text-center text-slate-400",children:"No playlists found."}):c.jsx("div",{className:"space-y-1",children:r.map(x=>c.jsxs("button",{onClick:()=>s(x.id),className:"w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700 transition-colors flex items-center gap-3 group",children:[c.jsx("div",{className:"w-8 h-8 rounded bg-slate-600 flex items-center justify-center flex-shrink-0 text-slate-300 group-hover:text-white group-hover:bg-slate-500 transition-colors",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"text-white font-medium truncate",children:x.name}),x.description&&c.jsx("p",{className:"text-xs text-slate-400 truncate",children:x.description})]})]},x.id))})}),c.jsx("div",{className:"p-4 border-t border-slate-700 flex justify-end",children:c.jsx("button",{onClick:e,className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors font-medium text-sm",children:"Cancel"})})]})}):null},ck=Ns(np((i,e)=>({stickiedVideos:{},_getKey:(s,l)=>`${s}::${l===null?"root":l}`,toggleSticky:(s,l,r=null)=>{const u=e(),d=u._getKey(s,r),f=u.stickiedVideos[d]||[],m=f.includes(l);let g;m?g=f.filter(y=>y!==l):g=[...f,l],i({stickiedVideos:{...u.stickiedVideos,[d]:g}})},isStickied:(s,l,r=null)=>{const u=e(),d=u._getKey(s,r),f=u.stickiedVideos[d];return f?f.includes(l):!1}}),{name:"sticky-storage"})),x2=({children:i,title:e="Stickied Videos"})=>{const s=j.useRef(null),[l,r]=j.useState(!1),[u,d]=j.useState(!1),[f,m]=j.useState(0),[g,y]=j.useState(0),x=j.useRef(!1),v=dn.Children.count(i);if(v===0)return null;if(v<=3)return c.jsxs("div",{className:"w-full mb-8 animate-fade-in px-8",children:[" ",c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(mb,{className:"w-5 h-5 text-amber-500"}),c.jsx("h3",{className:"text-lg font-bold text-[#052F4A]",children:e})]}),c.jsx("div",{className:"grid grid-cols-3 gap-6",children:i})]});const _=M=>{if(s.current){const{clientWidth:A}=s.current,z=A*.8;s.current.scrollBy({left:M==="left"?-z:z,behavior:"smooth"})}},S=M=>{d(!0),m(M.pageX-s.current.offsetLeft),y(s.current.scrollLeft),x.current=!1,s.current.style.scrollSnapType="none",s.current.style.cursor="grabbing"},w=()=>{d(!1),s.current&&(s.current.style.scrollSnapType="x mandatory",s.current.style.cursor="grab")},N=()=>{d(!1),s.current&&(s.current.style.scrollSnapType="x mandatory",s.current.style.cursor="grab"),setTimeout(()=>{x.current=!1},100)},k=M=>{if(!u)return;M.preventDefault();const z=(M.pageX-s.current.offsetLeft-f)*2;s.current.scrollLeft=g-z,Math.abs(z)>5&&(x.current=!0)},E=M=>{x.current&&(M.preventDefault(),M.stopPropagation())};return c.jsxs("div",{className:"w-full mb-8 animate-fade-in relative px-8",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(mb,{className:"w-5 h-5 text-amber-500"}),c.jsx("h3",{className:"text-lg font-bold text-[#052F4A]",children:e}),c.jsxs("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full border border-slate-200",children:["Scroll to view ",v," items"]})]}),c.jsxs("div",{className:"relative -mx-4 px-4 sticky-carousel-wrapper",children:[c.jsx("style",{jsx:!0,children:`
                    .sticky-carousel-wrapper ::-webkit-scrollbar {
                        height: 8px;
                    }
                    .sticky-carousel-wrapper ::-webkit-scrollbar-track {
                        background: rgba(0, 0, 0, 0.05);
                        border-radius: 4px;
                        margin-left: 16px;
                        margin-right: 16px;
                    }
                    .sticky-carousel-wrapper ::-webkit-scrollbar-thumb {
                        background: rgba(5, 47, 74, 0.2); 
                        border-radius: 4px;
                    }
                    .sticky-carousel-wrapper ::-webkit-scrollbar-thumb:hover {
                        background: rgba(5, 47, 74, 0.5); 
                    }
                `}),c.jsx("button",{onClick:()=>_("left"),className:`absolute left-0 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white/90 backdrop-blur-sm border border-slate-200 rounded-full shadow-lg flex items-center justify-center text-[#052F4A] transition-all duration-300 ${l?"opacity-100 translate-x-1/2":"opacity-0 -translate-x-4 pointer-events-none"}`,children:c.jsx(Br,{size:20})}),c.jsx("div",{ref:s,className:"flex gap-6 overflow-x-auto pb-6 pt-2 snap-x snap-mandatory cursor-grab",onMouseDown:S,onMouseLeave:w,onMouseUp:N,onMouseMove:k,onClickCapture:E,style:{scrollbarWidth:"auto",scrollBehavior:"auto"},children:dn.Children.map(i,M=>c.jsx("div",{className:"w-[calc(33.333%-16px)] snap-start flex-shrink-0 select-none",children:M}))}),c.jsx("button",{onClick:()=>_("right"),className:`absolute right-0 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white/90 backdrop-blur-sm border border-slate-200 rounded-full shadow-lg flex items-center justify-center text-[#052F4A] transition-all duration-300 ${l?"opacity-100 -translate-x-1/2":"opacity-0 translate-x-4 pointer-events-none"}`,children:c.jsx(xc,{size:20})})]})]})},mb=({className:i})=>c.jsx("svg",{viewBox:"0 0 100 100",className:i,fill:"currentColor",children:c.jsx("path",{d:`M47.5,12.2c0,0-2.3,16.2-7.8,19.3c-5.5,3.1-17.7-6.2-17.7-6.2s3.8,11.2-1.7,16.5c-5.5,5.3-20.2-2.1-20.2-2.1\r
      s12.5,9.6,9.2,16.5c-3.3,6.9-10.7,5.5-10.7,5.5s12.9,5.7,12.5,14.7c-0.4,9-10.6,15.6-10.6,15.6s15.3-1.6,20.2,4.2\r
      c4.9,5.8-0.9,13.8-0.9,13.8s9.4-9,16.9-5.3c7.5,3.7,5.9,14.6,5.9,14.6s5.9-11.8,13.6-10.6c7.7,1.2,13.6,9.5,13.6,9.5\r
      s-1.8-13.6,5.3-16.7c7.1-3.1,16.5,2.7,16.5,2.7s-8.1-13.6-1.5-18.9c6.6-5.3,18.8,0.7,18.8,0.7s-13.2-8.1-11.1-16.7\r
      C99.2,40.4,100,28.8,100,28.8s-12,8.8-17.7,3.1c-5.7-5.7-1.3-18.8-1.3-18.8s-9,11.6-16.5,9.4c-7.5-2.2-11.1-12.2-11.1-12.2\r
      S50.4,14.5,47.5,12.2z`})}),uk=({isOpen:i,onClose:e,onSave:s,initialData:l})=>{const[r,u]=j.useState(""),[d,f]=j.useState(""),[m,g]=j.useState(""),[y,x]=j.useState(!1);j.useEffect(()=>{i&&l&&(u(l.name||""),f(l.description||""),g(l.customAscii||""))},[i]);const v=async _=>{if(_.preventDefault(),!!r.trim()){x(!0);try{await s({name:r,description:d,customAscii:m}),e()}catch(S){console.error("Failed to update playlist:",S)}finally{x(!1)}}};return i?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all scale-100 opacity-100",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Edit Details"}),c.jsx("button",{onClick:e,className:"p-1.5 hover:bg-slate-100 rounded-full text-slate-500 transition-colors",children:c.jsx(Nr,{size:20})})]}),c.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name"}),c.jsx("input",{type:"text",value:r,onChange:_=>u(_.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800",placeholder:"Name",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),c.jsx("textarea",{value:d,onChange:_=>f(_.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 h-32 resize-none",placeholder:"Add a description..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Custom ASCII Banner"}),c.jsx("textarea",{value:m,onChange:_=>g(_.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 h-32 resize-none font-mono text-xs whitespace-pre leading-tight",placeholder:"Paste ASCII art here to override default signature..."})]}),c.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:y||!r.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:y?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(W5,{size:16}),"Save Changes"]})})]})]})]})}):null},dk=()=>c.jsxs("div",{className:"relative rounded-lg bg-transparent",children:[c.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-slate-800/50",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})}),c.jsxs("div",{className:"p-0 pt-3",children:[c.jsx("div",{className:"h-5 bg-slate-800/50 rounded w-3/4 mb-2 relative overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})}),c.jsx("div",{className:"h-4 bg-slate-800/30 rounded w-1/2 relative overflow-hidden",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}})})]})]}),fk=Ns((i,e)=>({shuffleStates:{},getShuffleState:(s,l)=>{const r=e();if(r.shuffleStates[s])return r.shuffleStates[s];const u={};l.forEach(f=>{u[f]=Math.random()});const d={map:u};return i(f=>({shuffleStates:{...f.shuffleStates,[s]:d}})),d},getVideoRank:(s,l)=>{const u=e().shuffleStates[s];return!u||!u.map?0:u.map[l]||Math.random()}})),hk=({onVideoSelect:i,onSecondPlayerSelect:e})=>{const{currentPlaylistItems:s,currentVideoIndex:l,currentPlaylistId:r,setPlaylistItems:u,previewPlaylistItems:d,previewPlaylistId:f,previewFolderInfo:m,setPreviewPlaylist:g,allPlaylists:y,setAllPlaylists:x}=Di(),[v,_]=j.useState(null),{selectedFolder:S,setSelectedFolder:w,setVideoFolders:N,videoFolderAssignments:k,loadVideoFolders:E,quickAssignFolder:M,setQuickAssignFolder:A,bulkTagMode:z,setBulkTagMode:O,bulkTagSelections:F,toggleBulkTagSelection:P,clearBulkTagSelections:V}=Pc(),{shuffleStates:re,getShuffleState:oe}=fk(),{setViewMode:se,inspectMode:Se,viewMode:Ee}=Qn(),{currentPage:Me,setCurrentPage:W}=Gr(),le=j.useRef(null),{userName:X,userAvatar:L,customPageBannerImage:q,bannerHeight:T,bannerBgSize:D}=Oa(),[H,Q]=j.useState([]),[de,je]=j.useState(!0),[U,ne]=j.useState(!1),[Z,he]=j.useState("shuffle"),[xe,J]=j.useState("desc"),[I,fe]=j.useState(!0),[me,Y]=j.useState(!1),[ke,ze]=j.useState(new Set),[Te,Ue]=j.useState(new Map),[Xe,lt]=j.useState(!1),[ut,De]=j.useState(null),[Be,it]=j.useState(null),[qe,Pe]=j.useState(!1),[mt,Qe]=j.useState(!1),[$t,En]=j.useState(null),St=d||s,Oe=f||r,[Xt,_e]=j.useState(1),at=50;j.useEffect(()=>{_e(1),le.current&&le.current.scrollTo(0,0)},[Oe,S,Z,xe,I,me]),j.useEffect(()=>{le.current&&le.current.scrollTo(0,0)},[Xt]),j.useEffect(()=>{l>=0&&St.length>0&&_(l)},[l,St]);const{isStickied:pt,toggleSticky:Ie,stickiedVideos:Ze}=ck(),ye=(ie,pe)=>{console.log(`[VideosPage] Toggling sticky for playlist ${ie}, video ${pe}, folder ${S}`),Ie(ie,pe,S)};j.useEffect(()=>{console.log("[VideosPage] Active Playlist:",Oe),console.log("[VideosPage] Sticky Data:",Ze),console.log("[VideosPage] Selected Folder:",S)},[Oe,Ze,S]),j.useEffect(()=>{w(null)},[Oe,w]),j.useEffect(()=>{z||V()},[z,V]),j.useEffect(()=>{const ie=async()=>{try{const Le=await nb();ze(new Set(Le));const Ae=await mm(),$e=new Map;for(const Ve of Ae)$e.set(Ve.video_id,{percentage:Ve.progress_percentage,hasFullyWatched:Ve.has_fully_watched,last_updated:Ve.last_updated});Ue($e)}catch(Le){console.error("Failed to load video progress:",Le)}};ie();const pe=setInterval(ie,5e3);return()=>clearInterval(pe)},[]),j.useEffect(()=>{const pe=setTimeout(async()=>{if(St.length>0&&l<St.length)try{const Le=await nb();ze(new Set(Le));const Ae=await mm(),$e=new Map;for(const Ve of Ae)$e.set(Ve.video_id,{percentage:Ve.progress_percentage,hasFullyWatched:Ve.has_fully_watched,last_updated:Ve.last_updated});Ue($e)}catch(Le){console.error("Failed to refresh video progress:",Le)}},2e3);return()=>clearTimeout(pe)},[l,St]),j.useEffect(()=>{(async()=>{if(je(!0),!Oe){E({}),je(!1);return}try{const pe=await M4(Oe);E(pe||{})}catch(pe){console.error("Failed to load folder assignments:",pe),E({})}finally{je(!1)}})()},[Oe,St,E]),j.useEffect(()=>{Oe&&St.length>0&&oe(Oe,St.map(ie=>ie.id))},[Oe,St,oe]),j.useEffect(()=>{if(!Oe||St.length===0){Q([]);return}(async()=>{if(S===null){Q(St);return}je(!0);try{if(S==="unsorted"){const pe=[];for(const Le of St){const Ae=k[Le.id];(!Ae||Ae.length===0)&&pe.push(Le)}console.log(`Unsorted filter: Found ${pe.length} videos`),Q(pe)}else{const pe=await Mn(Oe,S);console.log(`Folder ${S}: Found ${pe?.length||0} videos with assignments`),Q(Array.isArray(pe)?pe:[])}}catch(pe){console.error("Failed to load folder videos:",pe),Q([])}finally{je(!1)}})()},[S,Oe,St]);const tt=async(ie,pe)=>{console.log("handleMenuOptionClick:",ie.action,pe.id,"activePermission:",!!Oe),Oe||console.warn("Action attempted without activePlaylistId");try{switch(ie.action){case"delete":if(!window.confirm(`Are you sure you want to remove "${pe.title||"this video"}" from the playlist?`))return;if(await dm(Oe,pe.id),Q(Ae=>Ae.filter($e=>$e.id!==pe.id)),f){const Ae=d.filter($e=>$e.id!==pe.id);g(Ae,f,m)}else{const Ae=s.filter($e=>$e.id!==pe.id);u(Ae,r)}break;case"assignFolder":if(ie.folderColor){const Ae=k[pe.id]||[];if(Ae.includes(ie.folderColor)?(await bd(Oe,pe.id,ie.folderColor),N(pe.id,Ae.filter(Ve=>Ve!==ie.folderColor))):(await Aa(Oe,pe.id,ie.folderColor),N(pe.id,[...Ae,ie.folderColor])),S===ie.folderColor){const Ve=await Mn(Oe,S);Q(Ve||[])}}break;case"setQuickAssign":ie.folderColor&&(A(ie.folderColor),console.log("Quick assign folder set to:",ie.folderColor));break;case"moveToPlaylist":De(pe),it("move"),lt(!0);break;case"setPlaylistCover":if(!Oe)return;try{const Ae=`https://img.youtube.com/vi/${pe.video_id}/maxresdefault.jpg`;await tb(Oe,null,null,null,Ae),alert(`Playlist cover updated using thumbnail from "${pe.title}"`);const $e=await Nn();x($e)}catch(Ae){console.error("Failed to set playlist cover:",Ae),alert("Failed to set playlist cover")}break;case"copyToPlaylist":De(pe),it("copy"),lt(!0);break;default:console.log("Unknown action:",ie.action)}}catch(Le){console.error("Failed to handle menu action:",Le),alert(`Failed to ${ie.label.toLowerCase()}: ${Le.message||"Unknown error"}`)}},Je=async(ie,pe)=>{if(!Oe)return;const Le=k[pe.id]||[],Ae=M,$e=Le.includes(Ae);try{if($e){await bd(Oe,pe.id,Ae);const Ve=Le.filter(ht=>ht!==Ae);if(N(pe.id,Ve),S===Ae){const ht=await Mn(Oe,S);Q(ht||[])}}else if(await Aa(Oe,pe.id,Ae),N(pe.id,[...Le,Ae]),S===Ae){const Ve=await Mn(Oe,S);Q(Ve||[])}}catch(Ve){console.error("Failed to toggle folder assignment:",Ve),alert(`Failed to ${$e?"unassign":"assign"} video: ${Ve.message||"Unknown error"}`)}},rt=async(ie,pe)=>{if(!Oe)return;const Le=k[ie.id]||[],Ae=Le.includes(pe);try{if(Ae){await bd(Oe,ie.id,pe);const $e=Le.filter(Ve=>Ve!==pe);if(N(ie.id,$e),S===pe){const Ve=await Mn(Oe,S);Q(Ve||[])}}else if(await Aa(Oe,ie.id,pe),N(ie.id,[...Le,pe]),S===pe){const $e=await Mn(Oe,S);Q($e||[])}}catch($e){console.error("Failed to toggle folder assignment:",$e),alert(`Failed to ${Ae?"unassign":"assign"} video: ${$e.message||"Unknown error"}`)}},gt=ie=>{A(ie),console.log("Quick assign folder set to:",ie)},Nt=(ie,pe)=>{if(z)return;if(f){const Ae=y.find(Ve=>Ve.id===f),$e=Ae?Ae.name:null;u(d,f,m,$e)}const Le=St.findIndex(Ae=>Ae.id===ie.id);_(Le>=0?Le:pe),i&&i(ie.video_url)},bi=(ie,pe)=>{P(ie.id,pe)},st=async ie=>{if(!(!ut||!Be))try{const pe=ut;console.log(`${Be==="move"?"Moving":"Copying"} video to playlist ${ie}:`,pe.title);const Le=mi(pe.video_url)||pe.video_id;if(await Ir(ie,pe.video_url,Le,pe.title,pe.thumbnail_url),Be==="move"&&Oe)if(await dm(Oe,pe.id),Q(Ae=>Ae.filter($e=>$e.id!==pe.id)),f){const Ae=d.filter($e=>$e.id!==pe.id);g(Ae,f,m)}else{const Ae=s.filter($e=>$e.id!==pe.id);u(Ae,r)}console.log(`Video successfully ${Be==="move"?"moved":"copied"}!`)}catch(pe){console.error(`Failed to ${Be} video:`,pe),alert(`Failed to ${Be} video: ${pe.message}`)}finally{lt(!1),De(null),it(null)}},We=j.useMemo(()=>{const ie={};return k&&Object.values(k).forEach(pe=>{Array.isArray(pe)&&pe.forEach(Le=>{ie[Le]=(ie[Le]||0)+1})}),ie},[k]),yt=async()=>{if(Pe(!1),Oe)try{const ie=await Vt(Oe);f?g(ie,f,m):u(ie,r)}catch(ie){console.error("Failed to reload playlist after upload:",ie)}};j.useEffect(()=>{(async()=>{if(Oe&&S&&S!=="unsorted")try{const pe=await c2(Oe,S);En(pe?{name:pe[0],description:pe[1],customAscii:pe[2]}:null)}catch(pe){console.error("Failed to fetch folder metadata:",pe),En(null)}else En(null)})()},[Oe,S]);const Ht=async ie=>{if(Oe)try{if(S&&S!=="unsorted")await E4(Oe,S,ie.name,ie.description,ie.customAscii),En({name:ie.name,description:ie.description,customAscii:ie.customAscii});else{await tb(Oe,ie.name,ie.description,ie.customAscii);const pe=await Nn();x(pe)}}catch(pe){throw console.error("Failed to update metadata:",pe),pe}},gn=j.useMemo(()=>{const ie=S!==null?H:St;if(!ie||ie.length===0)return[];if(Z==="chronological")return ie;if(Z==="shuffle"){const pe=re[Oe];return!pe||!pe.map?ie:[...ie].sort((Le,Ae)=>{const $e=pe.map[Le.id]??0,Ve=pe.map[Ae.id]??0;return $e-Ve})}if(Z==="progress"){let pe=[...ie];return I||(pe=pe.filter(Ae=>{const $e=mi(Ae.video_url)||Ae.video_id,Ve=Te.get($e);return(Ve?typeof Ve=="number"?Ve:Ve.percentage:0)>0})),me&&(pe=pe.filter(Ae=>{const $e=mi(Ae.video_url)||Ae.video_id,Ve=Te.get($e);return!(Ve&&typeof Ve=="object"?Ve.hasFullyWatched:!1)})),pe.sort((Ae,$e)=>{const Ve=mi(Ae.video_url)||Ae.video_id,ht=mi($e.video_url)||$e.video_id,_i=Te.get(Ve),Un=Te.get(ht),Bt=_i?typeof _i=="number"?_i:_i.percentage:0,Ql=Un?typeof Un=="number"?Un:Un.percentage:0;return xe==="asc"?Bt-Ql:Ql-Bt})}return ie},[S,H,St,Z,xe,Te,I,me,re,Oe]),Jt=S!==null?H:St,Kn=Jt.filter(ie=>{const Le=`${Oe}::${S===null?"root":S}`;return(Ze[Le]||[]).includes(ie.id)}),rn=gn;Object.values(F).reduce((ie,pe)=>ie+pe.size,0);const Et=j.useMemo(()=>S&&S!=="unsorted"?$t:y.find(ie=>ie.id===Oe),[y,Oe,S,$t]),Sn=j.useMemo(()=>{let ie="",pe="",Le=null,Ae=!0,$e=null,Ve="#3b82f6";if(S)if(S==="unsorted")ie="Unsorted Videos",pe=`Videos from "${y.find(ht=>ht.id===Oe)?.name||"Playlist"}" that haven't been assigned to any folder.`,Le="unsorted",Ve="#64748b",Ae=!1;else{const ht=Ot.find(_i=>_i.id===S);Le=S,ht&&(Ve=ht.hex),Et?(ie=Et.name||(ht?`${ht.name} Folder`:"Folder"),pe=Et.description||"",$e=Et.customAscii):(ie=ht?`${ht.name} Folder`:"Folder",pe=`Videos in the ${ie}.`),Ae=!0}else ie=Et?Et.name:"",pe=Et?Et.description:"",$e=Et?Et.custom_ascii:null,Le=null,Ae=!0;return{title:ie,description:pe,color:Le,isEditable:Ae,customAscii:$e,hex:Ve}},[Et,S,Oe,y]),Zn=j.useMemo(()=>{if(S&&S!=="unsorted"){const ie=Ot.find(Le=>Le.id===S),pe=ie?`${ie.name} Folder`:"Folder";return{name:Et?.name||pe,description:Et?.description||"",customAscii:Et?.customAscii||""}}else return{name:Et?.name||"",description:Et?.description||"",customAscii:Et?.custom_ascii||""}},[Et,S]),Yt=j.useMemo(()=>{if(!Jt||Jt.length===0)return null;let ie=null,pe=0;for(const Le of Jt){const Ae=mi(Le.video_url)||Le.video_id,$e=Te.get(Ae);if($e&&$e.last_updated){const Ve=new Date($e.last_updated).getTime();Ve>pe&&(pe=Ve,ie=Le)}}return ie},[Jt,Te]),[Qt,Jn]=j.useState(!1),wi=j.useRef(null);return j.useEffect(()=>{const ie=new IntersectionObserver(([pe])=>{Jn(pe.intersectionRatio<1&&pe.boundingClientRect.top<0)},{threshold:[1],rootMargin:"-1px 0px 0px 0px"});return wi.current&&ie.observe(wi.current),()=>ie.disconnect()},[]),c.jsxs("div",{className:"w-full h-full flex flex-col",children:[qe?c.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent",children:c.jsx(ap,{onUploadComplete:yt,onCancel:()=>Pe(!1),initialPlaylistId:Oe})}):c.jsxs("div",{ref:le,className:"flex-1 overflow-y-auto bg-transparent relative",children:[Oe&&c.jsx("div",{className:"px-8 pt-8",children:c.jsx(Wr,{title:Sn.title,description:Sn.description,folderColor:Sn.color,onEdit:Sn.isEditable?()=>Qe(!0):void 0,videoCount:Jt.length,creationYear:"2026",author:X,avatar:Sn.customAscii||L,continueVideo:Yt,onContinue:()=>{Yt&&i&&i(Yt.video_url)},seamlessBottom:!0})}),c.jsx("div",{ref:wi,className:"absolute h-px w-full -mt-px pointer-events-none opacity-0"}),c.jsx("div",{className:`sticky top-0 z-40 transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) overflow-hidden -mt-16
            ${Qt?"backdrop-blur-xl border-y shadow-2xl mx-0 rounded-none mb-6 pt-2 pb-2 bg-slate-900/70":"backdrop-blur-[2px] border-b border-x border-t border-white/10 shadow-xl mx-8 rounded-b-2xl mb-8 mt-0 pt-1 pb-0 bg-transparent"}
            `,style:{backgroundColor:Qt?void 0:"transparent"},children:c.jsxs("div",{className:`px-4 flex items-center justify-between transition-all duration-300 relative z-10 ${Qt?"h-[52px]":"py-0.5"}`,children:[c.jsxs("div",{className:"flex items-center gap-0 overflow-x-auto no-scrollbar mask-gradient-right flex-1 min-w-0 pr-0",children:[c.jsxs("div",{className:"flex items-center gap-3 pr-3 shrink-0",children:[c.jsx("div",{className:"relative group shrink-0",children:c.jsxs("select",{value:Z,onChange:ie=>he(ie.target.value),className:"bg-slate-800/80 border border-white/10 rounded-md py-1 pl-2 pr-5 text-[10px] font-bold uppercase tracking-wider text-slate-300 focus:outline-none focus:ring-1 focus:ring-sky-500 cursor-pointer hover:bg-slate-700 transition-colors appearance-none",title:"Sort",children:[c.jsx("option",{value:"shuffle",children:"Default"}),c.jsx("option",{value:"chronological",children:"Date"}),c.jsx("option",{value:"progress",children:"Progress"})]})}),c.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[c.jsx("button",{onClick:()=>w(null),className:`px-2 py-0.5 rounded-md text-[10px] font-bold transition-all uppercase tracking-wider ${S===null?"bg-sky-500 text-white shadow-sm":"bg-slate-800/80 text-slate-400 hover:bg-slate-700 hover:text-slate-200 border border-white/5"}`,children:"All"}),c.jsx("button",{onClick:()=>w("unsorted"),className:`px-2 py-0.5 rounded-md text-[10px] font-bold transition-all uppercase tracking-wider ${S==="unsorted"?"bg-slate-500 text-white shadow-sm":"bg-slate-800/80 text-slate-400 hover:bg-slate-700 hover:text-slate-200 border border-white/5"}`,children:"Unsorted"})]})]}),c.jsx("div",{className:"flex-1 flex items-center shrink-0 h-6 mr-3 border-2 border-black rounded-lg overflow-hidden",children:Ot.map((ie,pe)=>{const Le=S===ie.id,Ae=pe===0,$e=pe===Ot.length-1,Ve=We[ie.id]||0;return c.jsx("button",{onClick:()=>w(ie.id),className:`h-full flex-1 flex items-center justify-center transition-all ${Le?'opacity-100 z-10 relative after:content-[""] after:absolute after:inset-0 after:ring-2 after:ring-inset after:ring-white/50':"opacity-60 hover:opacity-100"} ${Ae?"rounded-l-md":""} ${$e?"rounded-r-md":""}`,style:{backgroundColor:ie.hex},title:`${ie.name} (${Ve})`,children:Ve>0&&c.jsx("span",{className:"text-sm font-bold text-white/90 drop-shadow-md",children:Ve})},ie.id)})})]}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[c.jsx("button",{onClick:()=>O(!z),className:`p-1.5 rounded-md transition-all ${z?"bg-blue-600 text-white shadow-lg":"bg-slate-800/80 text-slate-400 hover:bg-slate-700 hover:text-slate-200 border border-white/10"}`,title:z?"Exit Bulk Tagging":"Bulk Tag",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),c.jsx("button",{onClick:()=>Pe(!0),className:"p-1.5 bg-sky-500 hover:bg-sky-400 text-white rounded-md transition-all shadow-lg hover:shadow-sky-500/25 border border-white/10",title:"Add Config",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})}),c.jsxs("div",{className:"px-8 pb-8",children:[c.jsx(uk,{isOpen:mt,onClose:()=>Qe(!1),onSave:Ht,initialData:Zn}),de?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6 animate-pulse",children:[...Array(12)].map((ie,pe)=>c.jsx(dk,{},pe))}):gn.length>0?c.jsxs(c.Fragment,{children:[Kn.length>0&&S!=="unsorted"&&c.jsx(x2,{children:Kn.map((ie,pe)=>{const Le=St.findIndex(Ae=>Ae.id===ie.id);return c.jsx(wc,{video:ie,index:pe,originalIndex:Le,isSelected:v===Le,isCurrentlyPlaying:l===Le,videoFolders:k[ie.id]||[],selectedFolder:S,onVideoClick:()=>Nt(ie,pe),onStarClick:Ae=>Je(Ae,ie),onStarColorLeftClick:rt,onStarColorRightClick:gt,onMenuOptionClick:Ae=>{Ae.action==="toggleSticky"?ye(Oe,ie.id):tt(Ae,ie)},onQuickAssign:Je,bulkTagMode:z,bulkTagSelections:F[ie.id]||new Set,onBulkTagColorClick:Ae=>bi(ie,Ae),onPinClick:()=>{},isStickied:!0,progress:(()=>{const Ae=mi(ie.video_url)||ie.video_id,$e=Te.get(Ae);return $e?typeof $e=="number"?$e:$e.percentage:0})(),isWatched:(()=>{const Ae=mi(ie.video_url)||ie.video_id;return ke.has(Ae)})()},ie.id)})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6 animate-fade-in",children:rn.slice((Xt-1)*at,Xt*at).map((ie,pe)=>{const Le=St.findIndex(ht=>ht.id===ie.id),$e=`${Oe}::${S===null?"root":S}`,Ve=(Ze[$e]||[]).includes(ie.id);return c.jsx(wc,{video:ie,index:pe,originalIndex:Le,isSelected:v===Le,isCurrentlyPlaying:l===Le,videoFolders:k[ie.id]||[],selectedFolder:S,onVideoClick:()=>Nt(ie,pe),onStarClick:ht=>Je(ht,ie),onStarColorLeftClick:rt,onStarColorRightClick:gt,onMenuOptionClick:ht=>{ht.action==="toggleSticky"?ye(Oe,ie.id):tt(ht,ie)},onQuickAssign:Je,bulkTagMode:z,bulkTagSelections:F[ie.id]||new Set,onBulkTagColorClick:ht=>bi(ie,ht),onPinClick:()=>{},isStickied:Ve,progress:(()=>{mi(ie.video_url)||ie.video_id;const ht=Te.get(ie.id)||Te.get(mi(ie.video_url));return ht?typeof ht=="number"?ht:ht.percentage:0})(),isWatched:(()=>{const ht=mi(ie.video_url)||ie.video_id;return ke.has(ht)})()},ie.id)})})]}):c.jsx("div",{className:"text-center text-slate-400 py-8",children:"No videos found in this playlist."}),rn.length>at&&c.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8 mb-4",children:[c.jsx("button",{onClick:()=>_e(ie=>Math.max(ie-1,1)),disabled:Xt===1,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg font-medium transition-colors border border-slate-600 text-sky-400 hover:text-sky-300",children:"Previous"}),c.jsxs("span",{className:"text-slate-400 font-medium",children:["Page ",Xt," of ",Math.ceil(rn.length/at)]}),c.jsx("button",{onClick:()=>_e(ie=>Math.min(ie+1,Math.ceil(rn.length/at))),disabled:Xt>=Math.ceil(rn.length/at),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg font-medium transition-colors border border-slate-600 text-sky-400 hover:text-sky-300",children:"Next"})]})]})]}),c.jsx(ok,{isOpen:Xe,onClose:()=>{lt(!1),De(null),it(null)},onSelect:st,title:Be==="move"?"Move to Playlist":"Copy to Playlist"})]})},mk=({onVideoSelect:i,onSecondPlayerSelect:e})=>{const[s,l]=j.useState([]),[r,u]=j.useState(!0),{inspectMode:d}=Qn(),f=x=>d?x:void 0;j.useEffect(()=>{m()},[]);const m=async()=>{try{u(!0);const x=await u2(100);l(x||[])}catch(x){console.error("Failed to load watch history:",x),alert(`Failed to load watch history: ${x.message||"Unknown error"}`)}finally{u(!1)}},g=x=>{i&&i(x.video_url)},y=x=>{try{const v=new Date(x),_=new Date,S=_-v,w=Math.floor(S/6e4),N=Math.floor(S/36e5),k=Math.floor(S/864e5);return w<1?"Just now":w<60?`${w} minute${w!==1?"s":""} ago`:N<24?`${N} hour${N!==1?"s":""} ago`:k<7?`${k} day${k!==1?"s":""} ago`:v.toLocaleDateString("en-US",{month:"short",day:"numeric",year:v.getFullYear()!==_.getFullYear()?"numeric":void 0})}catch{return x}};return r?c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("p",{className:"text-slate-400",children:"Loading history..."})}):s.length===0?c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("p",{className:"text-slate-400",children:"No watch history yet"})}):c.jsx("div",{className:"w-full h-full flex flex-col bg-transparent",children:c.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c.jsx(Wr,{title:"History",description:"Your recently watched videos.",color:null,isEditable:!1}),c.jsx("div",{className:"flex flex-col space-y-3 max-w-5xl mx-auto",children:s.map(x=>{const v=x.thumbnail_url||In(x.video_id,"medium");return c.jsxs(y2,{onClick:()=>g(x),className:"flex flex-row gap-5 p-3 bg-slate-800/40 hover:bg-slate-800/80 rounded-xl transition-all group w-full border border-transparent hover:border-slate-700/50",title:f(`History video: ${x.title||"Untitled"}`),variant:"minimal",children:[c.jsx("div",{className:"w-64 shrink-0 aspect-video rounded-lg overflow-hidden relative shadow-md group-hover:shadow-xl transition-all",children:c.jsx(g2,{src:v,alt:x.title||"Video thumbnail",overlay:c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-3 pointer-events-auto bg-black/40 backdrop-blur-[2px] absolute inset-0 justify-center",children:c.jsx("button",{onClick:_=>{_.stopPropagation(),g(x)},className:"bg-sky-500 hover:bg-sky-400 rounded-full p-3 transition-all active:scale-90 shadow-lg hover:scale-110",style:{color:"#052F4A"},title:f("Play video")||"Play video",children:c.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})})}),c.jsxs("div",{className:"flex flex-col justify-center flex-1 min-w-0 py-2",children:[c.jsx("h3",{className:"text-lg font-bold mb-2 line-clamp-2 leading-tight transition-colors",style:{color:"#052F4A"},onMouseEnter:_=>_.currentTarget.style.color="#38bdf8",onMouseLeave:_=>_.currentTarget.style.color="#052F4A",children:x.title||"Untitled Video"}),c.jsx("div",{className:"flex items-center text-sm text-slate-400 font-medium",children:c.jsxs("span",{className:"flex items-center gap-1.5 bg-slate-900/50 px-2 py-1 rounded-md border border-slate-700/50",children:[c.jsx(Ad,{size:14,className:"text-sky-500/80"}),y(x.watched_at)]})})]})]},x.id)})})]})})},rp=j.createContext({});function op(i){const e=j.useRef(null);return e.current===null&&(e.current=i()),e.current}const v2=typeof window<"u",b2=v2?j.useLayoutEffect:j.useEffect,Gd=j.createContext(null);function cp(i,e){i.indexOf(e)===-1&&i.push(e)}function up(i,e){const s=i.indexOf(e);s>-1&&i.splice(s,1)}const js=(i,e,s)=>s>e?e:s<i?i:s;let dp=()=>{};const Qs={},w2=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function _2(i){return typeof i=="object"&&i!==null}const S2=i=>/^0[^.\s]+$/u.test(i);function fp(i){let e;return()=>(e===void 0&&(e=i()),e)}const is=i=>i,pk=(i,e)=>s=>e(i(s)),Oc=(...i)=>i.reduce(pk),_c=(i,e,s)=>{const l=e-i;return l===0?1:(s-i)/l};class hp{constructor(){this.subscriptions=[]}add(e){return cp(this.subscriptions,e),()=>up(this.subscriptions,e)}notify(e,s,l){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,s,l);else for(let u=0;u<r;u++){const d=this.subscriptions[u];d&&d(e,s,l)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ws=i=>i*1e3,es=i=>i/1e3;function j2(i,e){return e?i*(1e3/e):0}const k2=(i,e,s)=>(((1-3*s+3*e)*i+(3*s-6*e))*i+3*e)*i,gk=1e-7,yk=12;function xk(i,e,s,l,r){let u,d,f=0;do d=e+(s-e)/2,u=k2(d,l,r)-i,u>0?s=d:e=d;while(Math.abs(u)>gk&&++f<yk);return d}function Vc(i,e,s,l){if(i===e&&s===l)return is;const r=u=>xk(u,0,1,i,s);return u=>u===0||u===1?u:k2(r(u),e,l)}const N2=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,C2=i=>e=>1-i(1-e),T2=Vc(.33,1.53,.69,.99),mp=C2(T2),M2=N2(mp),A2=i=>(i*=2)<1?.5*mp(i):.5*(2-Math.pow(2,-10*(i-1))),pp=i=>1-Math.sin(Math.acos(i)),E2=C2(pp),z2=N2(pp),vk=Vc(.42,0,1,1),bk=Vc(0,0,.58,1),D2=Vc(.42,0,.58,1),wk=i=>Array.isArray(i)&&typeof i[0]!="number",P2=i=>Array.isArray(i)&&typeof i[0]=="number",_k={linear:is,easeIn:vk,easeInOut:D2,easeOut:bk,circIn:pp,circInOut:z2,circOut:E2,backIn:mp,backInOut:M2,backOut:T2,anticipate:A2},Sk=i=>typeof i=="string",pb=i=>{if(P2(i)){dp(i.length===4);const[e,s,l,r]=i;return Vc(e,s,l,r)}else if(Sk(i))return _k[i];return i},ad=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jk(i,e){let s=new Set,l=new Set,r=!1,u=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){d.has(y)&&(g.schedule(y),i()),y(f)}const g={schedule:(y,x=!1,v=!1)=>{const S=v&&r?s:l;return x&&d.add(y),S.has(y)||S.add(y),y},cancel:y=>{l.delete(y),d.delete(y)},process:y=>{if(f=y,r){u=!0;return}r=!0,[s,l]=[l,s],s.forEach(m),s.clear(),r=!1,u&&(u=!1,g.process(y))}};return g}const kk=40;function R2(i,e){let s=!1,l=!0;const r={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=ad.reduce((M,A)=>(M[A]=jk(u),M),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:x,preRender:v,render:_,postRender:S}=d,w=()=>{const M=Qs.useManualTiming?r.timestamp:performance.now();s=!1,Qs.useManualTiming||(r.delta=l?1e3/60:Math.max(Math.min(M-r.timestamp,kk),1)),r.timestamp=M,r.isProcessing=!0,f.process(r),m.process(r),g.process(r),y.process(r),x.process(r),v.process(r),_.process(r),S.process(r),r.isProcessing=!1,s&&e&&(l=!1,i(w))},N=()=>{s=!0,l=!0,r.isProcessing||i(w)};return{schedule:ad.reduce((M,A)=>{const z=d[A];return M[A]=(O,F=!1,P=!1)=>(s||N(),z.schedule(O,F,P)),M},{}),cancel:M=>{for(let A=0;A<ad.length;A++)d[ad[A]].cancel(M)},state:r,steps:d}}const{schedule:Wt,cancel:$l,state:Bn,steps:P0}=R2(typeof requestAnimationFrame<"u"?requestAnimationFrame:is,!0);let wd;function Nk(){wd=void 0}const ai={now:()=>(wd===void 0&&ai.set(Bn.isProcessing||Qs.useManualTiming?Bn.timestamp:performance.now()),wd),set:i=>{wd=i,queueMicrotask(Nk)}},L2=i=>e=>typeof e=="string"&&e.startsWith(i),O2=L2("--"),Ck=L2("var(--"),gp=i=>Ck(i)?Tk.test(i.split("/*")[0].trim()):!1,Tk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function gb(i){return typeof i!="string"?!1:i.split("/*")[0].includes("var(--")}const Qr={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Sc={...Qr,transform:i=>js(0,1,i)},rd={...Qr,default:1},oc=i=>Math.round(i*1e5)/1e5,yp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mk(i){return i==null}const Ak=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xp=(i,e)=>s=>!!(typeof s=="string"&&Ak.test(s)&&s.startsWith(i)||e&&!Mk(s)&&Object.prototype.hasOwnProperty.call(s,e)),V2=(i,e,s)=>l=>{if(typeof l!="string")return l;const[r,u,d,f]=l.match(yp);return{[i]:parseFloat(r),[e]:parseFloat(u),[s]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},Ek=i=>js(0,255,i),R0={...Qr,transform:i=>Math.round(Ek(i))},Ca={test:xp("rgb","red"),parse:V2("red","green","blue"),transform:({red:i,green:e,blue:s,alpha:l=1})=>"rgba("+R0.transform(i)+", "+R0.transform(e)+", "+R0.transform(s)+", "+oc(Sc.transform(l))+")"};function zk(i){let e="",s="",l="",r="";return i.length>5?(e=i.substring(1,3),s=i.substring(3,5),l=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),s=i.substring(2,3),l=i.substring(3,4),r=i.substring(4,5),e+=e,s+=s,l+=l,r+=r),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(l,16),alpha:r?parseInt(r,16)/255:1}}const gm={test:xp("#"),parse:zk,transform:Ca.transform},Bc=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),Dl=Bc("deg"),Ss=Bc("%"),Ye=Bc("px"),Dk=Bc("vh"),Pk=Bc("vw"),yb={...Ss,parse:i=>Ss.parse(i)/100,transform:i=>Ss.transform(i*100)},Cr={test:xp("hsl","hue"),parse:V2("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:s,alpha:l=1})=>"hsla("+Math.round(i)+", "+Ss.transform(oc(e))+", "+Ss.transform(oc(s))+", "+oc(Sc.transform(l))+")"},wn={test:i=>Ca.test(i)||gm.test(i)||Cr.test(i),parse:i=>Ca.test(i)?Ca.parse(i):Cr.test(i)?Cr.parse(i):gm.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Ca.transform(i):Cr.transform(i),getAnimatableNone:i=>{const e=wn.parse(i);return e.alpha=0,wn.transform(e)}},Rk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lk(i){return isNaN(i)&&typeof i=="string"&&(i.match(yp)?.length||0)+(i.match(Rk)?.length||0)>0}const B2="number",I2="color",Ok="var",Vk="var(",xb="${}",Bk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jc(i){const e=i.toString(),s=[],l={color:[],number:[],var:[]},r=[];let u=0;const f=e.replace(Bk,m=>(wn.test(m)?(l.color.push(u),r.push(I2),s.push(wn.parse(m))):m.startsWith(Vk)?(l.var.push(u),r.push(Ok),s.push(m)):(l.number.push(u),r.push(B2),s.push(parseFloat(m))),++u,xb)).split(xb);return{values:s,split:f,indexes:l,types:r}}function F2(i){return jc(i).values}function U2(i){const{split:e,types:s}=jc(i),l=e.length;return r=>{let u="";for(let d=0;d<l;d++)if(u+=e[d],r[d]!==void 0){const f=s[d];f===B2?u+=oc(r[d]):f===I2?u+=wn.transform(r[d]):u+=r[d]}return u}}const Ik=i=>typeof i=="number"?0:wn.test(i)?wn.getAnimatableNone(i):i;function Fk(i){const e=F2(i);return U2(i)(e.map(Ik))}const Hl={test:Lk,parse:F2,createTransformer:U2,getAnimatableNone:Fk};function L0(i,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+(e-i)*6*s:s<1/2?e:s<2/3?i+(e-i)*(2/3-s)*6:i}function Uk({hue:i,saturation:e,lightness:s,alpha:l}){i/=360,e/=100,s/=100;let r=0,u=0,d=0;if(!e)r=u=d=s;else{const f=s<.5?s*(1+e):s+e-s*e,m=2*s-f;r=L0(m,f,i+1/3),u=L0(m,f,i),d=L0(m,f,i-1/3)}return{red:Math.round(r*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:l}}function Ed(i,e){return s=>s>0?e:i}const ln=(i,e,s)=>i+(e-i)*s,O0=(i,e,s)=>{const l=i*i,r=s*(e*e-l)+l;return r<0?0:Math.sqrt(r)},$k=[gm,Ca,Cr],Hk=i=>$k.find(e=>e.test(i));function vb(i){const e=Hk(i);if(!e)return!1;let s=e.parse(i);return e===Cr&&(s=Uk(s)),s}const bb=(i,e)=>{const s=vb(i),l=vb(e);if(!s||!l)return Ed(i,e);const r={...s};return u=>(r.red=O0(s.red,l.red,u),r.green=O0(s.green,l.green,u),r.blue=O0(s.blue,l.blue,u),r.alpha=ln(s.alpha,l.alpha,u),Ca.transform(r))},ym=new Set(["none","hidden"]);function Yk(i,e){return ym.has(i)?s=>s<=0?i:e:s=>s>=1?e:i}function Xk(i,e){return s=>ln(i,e,s)}function vp(i){return typeof i=="number"?Xk:typeof i=="string"?gp(i)?Ed:wn.test(i)?bb:Wk:Array.isArray(i)?$2:typeof i=="object"?wn.test(i)?bb:qk:Ed}function $2(i,e){const s=[...i],l=s.length,r=i.map((u,d)=>vp(u)(u,e[d]));return u=>{for(let d=0;d<l;d++)s[d]=r[d](u);return s}}function qk(i,e){const s={...i,...e},l={};for(const r in s)i[r]!==void 0&&e[r]!==void 0&&(l[r]=vp(i[r])(i[r],e[r]));return r=>{for(const u in l)s[u]=l[u](r);return s}}function Gk(i,e){const s=[],l={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const u=e.types[r],d=i.indexes[u][l[u]],f=i.values[d]??0;s[r]=f,l[u]++}return s}const Wk=(i,e)=>{const s=Hl.createTransformer(e),l=jc(i),r=jc(e);return l.indexes.var.length===r.indexes.var.length&&l.indexes.color.length===r.indexes.color.length&&l.indexes.number.length>=r.indexes.number.length?ym.has(i)&&!r.values.length||ym.has(e)&&!l.values.length?Yk(i,e):Oc($2(Gk(l,r),r.values),s):Ed(i,e)};function H2(i,e,s){return typeof i=="number"&&typeof e=="number"&&typeof s=="number"?ln(i,e,s):vp(i)(i,e)}const Qk=i=>{const e=({timestamp:s})=>i(s);return{start:(s=!0)=>Wt.update(e,s),stop:()=>$l(e),now:()=>Bn.isProcessing?Bn.timestamp:ai.now()}},Y2=(i,e,s=10)=>{let l="";const r=Math.max(Math.round(e/s),2);for(let u=0;u<r;u++)l+=Math.round(i(u/(r-1))*1e4)/1e4+", ";return`linear(${l.substring(0,l.length-2)})`},zd=2e4;function bp(i){let e=0;const s=50;let l=i.next(e);for(;!l.done&&e<zd;)e+=s,l=i.next(e);return e>=zd?1/0:e}function Kk(i,e=100,s){const l=s({...i,keyframes:[0,e]}),r=Math.min(bp(l),zd);return{type:"keyframes",ease:u=>l.next(r*u).value/e,duration:es(r)}}const Zk=5;function X2(i,e,s){const l=Math.max(e-Zk,0);return j2(s-i(l),e-l)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},V0=.001;function Jk({duration:i=un.duration,bounce:e=un.bounce,velocity:s=un.velocity,mass:l=un.mass}){let r,u,d=1-e;d=js(un.minDamping,un.maxDamping,d),i=js(un.minDuration,un.maxDuration,es(i)),d<1?(r=g=>{const y=g*d,x=y*i,v=y-s,_=xm(g,d),S=Math.exp(-x);return V0-v/_*S},u=g=>{const x=g*d*i,v=x*s+s,_=Math.pow(d,2)*Math.pow(g,2)*i,S=Math.exp(-x),w=xm(Math.pow(g,2),d);return(-r(g)+V0>0?-1:1)*((v-_)*S)/w}):(r=g=>{const y=Math.exp(-g*i),x=(g-s)*i+1;return-V0+y*x},u=g=>{const y=Math.exp(-g*i),x=(s-g)*(i*i);return y*x});const f=5/i,m=tN(r,u,f);if(i=Ws(i),isNaN(m))return{stiffness:un.stiffness,damping:un.damping,duration:i};{const g=Math.pow(m,2)*l;return{stiffness:g,damping:d*2*Math.sqrt(l*g),duration:i}}}const eN=12;function tN(i,e,s){let l=s;for(let r=1;r<eN;r++)l=l-i(l)/e(l);return l}function xm(i,e){return i*Math.sqrt(1-e*e)}const nN=["duration","bounce"],iN=["stiffness","damping","mass"];function wb(i,e){return e.some(s=>i[s]!==void 0)}function sN(i){let e={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...i};if(!wb(i,iN)&&wb(i,nN))if(i.visualDuration){const s=i.visualDuration,l=2*Math.PI/(s*1.2),r=l*l,u=2*js(.05,1,1-(i.bounce||0))*Math.sqrt(r);e={...e,mass:un.mass,stiffness:r,damping:u}}else{const s=Jk(i);e={...e,...s,mass:un.mass},e.isResolvedFromDuration=!0}return e}function Dd(i=un.visualDuration,e=un.bounce){const s=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:l,restDelta:r}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],f={done:!1,value:u},{stiffness:m,damping:g,mass:y,duration:x,velocity:v,isResolvedFromDuration:_}=sN({...s,velocity:-es(s.velocity||0)}),S=v||0,w=g/(2*Math.sqrt(m*y)),N=d-u,k=es(Math.sqrt(m/y)),E=Math.abs(N)<5;l||(l=E?un.restSpeed.granular:un.restSpeed.default),r||(r=E?un.restDelta.granular:un.restDelta.default);let M;if(w<1){const z=xm(k,w);M=O=>{const F=Math.exp(-w*k*O);return d-F*((S+w*k*N)/z*Math.sin(z*O)+N*Math.cos(z*O))}}else if(w===1)M=z=>d-Math.exp(-k*z)*(N+(S+k*N)*z);else{const z=k*Math.sqrt(w*w-1);M=O=>{const F=Math.exp(-w*k*O),P=Math.min(z*O,300);return d-F*((S+w*k*N)*Math.sinh(P)+z*N*Math.cosh(P))/z}}const A={calculatedDuration:_&&x||null,next:z=>{const O=M(z);if(_)f.done=z>=x;else{let F=z===0?S:0;w<1&&(F=z===0?Ws(S):X2(M,z,O));const P=Math.abs(F)<=l,V=Math.abs(d-O)<=r;f.done=P&&V}return f.value=f.done?d:O,f},toString:()=>{const z=Math.min(bp(A),zd),O=Y2(F=>A.next(z*F).value,z,30);return z+"ms "+O},toTransition:()=>{}};return A}Dd.applyToOptions=i=>{const e=Kk(i,100,Dd);return i.ease=e.ease,i.duration=Ws(e.duration),i.type="keyframes",i};function vm({keyframes:i,velocity:e=0,power:s=.8,timeConstant:l=325,bounceDamping:r=10,bounceStiffness:u=500,modifyTarget:d,min:f,max:m,restDelta:g=.5,restSpeed:y}){const x=i[0],v={done:!1,value:x},_=P=>f!==void 0&&P<f||m!==void 0&&P>m,S=P=>f===void 0?m:m===void 0||Math.abs(f-P)<Math.abs(m-P)?f:m;let w=s*e;const N=x+w,k=d===void 0?N:d(N);k!==N&&(w=k-x);const E=P=>-w*Math.exp(-P/l),M=P=>k+E(P),A=P=>{const V=E(P),re=M(P);v.done=Math.abs(V)<=g,v.value=v.done?k:re};let z,O;const F=P=>{_(v.value)&&(z=P,O=Dd({keyframes:[v.value,S(v.value)],velocity:X2(M,P,v.value),damping:r,stiffness:u,restDelta:g,restSpeed:y}))};return F(0),{calculatedDuration:null,next:P=>{let V=!1;return!O&&z===void 0&&(V=!0,A(P),F(P)),z!==void 0&&P>=z?O.next(P-z):(!V&&A(P),v)}}}function lN(i,e,s){const l=[],r=s||Qs.mix||H2,u=i.length-1;for(let d=0;d<u;d++){let f=r(i[d],i[d+1]);if(e){const m=Array.isArray(e)?e[d]||is:e;f=Oc(m,f)}l.push(f)}return l}function aN(i,e,{clamp:s=!0,ease:l,mixer:r}={}){const u=i.length;if(dp(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const d=i[0]===i[1];i[0]>i[u-1]&&(i=[...i].reverse(),e=[...e].reverse());const f=lN(e,l,r),m=f.length,g=y=>{if(d&&y<i[0])return e[0];let x=0;if(m>1)for(;x<i.length-2&&!(y<i[x+1]);x++);const v=_c(i[x],i[x+1],y);return f[x](v)};return s?y=>g(js(i[0],i[u-1],y)):g}function rN(i,e){const s=i[i.length-1];for(let l=1;l<=e;l++){const r=_c(0,e,l);i.push(ln(s,1,r))}}function oN(i){const e=[0];return rN(e,i.length-1),e}function cN(i,e){return i.map(s=>s*e)}function uN(i,e){return i.map(()=>e||D2).splice(0,i.length-1)}function cc({duration:i=300,keyframes:e,times:s,ease:l="easeInOut"}){const r=wk(l)?l.map(pb):pb(l),u={done:!1,value:e[0]},d=cN(s&&s.length===e.length?s:oN(e),i),f=aN(d,e,{ease:Array.isArray(r)?r:uN(e,r)});return{calculatedDuration:i,next:m=>(u.value=f(m),u.done=m>=i,u)}}const dN=i=>i!==null;function wp(i,{repeat:e,repeatType:s="loop"},l,r=1){const u=i.filter(dN),f=r<0||e&&s!=="loop"&&e%2===1?0:u.length-1;return!f||l===void 0?u[f]:l}const fN={decay:vm,inertia:vm,tween:cc,keyframes:cc,spring:Dd};function q2(i){typeof i.type=="string"&&(i.type=fN[i.type])}class _p{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const hN=i=>i/100;class Sp extends _p{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==ai.now()&&this.tick(ai.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;q2(e);const{type:s=cc,repeat:l=0,repeatDelay:r=0,repeatType:u,velocity:d=0}=e;let{keyframes:f}=e;const m=s||cc;m!==cc&&typeof f[0]!="number"&&(this.mixKeyframes=Oc(hN,H2(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=bp(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+r,this.totalDuration=this.resolvedDuration*(l+1)-r,this.generator=g}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:l,totalDuration:r,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return l.next(0);const{delay:g=0,keyframes:y,repeat:x,repeatType:v,repeatDelay:_,type:S,onUpdate:w,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const k=this.currentTime-g*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?k<0:k>r;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let M=this.currentTime,A=l;if(x){const P=Math.min(this.currentTime,r)/f;let V=Math.floor(P),re=P%1;!re&&P>=1&&(re=1),re===1&&V--,V=Math.min(V,x+1),V%2&&(v==="reverse"?(re=1-re,_&&(re-=_/f)):v==="mirror"&&(A=d)),M=js(0,1,re)*f}const z=E?{done:!1,value:y[0]}:A.next(M);u&&(z.value=u(z.value));let{done:O}=z;!E&&m!==null&&(O=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return F&&S!==vm&&(z.value=wp(y,this.options,N,this.speed)),w&&w(z.value),F&&this.finish(),z}then(e,s){return this.finished.then(e,s)}get duration(){return es(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+es(e)}get time(){return es(this.currentTime)}set time(e){e=Ws(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ai.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=es(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Qk,startTime:s}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const l=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=l):this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime||(this.startTime=s??l),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ai.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function mN(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const Ta=i=>i*180/Math.PI,bm=i=>{const e=Ta(Math.atan2(i[1],i[0]));return wm(e)},pN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:bm,rotateZ:bm,skewX:i=>Ta(Math.atan(i[1])),skewY:i=>Ta(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},wm=i=>(i=i%360,i<0&&(i+=360),i),_b=bm,Sb=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),jb=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),gN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sb,scaleY:jb,scale:i=>(Sb(i)+jb(i))/2,rotateX:i=>wm(Ta(Math.atan2(i[6],i[5]))),rotateY:i=>wm(Ta(Math.atan2(-i[2],i[0]))),rotateZ:_b,rotate:_b,skewX:i=>Ta(Math.atan(i[4])),skewY:i=>Ta(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function _m(i){return i.includes("scale")?1:0}function Sm(i,e){if(!i||i==="none")return _m(e);const s=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let l,r;if(s)l=gN,r=s;else{const f=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);l=pN,r=f}if(!r)return _m(e);const u=l[e],d=r[1].split(",").map(xN);return typeof u=="function"?u(d):d[u]}const yN=(i,e)=>{const{transform:s="none"}=getComputedStyle(i);return Sm(s,e)};function xN(i){return parseFloat(i.trim())}const Kr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zr=new Set(Kr),kb=i=>i===Qr||i===Ye,vN=new Set(["x","y","z"]),bN=Kr.filter(i=>!vN.has(i));function wN(i){const e=[];return bN.forEach(s=>{const l=i.getValue(s);l!==void 0&&(e.push([s,l.get()]),l.set(s.startsWith("scale")?1:0))}),e}const Ol={width:({x:i},{paddingLeft:e="0",paddingRight:s="0"})=>i.max-i.min-parseFloat(e)-parseFloat(s),height:({y:i},{paddingTop:e="0",paddingBottom:s="0"})=>i.max-i.min-parseFloat(e)-parseFloat(s),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>Sm(e,"x"),y:(i,{transform:e})=>Sm(e,"y")};Ol.translateX=Ol.x;Ol.translateY=Ol.y;const za=new Set;let jm=!1,km=!1,Nm=!1;function G2(){if(km){const i=Array.from(za).filter(l=>l.needsMeasurement),e=new Set(i.map(l=>l.element)),s=new Map;e.forEach(l=>{const r=wN(l);r.length&&(s.set(l,r),l.render())}),i.forEach(l=>l.measureInitialState()),e.forEach(l=>{l.render();const r=s.get(l);r&&r.forEach(([u,d])=>{l.getValue(u)?.set(d)})}),i.forEach(l=>l.measureEndState()),i.forEach(l=>{l.suspendedScrollY!==void 0&&window.scrollTo(0,l.suspendedScrollY)})}km=!1,jm=!1,za.forEach(i=>i.complete(Nm)),za.clear()}function W2(){za.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(km=!0)})}function _N(){Nm=!0,W2(),G2(),Nm=!1}class jp{constructor(e,s,l,r,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=l,this.motionValue=r,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(za.add(this),jm||(jm=!0,Wt.read(W2),Wt.resolveKeyframes(G2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:l,motionValue:r}=this;if(e[0]===null){const u=r?.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(l&&s){const f=l.readValue(s,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),r&&u===void 0&&r.set(e[0])}mN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),za.delete(this)}cancel(){this.state==="scheduled"&&(za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SN=i=>i.startsWith("--");function jN(i,e,s){SN(e)?i.style.setProperty(e,s):i.style[e]=s}const kN=fp(()=>window.ScrollTimeline!==void 0),NN={};function CN(i,e){const s=fp(i);return()=>NN[e]??s()}const Q2=CN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nc=([i,e,s,l])=>`cubic-bezier(${i}, ${e}, ${s}, ${l})`,Nb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nc([0,.65,.55,1]),circOut:nc([.55,0,1,.45]),backIn:nc([.31,.01,.66,-.59]),backOut:nc([.33,1.53,.69,.99])};function K2(i,e){if(i)return typeof i=="function"?Q2()?Y2(i,e):"ease-out":P2(i)?nc(i):Array.isArray(i)?i.map(s=>K2(s,e)||Nb.easeOut):Nb[i]}function TN(i,e,s,{delay:l=0,duration:r=300,repeat:u=0,repeatType:d="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[e]:s};m&&(y.offset=m);const x=K2(f,r);Array.isArray(x)&&(y.easing=x);const v={delay:l,duration:r,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),i.animate(y,v)}function Z2(i){return typeof i=="function"&&"applyToOptions"in i}function MN({type:i,...e}){return Z2(i)&&Q2()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class AN extends _p{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:s,name:l,keyframes:r,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=e,dp(typeof e.type!="string");const g=MN(e);this.animation=TN(s,l,r,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=wp(r,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):jN(s,l,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return es(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+es(e)}get time(){return es(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ws(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&kN()?(this.animation.timeline=e,is):s(this)}}const J2={anticipate:A2,backInOut:M2,circInOut:z2};function EN(i){return i in J2}function zN(i){typeof i.ease=="string"&&EN(i.ease)&&(i.ease=J2[i.ease])}const B0=10;class DN extends AN{constructor(e){zN(e),q2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:l,onComplete:r,element:u,...d}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const f=new Sp({...d,autoplay:!1}),m=Math.max(B0,ai.now()-this.startTime),g=js(0,B0,m-B0);s.setWithVelocity(f.sample(Math.max(0,m-g)).value,f.sample(m).value,g),f.stop()}}const Cb=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Hl.test(i)||i==="0")&&!i.startsWith("url("));function PN(i){const e=i[0];if(i.length===1)return!0;for(let s=0;s<i.length;s++)if(i[s]!==e)return!0}function RN(i,e,s,l){const r=i[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const u=i[i.length-1],d=Cb(r,e),f=Cb(u,e);return!d||!f?!1:PN(i)||(s==="spring"||Z2(s))&&l}function Cm(i){i.duration=0,i.type="keyframes"}const LN=new Set(["opacity","clipPath","filter","transform"]),ON=fp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function VN(i){const{motionValue:e,name:s,repeatDelay:l,repeatType:r,damping:u,type:d}=i;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return ON()&&s&&LN.has(s)&&(s!=="transform"||!g)&&!m&&!l&&r!=="mirror"&&u!==0&&d!=="inertia"}const BN=40;class IN extends _p{constructor({autoplay:e=!0,delay:s=0,type:l="keyframes",repeat:r=0,repeatDelay:u=0,repeatType:d="loop",keyframes:f,name:m,motionValue:g,element:y,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ai.now();const v={autoplay:e,delay:s,type:l,repeat:r,repeatDelay:u,repeatType:d,name:m,motionValue:g,element:y,...x},_=y?.KeyframeResolver||jp;this.keyframeResolver=new _(f,(S,w,N)=>this.onKeyframesResolved(S,w,v,!N),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,l,r){this.keyframeResolver=void 0;const{name:u,type:d,velocity:f,delay:m,isHandoff:g,onUpdate:y}=l;this.resolvedAt=ai.now(),RN(e,u,d,f)||((Qs.instantAnimations||!m)&&y?.(wp(e,l,s)),e[0]=e[e.length-1],Cm(l),l.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>BN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...l,keyframes:e},_=!g&&VN(v),S=v.motionValue?.owner?.current,w=_?new DN({...v,element:S}):new Sp(v);w.finished.then(()=>{this.notifyFinished()}).catch(is),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_N()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function ew(i,e,s,l=0,r=1){const u=Array.from(i).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),d=i.size,f=(d-1)*l;return typeof s=="function"?s(u,d):r===1?u*l:f-u*l}const FN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UN(i){const e=FN.exec(i);if(!e)return[,];const[,s,l,r]=e;return[`--${s??l}`,r]}function tw(i,e,s=1){const[l,r]=UN(i);if(!l)return;const u=window.getComputedStyle(e).getPropertyValue(l);if(u){const d=u.trim();return w2(d)?parseFloat(d):d}return gp(r)?tw(r,e,s+1):r}const $N={type:"spring",stiffness:500,damping:25,restSpeed:10},HN=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),YN={type:"keyframes",duration:.8},XN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qN=(i,{keyframes:e})=>e.length>2?YN:Zr.has(i)?i.startsWith("scale")?HN(e[1]):$N:XN,GN=i=>i!==null;function WN(i,{repeat:e,repeatType:s="loop"},l){const r=i.filter(GN),u=e&&s!=="loop"&&e%2===1?0:r.length-1;return r[u]}function kp(i,e){return i?.[e]??i?.default??i}function QN({when:i,delay:e,delayChildren:s,staggerChildren:l,staggerDirection:r,repeat:u,repeatType:d,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Np=(i,e,s,l={},r,u)=>d=>{const f=kp(l,i)||{},m=f.delay||l.delay||0;let{elapsed:g=0}=l;g=g-Ws(m);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:i,motionValue:e,element:u?void 0:r};QN(f)||Object.assign(y,qN(i,y)),y.duration&&(y.duration=Ws(y.duration)),y.repeatDelay&&(y.repeatDelay=Ws(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Cm(y),y.delay===0&&(x=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(x=!0,Cm(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,x&&!u&&e.get()!==void 0){const v=WN(y.keyframes,f);if(v!==void 0){Wt.update(()=>{y.onUpdate(v),y.onComplete()});return}}return f.isSync?new Sp(y):new IN(y)};function Tb(i){const e=[{},{}];return i?.values.forEach((s,l)=>{e[0][l]=s.get(),e[1][l]=s.getVelocity()}),e}function Cp(i,e,s,l){if(typeof e=="function"){const[r,u]=Tb(l);e=e(s!==void 0?s:i.custom,r,u)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[r,u]=Tb(l);e=e(s!==void 0?s:i.custom,r,u)}return e}function Rr(i,e,s){const l=i.getProps();return Cp(l,e,s!==void 0?s:l.custom,i)}const nw=new Set(["width","height","top","left","right","bottom",...Kr]),Mb=30,KN=i=>!isNaN(parseFloat(i));class ZN{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=l=>{const r=ai.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(l),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=ai.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new hp);const l=this.events[e].add(s);return e==="change"?()=>{l(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:l}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,l){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-l}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Mb)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Mb);return j2(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fr(i,e){return new ZN(i,e)}const Tm=i=>Array.isArray(i);function JN(i,e,s){i.hasValue(e)?i.getValue(e).set(s):i.addValue(e,Fr(s))}function eC(i){return Tm(i)?i[i.length-1]||0:i}function tC(i,e){const s=Rr(i,e);let{transitionEnd:l={},transition:r={},...u}=s||{};u={...u,...l};for(const d in u){const f=eC(u[d]);JN(i,d,f)}}const Gn=i=>!!(i&&i.getVelocity);function nC(i){return!!(Gn(i)&&i.add)}function Mm(i,e){const s=i.getValue("willChange");if(nC(s))return s.add(e);if(!s&&Qs.WillChange){const l=new Qs.WillChange("auto");i.addValue("willChange",l),l.add(e)}}function Tp(i){return i.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const iC="framerAppearId",iw="data-"+Tp(iC);function sw(i){return i.props[iw]}function sC({protectedKeys:i,needsAnimating:e},s){const l=i.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,l}function lw(i,e,{delay:s=0,transitionOverride:l,type:r}={}){let{transition:u=i.getDefaultTransition(),transitionEnd:d,...f}=e;l&&(u=l);const m=[],g=r&&i.animationState&&i.animationState.getState()[r];for(const y in f){const x=i.getValue(y,i.latestValues[y]??null),v=f[y];if(v===void 0||g&&sC(g,y))continue;const _={delay:s,...kp(u||{},y)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===S&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const k=sw(i);if(k){const E=window.MotionHandoffAnimation(k,y,Wt);E!==null&&(_.startTime=E,w=!0)}}Mm(i,y),x.start(Np(y,x,v,i.shouldReduceMotion&&nw.has(y)?{type:!1}:_,i,w));const N=x.animation;N&&m.push(N)}return d&&Promise.all(m).then(()=>{Wt.update(()=>{d&&tC(i,d)})}),m}function Am(i,e,s={}){const l=Rr(i,e,s.type==="exit"?i.presenceContext?.custom:void 0);let{transition:r=i.getDefaultTransition()||{}}=l||{};s.transitionOverride&&(r=s.transitionOverride);const u=l?()=>Promise.all(lw(i,l,s)):()=>Promise.resolve(),d=i.variantChildren&&i.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:x}=r;return lC(i,e,m,g,y,x,s)}:()=>Promise.resolve(),{when:f}=r;if(f){const[m,g]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>g())}else return Promise.all([u(),d(s.delay)])}function lC(i,e,s=0,l=0,r=0,u=1,d){const f=[];for(const m of i.variantChildren)m.notify("AnimationStart",e),f.push(Am(m,e,{...d,delay:s+(typeof l=="function"?0:l)+ew(i.variantChildren,m,l,r,u)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function aC(i,e,s={}){i.notify("AnimationStart",e);let l;if(Array.isArray(e)){const r=e.map(u=>Am(i,u,s));l=Promise.all(r)}else if(typeof e=="string")l=Am(i,e,s);else{const r=typeof e=="function"?Rr(i,e,s.custom):e;l=Promise.all(lw(i,r,s))}return l.then(()=>{i.notify("AnimationComplete",e)})}const rC={test:i=>i==="auto",parse:i=>i},aw=i=>e=>e.test(i),rw=[Qr,Ye,Ss,Dl,Pk,Dk,rC],Ab=i=>rw.find(aw(i));function oC(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||S2(i):!0}const cC=new Set(["brightness","contrast","saturate","opacity"]);function uC(i){const[e,s]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[l]=s.match(yp)||[];if(!l)return i;const r=s.replace(l,"");let u=cC.has(e)?1:0;return l!==s&&(u*=100),e+"("+u+r+")"}const dC=/\b([a-z-]*)\(.*?\)/gu,Em={...Hl,getAnimatableNone:i=>{const e=i.match(dC);return e?e.map(uC).join(" "):i}},Eb={...Qr,transform:Math.round},fC={rotate:Dl,rotateX:Dl,rotateY:Dl,rotateZ:Dl,scale:rd,scaleX:rd,scaleY:rd,scaleZ:rd,skew:Dl,skewX:Dl,skewY:Dl,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:Sc,originX:yb,originY:yb,originZ:Ye},Mp={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,inset:Ye,insetBlock:Ye,insetBlockStart:Ye,insetBlockEnd:Ye,insetInline:Ye,insetInlineStart:Ye,insetInlineEnd:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,paddingBlock:Ye,paddingBlockStart:Ye,paddingBlockEnd:Ye,paddingInline:Ye,paddingInlineStart:Ye,paddingInlineEnd:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,marginBlock:Ye,marginBlockStart:Ye,marginBlockEnd:Ye,marginInline:Ye,marginInlineStart:Ye,marginInlineEnd:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye,...fC,zIndex:Eb,fillOpacity:Sc,strokeOpacity:Sc,numOctaves:Eb},hC={...Mp,color:wn,backgroundColor:wn,outlineColor:wn,fill:wn,stroke:wn,borderColor:wn,borderTopColor:wn,borderRightColor:wn,borderBottomColor:wn,borderLeftColor:wn,filter:Em,WebkitFilter:Em},ow=i=>hC[i];function cw(i,e){let s=ow(i);return s!==Em&&(s=Hl),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const mC=new Set(["auto","none","0"]);function pC(i,e,s){let l=0,r;for(;l<i.length&&!r;){const u=i[l];typeof u=="string"&&!mC.has(u)&&jc(u).values.length&&(r=i[l]),l++}if(r&&s)for(const u of e)i[u]=cw(s,r)}class gC extends jp{constructor(e,s,l,r,u){super(e,s,l,r,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:l}=this;if(!s||!s.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let x=e[y];if(typeof x=="string"&&(x=x.trim(),gp(x))){const v=tw(x,s.current);v!==void 0&&(e[y]=v),y===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!nw.has(l)||e.length!==2)return;const[r,u]=e,d=Ab(r),f=Ab(u),m=gb(r),g=gb(u);if(m!==g&&Ol[l]){this.needsMeasurement=!0;return}if(d!==f)if(kb(d)&&kb(f))for(let y=0;y<e.length;y++){const x=e[y];typeof x=="string"&&(e[y]=parseFloat(x))}else Ol[l]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,l=[];for(let r=0;r<e.length;r++)(e[r]===null||oC(e[r]))&&l.push(r);l.length&&pC(e,l,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:l}=this;if(!e||!e.current)return;l==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ol[l](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&e.getValue(l,r).jump(r,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:l}=this;if(!e||!e.current)return;const r=e.getValue(s);r&&r.jump(this.measuredOrigin,!1);const u=l.length-1,d=l[u];l[u]=Ol[s](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function yC(i,e,s){if(i==null)return[];if(i instanceof EventTarget)return[i];if(typeof i=="string"){let l=document;const r=s?.[i]??l.querySelectorAll(i);return r?Array.from(r):[]}return Array.from(i).filter(l=>l!=null)}const uw=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function zm(i){return _2(i)&&"offsetHeight"in i}const{schedule:Ap}=R2(queueMicrotask,!1),us={x:!1,y:!1};function dw(){return us.x||us.y}function xC(i){return i==="x"||i==="y"?us[i]?null:(us[i]=!0,()=>{us[i]=!1}):us.x||us.y?null:(us.x=us.y=!0,()=>{us.x=us.y=!1})}function fw(i,e){const s=yC(i),l=new AbortController,r={passive:!0,...e,signal:l.signal};return[s,r,()=>l.abort()]}function zb(i){return!(i.pointerType==="touch"||dw())}function vC(i,e,s={}){const[l,r,u]=fw(i,s),d=f=>{if(!zb(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const y=x=>{zb(x)&&(g(x),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,r)};return l.forEach(f=>{f.addEventListener("pointerenter",d,r)}),u}const hw=(i,e)=>e?i===e?!0:hw(i,e.parentElement):!1,Ep=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,bC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mw(i){return bC.has(i.tagName)||i.isContentEditable===!0}const _d=new WeakSet;function Db(i){return e=>{e.key==="Enter"&&i(e)}}function I0(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wC=(i,e)=>{const s=i.currentTarget;if(!s)return;const l=Db(()=>{if(_d.has(s))return;I0(s,"down");const r=Db(()=>{I0(s,"up")}),u=()=>I0(s,"cancel");s.addEventListener("keyup",r,e),s.addEventListener("blur",u,e)});s.addEventListener("keydown",l,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",l),e)};function Pb(i){return Ep(i)&&!dw()}function _C(i,e,s={}){const[l,r,u]=fw(i,s),d=f=>{const m=f.currentTarget;if(!Pb(f))return;_d.add(m);const g=e(m,f),y=(_,S)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),_d.has(m)&&_d.delete(m),Pb(_)&&typeof g=="function"&&g(_,{success:S})},x=_=>{y(_,m===window||m===document||s.useGlobalTarget||hw(m,_.target))},v=_=>{y(_,!1)};window.addEventListener("pointerup",x,r),window.addEventListener("pointercancel",v,r)};return l.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",d,r),zm(f)&&(f.addEventListener("focus",g=>wC(g,r)),!mw(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function pw(i){return _2(i)&&"ownerSVGElement"in i}function SC(i){return pw(i)&&i.tagName==="svg"}const jC=[...rw,wn,Hl],kC=i=>jC.find(aw(i)),Rb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tr=()=>({x:Rb(),y:Rb()}),Lb=()=>({min:0,max:0}),kn=()=>({x:Lb(),y:Lb()}),Dm={current:null},gw={current:!1},NC=typeof window<"u";function CC(){if(gw.current=!0,!!NC)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dm.current=i.matches;i.addEventListener("change",e),e()}else Dm.current=!1}const TC=new WeakMap;function Wd(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function kc(i){return typeof i=="string"||Array.isArray(i)}const zp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dp=["initial",...zp];function Qd(i){return Wd(i.animate)||Dp.some(e=>kc(i[e]))}function yw(i){return!!(Qd(i)||i.variants)}function MC(i,e,s){for(const l in e){const r=e[l],u=s[l];if(Gn(r))i.addValue(l,r);else if(Gn(u))i.addValue(l,Fr(r,{owner:i}));else if(u!==r)if(i.hasValue(l)){const d=i.getValue(l);d.liveStyle===!0?d.jump(r):d.hasAnimated||d.set(r)}else{const d=i.getStaticValue(l);i.addValue(l,Fr(d!==void 0?d:r,{owner:i}))}}for(const l in s)e[l]===void 0&&i.removeValue(l);return e}const Ob=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Pd={};function xw(i){Pd=i}function AC(){return Pd}class EC{scrapeMotionValuesFromProps(e,s,l){return{}}constructor({parent:e,props:s,presenceContext:l,reducedMotionConfig:r,blockInitialAnimation:u,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ai.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Wt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=l,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=Qd(s),this.isVariantNode=yw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in x){const _=x[v];m[v]!==void 0&&Gn(_)&&_.set(m[v])}}mount(e){this.current=e,TC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gw.current||CC(),this.shouldReduceMotion=Dm.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$l(this.notifyUpdate),$l(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const l=Zr.has(e);l&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Wt.preRender(this.notifyUpdate),l&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{r(),u&&u(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pd){const s=Pd[e];if(!s)continue;const{isEnabled:l,Feature:r}=s;if(!this.features[e]&&r&&l(this.props)&&(this.features[e]=new r(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let l=0;l<Ob.length;l++){const r=Ob[l];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const u="on"+r,d=e[u];d&&(this.propEventSubscriptions[r]=this.on(r,d))}this.prevMotionValues=MC(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const l=this.values.get(e);s!==l&&(l&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let l=this.values.get(e);return l===void 0&&s!==void 0&&(l=Fr(s===null?void 0:s,{owner:this}),this.addValue(e,l)),l}readValue(e,s){let l=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return l!=null&&(typeof l=="string"&&(w2(l)||S2(l))?l=parseFloat(l):!kC(l)&&Hl.test(s)&&(l=cw(e,s)),this.setBaseTarget(e,Gn(l)?l.get():l)),Gn(l)?l.get():l}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let l;if(typeof s=="string"||typeof s=="object"){const u=Cp(this.props,s,this.presenceContext?.custom);u&&(l=u[e])}if(s&&l!==void 0)return l;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Gn(r)?r:this.initialValues[e]!==void 0&&l===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new hp),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Ap.render(this.render)}}class vw extends EC{constructor(){super(...arguments),this.KeyframeResolver=gC}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){const l=e.style;return l?l[s]:void 0}removeValueFromRenderState(e,{vars:s,style:l}){delete s[e],delete l[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gn(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Gl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bw({top:i,left:e,right:s,bottom:l}){return{x:{min:e,max:s},y:{min:i,max:l}}}function zC({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function DC(i,e){if(!e)return i;const s=e({x:i.left,y:i.top}),l=e({x:i.right,y:i.bottom});return{top:s.y,left:s.x,bottom:l.y,right:l.x}}function F0(i){return i===void 0||i===1}function Pm({scale:i,scaleX:e,scaleY:s}){return!F0(i)||!F0(e)||!F0(s)}function ja(i){return Pm(i)||ww(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function ww(i){return Vb(i.x)||Vb(i.y)}function Vb(i){return i&&i!=="0%"}function Rd(i,e,s){const l=i-s,r=e*l;return s+r}function Bb(i,e,s,l,r){return r!==void 0&&(i=Rd(i,r,l)),Rd(i,s,l)+e}function Rm(i,e=0,s=1,l,r){i.min=Bb(i.min,e,s,l,r),i.max=Bb(i.max,e,s,l,r)}function _w(i,{x:e,y:s}){Rm(i.x,e.translate,e.scale,e.originPoint),Rm(i.y,s.translate,s.scale,s.originPoint)}const Ib=.999999999999,Fb=1.0000000000001;function PC(i,e,s,l=!1){const r=s.length;if(!r)return;e.x=e.y=1;let u,d;for(let f=0;f<r;f++){u=s[f],d=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ar(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,_w(i,d)),l&&ja(u.latestValues)&&Ar(i,u.latestValues))}e.x<Fb&&e.x>Ib&&(e.x=1),e.y<Fb&&e.y>Ib&&(e.y=1)}function Mr(i,e){i.min=i.min+e,i.max=i.max+e}function Ub(i,e,s,l,r=.5){const u=ln(i.min,i.max,r);Rm(i,e,s,u,l)}function Ar(i,e){Ub(i.x,e.x,e.scaleX,e.scale,e.originX),Ub(i.y,e.y,e.scaleY,e.scale,e.originY)}function Sw(i,e){return bw(DC(i.getBoundingClientRect(),e))}function RC(i,e,s){const l=Sw(i,s),{scroll:r}=e;return r&&(Mr(l.x,r.offset.x),Mr(l.y,r.offset.y)),l}const LC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OC=Kr.length;function VC(i,e,s){let l="",r=!0;for(let u=0;u<OC;u++){const d=Kr[u],f=i[d];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(d.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||s){const g=uw(f,Mp[d]);if(!m){r=!1;const y=LC[d]||d;l+=`${y}(${g}) `}s&&(e[d]=g)}}return l=l.trim(),s?l=s(e,r?"":l):r&&(l="none"),l}function Pp(i,e,s){const{style:l,vars:r,transformOrigin:u}=i;let d=!1,f=!1;for(const m in e){const g=e[m];if(Zr.has(m)){d=!0;continue}else if(O2(m)){r[m]=g;continue}else{const y=uw(g,Mp[m]);m.startsWith("origin")?(f=!0,u[m]=y):l[m]=y}}if(e.transform||(d||s?l.transform=VC(e,i.transform,s):l.transform&&(l.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=u;l.transformOrigin=`${m} ${g} ${y}`}}function jw(i,{style:e,vars:s},l,r){const u=i.style;let d;for(d in e)u[d]=e[d];r?.applyProjectionStyles(u,l);for(d in s)u.setProperty(d,s[d])}function $b(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Jo={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Ye.test(i))i=parseFloat(i);else return i;const s=$b(i,e.target.x),l=$b(i,e.target.y);return`${s}% ${l}%`}},BC={correct:(i,{treeScale:e,projectionDelta:s})=>{const l=i,r=Hl.parse(i);if(r.length>5)return l;const u=Hl.createTransformer(i),d=typeof r[0]!="number"?1:0,f=s.x.scale*e.x,m=s.y.scale*e.y;r[0+d]/=f,r[1+d]/=m;const g=ln(f,m,.5);return typeof r[2+d]=="number"&&(r[2+d]/=g),typeof r[3+d]=="number"&&(r[3+d]/=g),u(r)}},Lm={borderRadius:{...Jo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jo,borderTopRightRadius:Jo,borderBottomLeftRadius:Jo,borderBottomRightRadius:Jo,boxShadow:BC};function kw(i,{layout:e,layoutId:s}){return Zr.has(i)||i.startsWith("origin")||(e||s!==void 0)&&(!!Lm[i]||i==="opacity")}function Rp(i,e,s){const l=i.style,r=e?.style,u={};if(!l)return u;for(const d in l)(Gn(l[d])||r&&Gn(r[d])||kw(d,i)||s?.getValue(d)?.liveStyle!==void 0)&&(u[d]=l[d]);return u}function IC(i){return window.getComputedStyle(i)}class FC extends vw{constructor(){super(...arguments),this.type="html",this.renderInstance=jw}readValueFromInstance(e,s){if(Zr.has(s))return this.projection?.isProjecting?_m(s):yN(e,s);{const l=IC(e),r=(O2(s)?l.getPropertyValue(s):l[s])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Sw(e,s)}build(e,s,l){Pp(e,s,l.transformTemplate)}scrapeMotionValuesFromProps(e,s,l){return Rp(e,s,l)}}const UC={offset:"stroke-dashoffset",array:"stroke-dasharray"},$C={offset:"strokeDashoffset",array:"strokeDasharray"};function HC(i,e,s=1,l=0,r=!0){i.pathLength=1;const u=r?UC:$C;i[u.offset]=`${-l}`,i[u.array]=`${e} ${s}`}const YC=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Nw(i,{attrX:e,attrY:s,attrScale:l,pathLength:r,pathSpacing:u=1,pathOffset:d=0,...f},m,g,y){if(Pp(i,f,g),m){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:x,style:v}=i;x.transform&&(v.transform=x.transform,delete x.transform),(v.transform||x.transformOrigin)&&(v.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),v.transform&&(v.transformBox=y?.transformBox??"fill-box",delete x.transformBox);for(const _ of YC)x[_]!==void 0&&(v[_]=x[_],delete x[_]);e!==void 0&&(x.x=e),s!==void 0&&(x.y=s),l!==void 0&&(x.scale=l),r!==void 0&&HC(x,r,u,d,!1)}const Cw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Tw=i=>typeof i=="string"&&i.toLowerCase()==="svg";function XC(i,e,s,l){jw(i,e,void 0,l);for(const r in e.attrs)i.setAttribute(Cw.has(r)?r:Tp(r),e.attrs[r])}function Mw(i,e,s){const l=Rp(i,e,s);for(const r in i)if(Gn(i[r])||Gn(e[r])){const u=Kr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;l[u]=i[r]}return l}class qC extends vw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kn}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Zr.has(s)){const l=ow(s);return l&&l.default||0}return s=Cw.has(s)?s:Tp(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,l){return Mw(e,s,l)}build(e,s,l){Nw(e,s,this.isSVGTag,l.transformTemplate,l.style)}renderInstance(e,s,l,r){XC(e,s,l,r)}mount(e){this.isSVGTag=Tw(e.tagName),super.mount(e)}}const GC=Dp.length;function Aw(i){if(!i)return;if(!i.isControllingVariants){const s=i.parent?Aw(i.parent)||{}:{};return i.props.initial!==void 0&&(s.initial=i.props.initial),s}const e={};for(let s=0;s<GC;s++){const l=Dp[s],r=i.props[l];(kc(r)||r===!1)&&(e[l]=r)}return e}function Ew(i,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==i.length)return!1;for(let l=0;l<s;l++)if(e[l]!==i[l])return!1;return!0}const WC=[...zp].reverse(),QC=zp.length;function KC(i){return e=>Promise.all(e.map(({animation:s,options:l})=>aC(i,s,l)))}function ZC(i){let e=KC(i),s=Hb(),l=!0;const r=m=>(g,y)=>{const x=Rr(i,y,m==="exit"?i.presenceContext?.custom:void 0);if(x){const{transition:v,transitionEnd:_,...S}=x;g={...g,...S,..._}}return g};function u(m){e=m(i)}function d(m){const{props:g}=i,y=Aw(i.parent)||{},x=[],v=new Set;let _={},S=1/0;for(let N=0;N<QC;N++){const k=WC[N],E=s[k],M=g[k]!==void 0?g[k]:y[k],A=kc(M),z=k===m?E.isActive:null;z===!1&&(S=N);let O=M===y[k]&&M!==g[k]&&A;if(O&&l&&i.manuallyAnimateOnMount&&(O=!1),E.protectedKeys={..._},!E.isActive&&z===null||!M&&!E.prevProp||Wd(M)||typeof M=="boolean")continue;const F=JC(E.prevProp,M);let P=F||k===m&&E.isActive&&!O&&A||N>S&&A,V=!1;const re=Array.isArray(M)?M:[M];let oe=re.reduce(r(k),{});z===!1&&(oe={});const{prevResolvedValues:se={}}=E,Se={...se,...oe},Ee=le=>{P=!0,v.has(le)&&(V=!0,v.delete(le)),E.needsAnimating[le]=!0;const X=i.getValue(le);X&&(X.liveStyle=!1)};for(const le in Se){const X=oe[le],L=se[le];if(_.hasOwnProperty(le))continue;let q=!1;Tm(X)&&Tm(L)?q=!Ew(X,L):q=X!==L,q?X!=null?Ee(le):v.add(le):X!==void 0&&v.has(le)?Ee(le):E.protectedKeys[le]=!0}E.prevProp=M,E.prevResolvedValues=oe,E.isActive&&(_={..._,...oe}),l&&i.blockInitialAnimation&&(P=!1);const Me=O&&F;P&&(!Me||V)&&x.push(...re.map(le=>{const X={type:k};if(typeof le=="string"&&l&&!Me&&i.manuallyAnimateOnMount&&i.parent){const{parent:L}=i,q=Rr(L,le);if(L.enteringChildren&&q){const{delayChildren:T}=q.transition||{};X.delay=ew(L.enteringChildren,i,T)}}return{animation:le,options:X}}))}if(v.size){const N={};if(typeof g.initial!="boolean"){const k=Rr(i,Array.isArray(g.initial)?g.initial[0]:g.initial);k&&k.transition&&(N.transition=k.transition)}v.forEach(k=>{const E=i.getBaseTarget(k),M=i.getValue(k);M&&(M.liveStyle=!0),N[k]=E??null}),x.push({animation:N})}let w=!!x.length;return l&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(w=!1),l=!1,w?e(x):Promise.resolve()}function f(m,g){if(s[m].isActive===g)return Promise.resolve();i.variantChildren?.forEach(x=>x.animationState?.setActive(m,g)),s[m].isActive=g;const y=d(m);for(const x in s)s[x].protectedKeys={};return y}return{animateChanges:d,setActive:f,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Hb()}}}function JC(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!Ew(e,i):!1}function wa(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hb(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}function Yb(i,e){i.min=e.min,i.max=e.max}function cs(i,e){Yb(i.x,e.x),Yb(i.y,e.y)}function Xb(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}const zw=1e-4,e3=1-zw,t3=1+zw,Dw=.01,n3=0-Dw,i3=0+Dw;function ri(i){return i.max-i.min}function s3(i,e,s){return Math.abs(i-e)<=s}function qb(i,e,s,l=.5){i.origin=l,i.originPoint=ln(e.min,e.max,i.origin),i.scale=ri(s)/ri(e),i.translate=ln(s.min,s.max,i.origin)-i.originPoint,(i.scale>=e3&&i.scale<=t3||isNaN(i.scale))&&(i.scale=1),(i.translate>=n3&&i.translate<=i3||isNaN(i.translate))&&(i.translate=0)}function uc(i,e,s,l){qb(i.x,e.x,s.x,l?l.originX:void 0),qb(i.y,e.y,s.y,l?l.originY:void 0)}function Gb(i,e,s){i.min=s.min+e.min,i.max=i.min+ri(e)}function l3(i,e,s){Gb(i.x,e.x,s.x),Gb(i.y,e.y,s.y)}function Wb(i,e,s){i.min=e.min-s.min,i.max=i.min+ri(e)}function Ld(i,e,s){Wb(i.x,e.x,s.x),Wb(i.y,e.y,s.y)}function Qb(i,e,s,l,r){return i-=e,i=Rd(i,1/s,l),r!==void 0&&(i=Rd(i,1/r,l)),i}function a3(i,e=0,s=1,l=.5,r,u=i,d=i){if(Ss.test(e)&&(e=parseFloat(e),e=ln(d.min,d.max,e/100)-d.min),typeof e!="number")return;let f=ln(u.min,u.max,l);i===u&&(f-=e),i.min=Qb(i.min,e,s,f,r),i.max=Qb(i.max,e,s,f,r)}function Kb(i,e,[s,l,r],u,d){a3(i,e[s],e[l],e[r],e.scale,u,d)}const r3=["x","scaleX","originX"],o3=["y","scaleY","originY"];function Zb(i,e,s,l){Kb(i.x,e,r3,s?s.x:void 0,l?l.x:void 0),Kb(i.y,e,o3,s?s.y:void 0,l?l.y:void 0)}function Jb(i){return i.translate===0&&i.scale===1}function Pw(i){return Jb(i.x)&&Jb(i.y)}function e1(i,e){return i.min===e.min&&i.max===e.max}function c3(i,e){return e1(i.x,e.x)&&e1(i.y,e.y)}function t1(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function Rw(i,e){return t1(i.x,e.x)&&t1(i.y,e.y)}function n1(i){return ri(i.x)/ri(i.y)}function i1(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}function Zi(i){return[i("x"),i("y")]}function u3(i,e,s){let l="";const r=i.x.translate/e.x,u=i.y.translate/e.y,d=s?.z||0;if((r||u||d)&&(l=`translate3d(${r}px, ${u}px, ${d}px) `),(e.x!==1||e.y!==1)&&(l+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:x,rotateY:v,skewX:_,skewY:S}=s;g&&(l=`perspective(${g}px) ${l}`),y&&(l+=`rotate(${y}deg) `),x&&(l+=`rotateX(${x}deg) `),v&&(l+=`rotateY(${v}deg) `),_&&(l+=`skewX(${_}deg) `),S&&(l+=`skewY(${S}deg) `)}const f=i.x.scale*e.x,m=i.y.scale*e.y;return(f!==1||m!==1)&&(l+=`scale(${f}, ${m})`),l||"none"}const Lw=["TopLeft","TopRight","BottomLeft","BottomRight"],d3=Lw.length,s1=i=>typeof i=="string"?parseFloat(i):i,l1=i=>typeof i=="number"||Ye.test(i);function f3(i,e,s,l,r,u){r?(i.opacity=ln(0,s.opacity??1,h3(l)),i.opacityExit=ln(e.opacity??1,0,m3(l))):u&&(i.opacity=ln(e.opacity??1,s.opacity??1,l));for(let d=0;d<d3;d++){const f=`border${Lw[d]}Radius`;let m=a1(e,f),g=a1(s,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||l1(m)===l1(g)?(i[f]=Math.max(ln(s1(m),s1(g),l),0),(Ss.test(g)||Ss.test(m))&&(i[f]+="%")):i[f]=g}(e.rotate||s.rotate)&&(i.rotate=ln(e.rotate||0,s.rotate||0,l))}function a1(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const h3=Ow(0,.5,E2),m3=Ow(.5,.95,is);function Ow(i,e,s){return l=>l<i?0:l>e?1:s(_c(i,e,l))}function p3(i,e,s){const l=Gn(i)?i:Fr(i);return l.start(Np("",l,e,s)),l.animation}function Nc(i,e,s,l={passive:!0}){return i.addEventListener(e,s,l),()=>i.removeEventListener(e,s)}const g3=(i,e)=>i.depth-e.depth;class y3{constructor(){this.children=[],this.isDirty=!1}add(e){cp(this.children,e),this.isDirty=!0}remove(e){up(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(g3),this.isDirty=!1,this.children.forEach(e)}}function x3(i,e){const s=ai.now(),l=({timestamp:r})=>{const u=r-s;u>=e&&($l(l),i(u-e))};return Wt.setup(l,!0),()=>$l(l)}function Sd(i){return Gn(i)?i.get():i}class v3{constructor(){this.members=[]}add(e){cp(this.members,e),e.scheduleRender()}remove(e){if(up(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(r=>e===r);if(s===0)return!1;let l;for(let r=s;r>=0;r--){const u=this.members[r];if(u.isPresent!==!1){l=u;break}}return l?(this.promote(l),!0):!1}promote(e,s){const l=this.lead;if(e!==l&&(this.prevLead=l,this.lead=e,e.show(),l)){l.instance&&l.scheduleRender(),e.scheduleRender(),e.resumeFrom=l,s&&(e.resumeFrom.preserveOpacity=!0),l.snapshot&&(e.snapshot=l.snapshot,e.snapshot.latestValues=l.animationValues||l.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&l.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:l}=e;s.onExitComplete&&s.onExitComplete(),l&&l.options.onExitComplete&&l.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},U0=["","X","Y","Z"],b3=1e3;let w3=0;function $0(i,e,s,l){const{latestValues:r}=e;r[i]&&(s[i]=r[i],e.setStaticValue(i,0),l&&(l[i]=0))}function Vw(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const s=sw(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(s,"transform",Wt,!(r||u))}const{parent:l}=i;l&&!l.hasCheckedOptimisedAppear&&Vw(l)}function Bw({attachResizeListener:i,defaultParent:e,measureScroll:s,checkIsScrollRoot:l,resetTransform:r}){return class{constructor(d={},f=e?.()){this.id=w3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j3),this.nodes.forEach(T3),this.nodes.forEach(M3),this.nodes.forEach(k3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new y3)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new hp),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const m=this.eventHandlers.get(d);m&&m.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=pw(d)&&!SC(d),this.instance=d;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),i){let y,x=0;const v=()=>this.root.updateBlockedByResize=!1;Wt.read(()=>{x=window.innerWidth}),i(d,()=>{const _=window.innerWidth;_!==x&&(x=_,this.root.updateBlockedByResize=!0,y&&y(),y=x3(v,250),jd.hasAnimatedSinceResize&&(jd.hasAnimatedSinceResize=!1,this.nodes.forEach(c1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||P3,{onLayoutAnimationStart:w,onLayoutAnimationComplete:N}=g.getProps(),k=!this.targetLayout||!Rw(this.targetLayout,_),E=!x&&v;if(this.options.layoutRoot||this.resumeFrom||E||x&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...kp(S,"layout"),onPlay:w,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(y,E)}else x||c1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$l(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A3),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(C3),this.nodes.forEach(_3),this.nodes.forEach(S3)):this.nodes.forEach(o1),this.clearAllSnapshots();const f=ai.now();Bn.delta=js(0,1e3/60,f-Bn.timestamp),Bn.timestamp=f,Bn.isProcessing=!0,P0.update.process(Bn),P0.preRender.process(Bn),P0.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ap.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N3),this.sharedNodes.forEach(E3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ri(this.snapshot.measuredBox.x)&&!ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const m=l(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!r)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Pw(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(f||ja(this.latestValues)||y)&&(r(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return d&&(m=this.removeTransform(m)),R3(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return kn();const f=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(L3))){const{scroll:g}=this.root;g&&(Mr(f.x,g.offset.x),Mr(f.y,g.offset.y))}return f}removeElementScroll(d){const f=kn();if(cs(f,d),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:x}=g;g!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&cs(f,d),Mr(f.x,y.offset.x),Mr(f.y,y.offset.y))}return f}applyTransform(d,f=!1){const m=kn();cs(m,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ar(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ja(y.latestValues)&&Ar(m,y.latestValues)}return ja(this.latestValues)&&Ar(m,this.latestValues),m}removeTransform(d){const f=kn();cs(f,d);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ja(g.latestValues))continue;Pm(g.latestValues)&&g.updateSnapshot();const y=kn(),x=g.measurePageBox();cs(y,x),Zb(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ja(this.latestValues)&&Zb(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!this.layout||!(y||x))return;this.resolvedRelativeTargetAt=Bn.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kn(),this.targetWithTransforms=kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cs(this.target,this.layout.layoutBox),_w(this.target,this.targetDelta)):cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Pm(this.parent.latestValues)||ww(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,f,m){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kn(),this.relativeTargetOrigin=kn(),Ld(this.relativeTargetOrigin,f,m),cs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;cs(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;PC(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=kn());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xb(this.prevProjectionDelta.x,this.projectionDelta.x),Xb(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!i1(this.projectionDelta.x,this.prevProjectionDelta.x)||!i1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tr(),this.projectionDelta=Tr(),this.projectionDeltaWithTransform=Tr()}setAnimationOrigin(d,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},x=Tr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=kn(),_=m?m.source:void 0,S=this.layout?this.layout.source:void 0,w=_!==S,N=this.getStack(),k=!N||N.members.length<=1,E=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(D3));this.animationProgress=0;let M;this.mixTargetDelta=A=>{const z=A/1e3;u1(x.x,d.x,z),u1(x.y,d.y,z),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ld(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z3(this.relativeTarget,this.relativeTargetOrigin,v,z),M&&c3(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=kn()),cs(M,this.relativeTarget)),w&&(this.animationValues=y,f3(y,g,this.latestValues,z,E,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($l(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{jd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fr(0)),this.currentAnimation=p3(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=d;if(!(!f||!m||!g)){if(this!==d&&this.layout&&g&&Iw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||kn();const x=ri(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+x;const v=ri(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+v}cs(f,m),Ar(f,y),uc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new v3),this.sharedNodes.get(d).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&$0("z",d,g,this.animationValues);for(let y=0;y<U0.length;y++)$0(`rotate${U0[y]}`,d,g,this.animationValues),$0(`skew${U0[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Sd(f?.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Sd(f?.pointerEvents)||""),this.hasProjected&&!ja(this.latestValues)&&(d.transform=m?m({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=u3(this.projectionDeltaWithTransform,this.treeScale,y);m&&(x=m(y,x)),d.transform=x;const{x:v,y:_}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in Lm){if(y[S]===void 0)continue;const{correct:w,applyTo:N,isCSSVariable:k}=Lm[S],E=x==="none"?y[S]:w(y[S],g);if(N){const M=N.length;for(let A=0;A<M;A++)d[N[A]]=E}else k?this.options.visualElement.renderState.vars[S]=E:d[S]=E}this.options.layoutId&&(d.pointerEvents=g===this?Sd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(r1),this.root.sharedNodes.clear()}}}function _3(i){i.updateLayout()}function S3(i){const e=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:l}=i.layout,{animationType:r}=i.options,u=e.source!==i.layout.source;r==="size"?Zi(y=>{const x=u?e.measuredBox[y]:e.layoutBox[y],v=ri(x);x.min=s[y].min,x.max=x.min+v}):Iw(r,e.layoutBox,s)&&Zi(y=>{const x=u?e.measuredBox[y]:e.layoutBox[y],v=ri(s[y]);x.max=x.min+v,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[y].max=i.relativeTarget[y].min+v)});const d=Tr();uc(d,s,e.layoutBox);const f=Tr();u?uc(f,i.applyTransform(l,!0),e.measuredBox):uc(f,s,e.layoutBox);const m=!Pw(d);let g=!1;if(!i.resumeFrom){const y=i.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:v}=y;if(x&&v){const _=kn();Ld(_,e.layoutBox,x.layoutBox);const S=kn();Ld(S,s,v.layoutBox),Rw(_,S)||(g=!0),y.options.layoutRoot&&(i.relativeTarget=S,i.relativeTargetOrigin=_,i.relativeParent=y)}}}i.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(i.isLead()){const{onExitComplete:s}=i.options;s&&s()}i.options.transition=void 0}function j3(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function k3(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function N3(i){i.clearSnapshot()}function r1(i){i.clearMeasurements()}function o1(i){i.isLayoutDirty=!1}function C3(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function c1(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function T3(i){i.resolveTargetDelta()}function M3(i){i.calcProjection()}function A3(i){i.resetSkewAndRotation()}function E3(i){i.removeLeadSnapshot()}function u1(i,e,s){i.translate=ln(e.translate,0,s),i.scale=ln(e.scale,1,s),i.origin=e.origin,i.originPoint=e.originPoint}function d1(i,e,s,l){i.min=ln(e.min,s.min,l),i.max=ln(e.max,s.max,l)}function z3(i,e,s,l){d1(i.x,e.x,s.x,l),d1(i.y,e.y,s.y,l)}function D3(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const P3={duration:.45,ease:[.4,0,.1,1]},f1=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),h1=f1("applewebkit/")&&!f1("chrome/")?Math.round:is;function m1(i){i.min=h1(i.min),i.max=h1(i.max)}function R3(i){m1(i.x),m1(i.y)}function Iw(i,e,s){return i==="position"||i==="preserve-aspect"&&!s3(n1(e),n1(s),.2)}function L3(i){return i!==i.root&&i.scroll?.wasRoot}const O3=Bw({attachResizeListener:(i,e)=>Nc(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),H0={current:void 0},Fw=Bw({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!H0.current){const i=new O3({});i.mount(window),i.setOptions({layoutScroll:!0}),H0.current=i}return H0.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Lp=j.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function p1(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function V3(...i){return e=>{let s=!1;const l=i.map(r=>{const u=p1(r,e);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let r=0;r<l.length;r++){const u=l[r];typeof u=="function"?u():p1(i[r],null)}}}}function B3(...i){return j.useCallback(V3(...i),i)}class I3 extends j.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const l=s.offsetParent,r=zm(l)&&l.offsetWidth||0,u=zm(l)&&l.offsetHeight||0,d=this.props.sizeRef.current;d.height=s.offsetHeight||0,d.width=s.offsetWidth||0,d.top=s.offsetTop,d.left=s.offsetLeft,d.right=r-d.width-d.left,d.bottom=u-d.height-d.top}return null}componentDidUpdate(){}render(){return this.props.children}}function F3({children:i,isPresent:e,anchorX:s,anchorY:l,root:r}){const u=j.useId(),d=j.useRef(null),f=j.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=j.useContext(Lp),g=i.props?.ref??i?.ref,y=B3(d,g);return j.useInsertionEffect(()=>{const{width:x,height:v,top:_,left:S,right:w,bottom:N}=f.current;if(e||!d.current||!x||!v)return;const k=s==="left"?`left: ${S}`:`right: ${w}`,E=l==="bottom"?`bottom: ${N}`:`top: ${_}`;d.current.dataset.motionPopId=u;const M=document.createElement("style");m&&(M.nonce=m);const A=r??document.head;return A.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${v}px !important;
            ${k}px !important;
            ${E}px !important;
          }
        `),()=>{A.contains(M)&&A.removeChild(M)}},[e]),c.jsx(I3,{isPresent:e,childRef:d,sizeRef:f,children:j.cloneElement(i,{ref:y})})}const U3=({children:i,initial:e,isPresent:s,onExitComplete:l,custom:r,presenceAffectsLayout:u,mode:d,anchorX:f,anchorY:m,root:g})=>{const y=op($3),x=j.useId();let v=!0,_=j.useMemo(()=>(v=!1,{id:x,initial:e,isPresent:s,custom:r,onExitComplete:S=>{y.set(S,!0);for(const w of y.values())if(!w)return;l&&l()},register:S=>(y.set(S,!1),()=>y.delete(S))}),[s,y,l]);return u&&v&&(_={..._}),j.useMemo(()=>{y.forEach((S,w)=>y.set(w,!1))},[s]),j.useEffect(()=>{!s&&!y.size&&l&&l()},[s]),d==="popLayout"&&(i=c.jsx(F3,{isPresent:s,anchorX:f,anchorY:m,root:g,children:i})),c.jsx(Gd.Provider,{value:_,children:i})};function $3(){return new Map}function Uw(i=!0){const e=j.useContext(Gd);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:l,register:r}=e,u=j.useId();j.useEffect(()=>{if(i)return r(u)},[i]);const d=j.useCallback(()=>i&&l&&l(u),[u,l,i]);return!s&&l?[!1,d]:[!0]}const od=i=>i.key||"";function g1(i){const e=[];return j.Children.forEach(i,s=>{j.isValidElement(s)&&e.push(s)}),e}const Y0=({children:i,custom:e,initial:s=!0,onExitComplete:l,presenceAffectsLayout:r=!0,mode:u="sync",propagate:d=!1,anchorX:f="left",anchorY:m="top",root:g})=>{const[y,x]=Uw(d),v=j.useMemo(()=>g1(i),[i]),_=d&&!y?[]:v.map(od),S=j.useRef(!0),w=j.useRef(v),N=op(()=>new Map),k=j.useRef(new Set),[E,M]=j.useState(v),[A,z]=j.useState(v);b2(()=>{S.current=!1,w.current=v;for(let P=0;P<A.length;P++){const V=od(A[P]);_.includes(V)?(N.delete(V),k.current.delete(V)):N.get(V)!==!0&&N.set(V,!1)}},[A,_.length,_.join("-")]);const O=[];if(v!==E){let P=[...v];for(let V=0;V<A.length;V++){const re=A[V],oe=od(re);_.includes(oe)||(P.splice(V,0,re),O.push(re))}return u==="wait"&&O.length&&(P=O),z(g1(P)),M(v),null}const{forceRender:F}=j.useContext(rp);return c.jsx(c.Fragment,{children:A.map(P=>{const V=od(P),re=d&&!y?!1:v===A||_.includes(V),oe=()=>{if(k.current.has(V))return;if(k.current.add(V),N.has(V))N.set(V,!0);else return;let se=!0;N.forEach(Se=>{Se||(se=!1)}),se&&(F?.(),z(w.current),d&&x?.(),l&&l())};return c.jsx(U3,{isPresent:re,initial:!S.current||s?void 0:!1,custom:e,presenceAffectsLayout:r,mode:u,root:g,onExitComplete:re?void 0:oe,anchorX:f,anchorY:m,children:P},V)})})},$w=j.createContext({strict:!1}),y1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let x1=!1;function H3(){if(x1)return;const i={};for(const e in y1)i[e]={isEnabled:s=>y1[e].some(l=>!!s[l])};xw(i),x1=!0}function Hw(){return H3(),AC()}function Y3(i){const e=Hw();for(const s in i)e[s]={...e[s],...i[s]};xw(e)}const X3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Od(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||X3.has(i)}let Yw=i=>!Od(i);function q3(i){typeof i=="function"&&(Yw=e=>e.startsWith("on")?!Od(e):i(e))}try{q3(require("@emotion/is-prop-valid").default)}catch{}function G3(i,e,s){const l={};for(const r in i)r==="values"&&typeof i.values=="object"||(Yw(r)||s===!0&&Od(r)||!e&&!Od(r)||i.draggable&&r.startsWith("onDrag"))&&(l[r]=i[r]);return l}const Kd=j.createContext({});function W3(i,e){if(Qd(i)){const{initial:s,animate:l}=i;return{initial:s===!1||kc(s)?s:void 0,animate:kc(l)?l:void 0}}return i.inherit!==!1?e:{}}function Q3(i){const{initial:e,animate:s}=W3(i,j.useContext(Kd));return j.useMemo(()=>({initial:e,animate:s}),[v1(e),v1(s)])}function v1(i){return Array.isArray(i)?i.join(" "):i}const Op=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xw(i,e,s){for(const l in e)!Gn(e[l])&&!kw(l,s)&&(i[l]=e[l])}function K3({transformTemplate:i},e){return j.useMemo(()=>{const s=Op();return Pp(s,e,i),Object.assign({},s.vars,s.style)},[e])}function Z3(i,e){const s=i.style||{},l={};return Xw(l,s,i),Object.assign(l,K3(i,e)),l}function J3(i,e){const s={},l=Z3(i,e);return i.drag&&i.dragListener!==!1&&(s.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(s.tabIndex=0),s.style=l,s}const qw=()=>({...Op(),attrs:{}});function eT(i,e,s,l){const r=j.useMemo(()=>{const u=qw();return Nw(u,e,Tw(l),i.transformTemplate,i.style),{...u.attrs,style:{...u.style}}},[e]);if(i.style){const u={};Xw(u,i.style,i),r.style={...u,...r.style}}return r}const tT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vp(i){return typeof i!="string"||i.includes("-")?!1:!!(tT.indexOf(i)>-1||/[A-Z]/u.test(i))}function nT(i,e,s,{latestValues:l},r,u=!1,d){const m=(d??Vp(i)?eT:J3)(e,l,r,i),g=G3(e,typeof i=="string",u),y=i!==j.Fragment?{...g,...m,ref:s}:{},{children:x}=e,v=j.useMemo(()=>Gn(x)?x.get():x,[x]);return j.createElement(i,{...y,children:v})}function iT({scrapeMotionValuesFromProps:i,createRenderState:e},s,l,r){return{latestValues:sT(s,l,r,i),renderState:e()}}function sT(i,e,s,l){const r={},u=l(i,{});for(const v in u)r[v]=Sd(u[v]);let{initial:d,animate:f}=i;const m=Qd(i),g=yw(i);e&&g&&!m&&i.inherit!==!1&&(d===void 0&&(d=e.initial),f===void 0&&(f=e.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const x=y?f:d;if(x&&typeof x!="boolean"&&!Wd(x)){const v=Array.isArray(x)?x:[x];for(let _=0;_<v.length;_++){const S=Cp(i,v[_]);if(S){const{transitionEnd:w,transition:N,...k}=S;for(const E in k){let M=k[E];if(Array.isArray(M)){const A=y?M.length-1:0;M=M[A]}M!==null&&(r[E]=M)}for(const E in w)r[E]=w[E]}}}return r}const Gw=i=>(e,s)=>{const l=j.useContext(Kd),r=j.useContext(Gd),u=()=>iT(i,e,l,r);return s?u():op(u)},lT=Gw({scrapeMotionValuesFromProps:Rp,createRenderState:Op}),aT=Gw({scrapeMotionValuesFromProps:Mw,createRenderState:qw}),rT=Symbol.for("motionComponentSymbol");function oT(i,e,s){const l=j.useRef(s);j.useInsertionEffect(()=>{l.current=s});const r=j.useRef(null);return j.useCallback(u=>{u&&i.onMount?.(u),e&&(u?e.mount(u):e.unmount());const d=l.current;if(typeof d=="function")if(u){const f=d(u);typeof f=="function"&&(r.current=f)}else r.current?(r.current(),r.current=null):d(u);else d&&(d.current=u)},[e])}const Ww=j.createContext({});function ic(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function cT(i,e,s,l,r,u){const{visualElement:d}=j.useContext(Kd),f=j.useContext($w),m=j.useContext(Gd),g=j.useContext(Lp).reducedMotion,y=j.useRef(null);l=l||f.renderer,!y.current&&l&&(y.current=l(i,{visualState:e,parent:d,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g,isSVG:u}));const x=y.current,v=j.useContext(Ww);x&&!x.projection&&r&&(x.type==="html"||x.type==="svg")&&uT(y.current,s,r,v);const _=j.useRef(!1);j.useInsertionEffect(()=>{x&&_.current&&x.update(s,m)});const S=s[iw],w=j.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return b2(()=>{x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),w.current&&x.animationState&&x.animationState.animateChanges())}),j.useEffect(()=>{x&&(!w.current&&x.animationState&&x.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),w.current=!1),x.enteringChildren=void 0)}),x}function uT(i,e,s,l){const{layoutId:r,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;i.projection=new s(i.latestValues,e["data-framer-portal-id"]?void 0:Qw(i.parent)),i.projection.setOptions({layoutId:r,layout:u,alwaysMeasureLayout:!!d||f&&ic(f),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:l,crossfade:y,layoutScroll:m,layoutRoot:g})}function Qw(i){if(i)return i.options.allowProjection!==!1?i.projection:Qw(i.parent)}function X0(i,{forwardMotionProps:e=!1,type:s}={},l,r){l&&Y3(l);const u=s?s==="svg":Vp(i),d=u?aT:lT;function f(g,y){let x;const v={...j.useContext(Lp),...g,layoutId:dT(g)},{isStatic:_}=v,S=Q3(g),w=d(g,_);if(!_&&v2){fT();const N=hT(v);x=N.MeasureLayout,S.visualElement=cT(i,w,v,r,N.ProjectionNode,u)}return c.jsxs(Kd.Provider,{value:S,children:[x&&S.visualElement?c.jsx(x,{visualElement:S.visualElement,...v}):null,nT(i,g,oT(w,S.visualElement,y),w,_,e,u)]})}f.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const m=j.forwardRef(f);return m[rT]=i,m}function dT({layoutId:i}){const e=j.useContext(rp).id;return e&&i!==void 0?e+"-"+i:i}function fT(i,e){j.useContext($w).strict}function hT(i){const e=Hw(),{drag:s,layout:l}=e;if(!s&&!l)return{};const r={...s,...l};return{MeasureLayout:s?.isEnabled(i)||l?.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function mT(i,e){if(typeof Proxy>"u")return X0;const s=new Map,l=(u,d)=>X0(u,d,i,e),r=(u,d)=>l(u,d);return new Proxy(r,{get:(u,d)=>d==="create"?l:(s.has(d)||s.set(d,X0(d,void 0,i,e)),s.get(d))})}const pT=(i,e)=>e.isSVG??Vp(i)?new qC(e):new FC(e,{allowProjection:i!==j.Fragment});class gT extends Gl{constructor(e){super(e),e.animationState||(e.animationState=ZC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yT=0;class xT extends Gl{constructor(){super(...arguments),this.id=yT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===l)return;const r=this.node.animationState.setActive("exit",!e);s&&!e&&r.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vT={animation:{Feature:gT},exit:{Feature:xT}};function Ic(i){return{point:{x:i.pageX,y:i.pageY}}}const bT=i=>e=>Ep(e)&&i(e,Ic(e));function dc(i,e,s,l){return Nc(i,e,bT(s),l)}const Kw=({current:i})=>i?i.ownerDocument.defaultView:null,b1=(i,e)=>Math.abs(i-e);function wT(i,e){const s=b1(i.x,e.x),l=b1(i.y,e.y);return Math.sqrt(s**2+l**2)}const w1=new Set(["auto","scroll"]);class Zw{constructor(e,s,{transformPagePoint:l,contextWindow:r=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=G0(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,w=wT(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!w)return;const{point:N}=_,{timestamp:k}=Bn;this.history.push({...N,timestamp:k});const{onStart:E,onMove:M}=this.handlers;S||(E&&E(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,_)},this.handlePointerMove=(_,S)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=q0(S,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(_,S)=>{this.end();const{onEnd:w,onSessionEnd:N,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=G0(_.type==="pointercancel"?this.lastMoveEventInfo:q0(S,this.transformPagePoint),this.history);this.startEvent&&w&&w(_,E),N&&N(_,E)},!Ep(e))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=l,this.distanceThreshold=d,this.contextWindow=r||window;const m=Ic(e),g=q0(m,this.transformPagePoint),{point:y}=g,{timestamp:x}=Bn;this.history=[{...y,timestamp:x}];const{onSessionStart:v}=s;v&&v(e,G0(g,this.history)),this.removeListeners=Oc(dc(this.contextWindow,"pointermove",this.handlePointerMove),dc(this.contextWindow,"pointerup",this.handlePointerUp),dc(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let s=e.parentElement;for(;s;){const l=getComputedStyle(s);(w1.has(l.overflowX)||w1.has(l.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const s=this.scrollPositions.get(e);if(!s)return;const l=e===window,r=l?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},u={x:r.x-s.x,y:r.y-s.y};u.x===0&&u.y===0||(l?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(e,r),Wt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$l(this.updatePoint)}}function q0(i,e){return e?{point:e(i.point)}:i}function _1(i,e){return{x:i.x-e.x,y:i.y-e.y}}function G0({point:i},e){return{point:i,delta:_1(i,Jw(e)),offset:_1(i,_T(e)),velocity:ST(e,.1)}}function _T(i){return i[0]}function Jw(i){return i[i.length-1]}function ST(i,e){if(i.length<2)return{x:0,y:0};let s=i.length-1,l=null;const r=Jw(i);for(;s>=0&&(l=i[s],!(r.timestamp-l.timestamp>Ws(e)));)s--;if(!l)return{x:0,y:0};const u=es(r.timestamp-l.timestamp);if(u===0)return{x:0,y:0};const d={x:(r.x-l.x)/u,y:(r.y-l.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function jT(i,{min:e,max:s},l){return e!==void 0&&i<e?i=l?ln(e,i,l.min):Math.max(i,e):s!==void 0&&i>s&&(i=l?ln(s,i,l.max):Math.min(i,s)),i}function S1(i,e,s){return{min:e!==void 0?i.min+e:void 0,max:s!==void 0?i.max+s-(i.max-i.min):void 0}}function kT(i,{top:e,left:s,bottom:l,right:r}){return{x:S1(i.x,s,r),y:S1(i.y,e,l)}}function j1(i,e){let s=e.min-i.min,l=e.max-i.max;return e.max-e.min<i.max-i.min&&([s,l]=[l,s]),{min:s,max:l}}function NT(i,e){return{x:j1(i.x,e.x),y:j1(i.y,e.y)}}function CT(i,e){let s=.5;const l=ri(i),r=ri(e);return r>l?s=_c(e.min,e.max-l,i.min):l>r&&(s=_c(i.min,i.max-r,e.min)),js(0,1,s)}function TT(i,e){const s={};return e.min!==void 0&&(s.min=e.min-i.min),e.max!==void 0&&(s.max=e.max-i.min),s}const Om=.35;function MT(i=Om){return i===!1?i=0:i===!0&&(i=Om),{x:k1(i,"left","right"),y:k1(i,"top","bottom")}}function k1(i,e,s){return{min:N1(i,e),max:N1(i,s)}}function N1(i,e){return typeof i=="number"?i:i[e]||0}const AT=new WeakMap;class ET{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:l}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const u=x=>{s?(this.stopAnimation(),this.snapToCursor(Ic(x).point)):this.pauseAnimation()},d=(x,v)=>{this.stopAnimation();const{drag:_,dragPropagation:S,onDragStart:w}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xC(_),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(k=>{let E=this.getAxisMotionValue(k).get()||0;if(Ss.test(E)){const{projection:M}=this.visualElement;if(M&&M.layout){const A=M.layout.layoutBox[k];A&&(E=ri(A)*(parseFloat(E)/100))}}this.originPoint[k]=E}),w&&Wt.postRender(()=>w(x,v)),Mm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:w,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:k}=v;if(S&&this.currentDirection===null){this.currentDirection=zT(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",v.point,k),this.updateAxis("y",v.point,k),this.visualElement.render(),N&&N(x,v)},m=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v,this.stop(x,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Zi(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Zw(e,{onSessionStart:u,onStart:d,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:l,contextWindow:Kw(this.visualElement),element:this.visualElement.current})}stop(e,s){const l=e||this.latestPointerEvent,r=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!r||!l)return;const{velocity:d}=r;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Wt.postRender(()=>f(l,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:l}=this.getProps();!l&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,s,l){const{drag:r}=this.getProps();if(!l||!cd(e,r,this.currentDirection))return;const u=this.getAxisMotionValue(e);let d=this.originPoint[e]+l[e];this.constraints&&this.constraints[e]&&(d=jT(d,this.constraints[e],this.elastic[e])),u.set(d)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&ic(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&l?this.constraints=kT(l.layoutBox,e):this.constraints=!1,this.elastic=MT(s),r!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&Zi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=TT(l.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!ic(e))return!1;const l=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const u=RC(l,r.root,this.visualElement.getTransformPagePoint());let d=NT(r.layout.layoutBox,u);if(s){const f=s(zC(d));this.hasMutatedConstraints=!!f,f&&(d=bw(f))}return d}startAnimation(e){const{drag:s,dragMomentum:l,dragElastic:r,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=Zi(y=>{if(!cd(y,s,this.currentDirection))return;let x=m&&m[y]||{};d&&(x={min:0,max:0});const v=r?200:1e6,_=r?40:1e7,S={type:"inertia",velocity:l?e[y]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...u,...x};return this.startAxisValueAnimation(y,S)});return Promise.all(g).then(f)}startAxisValueAnimation(e,s){const l=this.getAxisMotionValue(e);return Mm(this.visualElement,e),l.start(Np(e,l,0,s,this.visualElement,!1))}stopAnimation(){Zi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,l=this.visualElement.getProps(),r=l[s];return r||this.visualElement.getValue(e,(l.initial?l.initial[e]:void 0)||0)}snapToCursor(e){Zi(s=>{const{drag:l}=this.getProps();if(!cd(s,l,this.currentDirection))return;const{projection:r}=this.visualElement,u=this.getAxisMotionValue(s);if(r&&r.layout){const{min:d,max:f}=r.layout.layoutBox[s],m=u.get()||0;u.set(e[s]-ln(d,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:l}=this.visualElement;if(!ic(s)||!l||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Zi(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const m=f.get();r[d]=CT({min:m,max:m},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",l.root&&l.root.updateScroll(),l.updateLayout(),this.resolveConstraints(),Zi(d=>{if(!cd(d,e,null))return;const f=this.getAxisMotionValue(d),{min:m,max:g}=this.constraints[d];f.set(ln(m,g,r[d]))})}addListeners(){if(!this.visualElement.current)return;AT.set(this.visualElement,this);const e=this.visualElement.current,s=dc(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps(),x=m.target,v=x!==e&&mw(x);g&&y&&!v&&this.start(m)}),l=()=>{const{dragConstraints:m}=this.getProps();ic(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,u=r.addEventListener("measure",l);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Wt.read(l);const d=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),f=r.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Zi(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=m[y].translate,x.set(x.get()+m[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:l=!1,dragPropagation:r=!1,dragConstraints:u=!1,dragElastic:d=Om,dragMomentum:f=!0}=e;return{...e,drag:s,dragDirectionLock:l,dragPropagation:r,dragConstraints:u,dragElastic:d,dragMomentum:f}}}function cd(i,e,s){return(e===!0||e===i)&&(s===null||s===i)}function zT(i,e=10){let s=null;return Math.abs(i.y)>e?s="y":Math.abs(i.x)>e&&(s="x"),s}class DT extends Gl{constructor(e){super(e),this.removeGroupControls=is,this.removeListeners=is,this.controls=new ET(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||is}update(){const{dragControls:e}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};e!==s&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const C1=i=>(e,s)=>{i&&Wt.postRender(()=>i(e,s))};class PT extends Gl{constructor(){super(...arguments),this.removePointerDownListener=is}onPointerDown(e){this.session=new Zw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:l,onPanEnd:r}=this.node.getProps();return{onSessionStart:C1(e),onStart:C1(s),onMove:l,onEnd:(u,d)=>{delete this.session,r&&Wt.postRender(()=>r(u,d))}}}mount(){this.removePointerDownListener=dc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let W0=!1;class RT extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:l,layoutId:r}=this.props,{projection:u}=e;u&&(s.group&&s.group.add(u),l&&l.register&&r&&l.register(u),W0&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:l,drag:r,isPresent:u}=this.props,{projection:d}=l;return d&&(d.isPresent=u,W0=!0,r||e.layoutDependency!==s||s===void 0||e.isPresent!==u?d.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?d.promote():d.relegate()||Wt.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ap.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:l}=this.props,{projection:r}=e;W0=!0,r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),l&&l.deregister&&l.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e_(i){const[e,s]=Uw(),l=j.useContext(rp);return c.jsx(RT,{...i,layoutGroup:l,switchLayoutGroup:j.useContext(Ww),isPresent:e,safeToRemove:s})}const LT={pan:{Feature:PT},drag:{Feature:DT,ProjectionNode:Fw,MeasureLayout:e_}};function T1(i,e,s){const{props:l}=i;i.animationState&&l.whileHover&&i.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,u=l[r];u&&Wt.postRender(()=>u(e,Ic(e)))}class OT extends Gl{mount(){const{current:e}=this.node;e&&(this.unmount=vC(e,(s,l)=>(T1(this.node,l,"Start"),r=>T1(this.node,r,"End"))))}unmount(){}}class VT extends Gl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oc(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function M1(i,e,s){const{props:l}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&l.whileTap&&i.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),u=l[r];u&&Wt.postRender(()=>u(e,Ic(e)))}class BT extends Gl{mount(){const{current:e}=this.node;e&&(this.unmount=_C(e,(s,l)=>(M1(this.node,l,"Start"),(r,{success:u})=>M1(this.node,r,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vm=new WeakMap,Q0=new WeakMap,IT=i=>{const e=Vm.get(i.target);e&&e(i)},FT=i=>{i.forEach(IT)};function UT({root:i,...e}){const s=i||document;Q0.has(s)||Q0.set(s,{});const l=Q0.get(s),r=JSON.stringify(e);return l[r]||(l[r]=new IntersectionObserver(FT,{root:i,...e})),l[r]}function $T(i,e,s){const l=UT(e);return Vm.set(i,s),l.observe(i),()=>{Vm.delete(i),l.unobserve(i)}}const HT={some:0,all:1};class YT extends Gl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:l,amount:r="some",once:u}=e,d={root:s?s.current:void 0,rootMargin:l,threshold:typeof r=="number"?r:HT[r]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),v=g?y:x;v&&v(m)};return $T(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(XT(e,s))&&this.startObserver()}unmount(){}}function XT({viewport:i={}},{viewport:e={}}={}){return s=>i[s]!==e[s]}const qT={inView:{Feature:YT},tap:{Feature:BT},focus:{Feature:VT},hover:{Feature:OT}},GT={layout:{ProjectionNode:Fw,MeasureLayout:e_}},WT={...vT,...qT,...LT,...GT},Er=mT(WT,pT),QT=({data:i,size:e=200,innerRadius:s=40,outerRadius:l=80})=>{const[r,u]=j.useState(null),d=j.useMemo(()=>i.reduce((m,g)=>m+g.value,0),[i]),f=j.useMemo(()=>{let m=0;return i.map((g,y)=>{const x=g.value/d*360,v=m;return m+=x,{...g,startAngle:v,endAngle:m,angle:x,percentage:g.value/d*100}})},[i,d]);return d===0?null:c.jsxs("div",{className:"flex flex-row items-center gap-8 bg-slate-900/50 backdrop-blur-md p-6 rounded-2xl border border-white/10 shadow-xl",children:[c.jsxs("div",{className:"relative",style:{width:e,height:e},children:[c.jsx("svg",{viewBox:"-100 -100 200 200",className:"transform -rotate-90 w-full h-full",children:f.map((m,g)=>{const y=m.startAngle*Math.PI/180,x=m.endAngle*Math.PI/180,v=Math.cos(y)*l,_=Math.sin(y)*l,S=Math.cos(x)*l,w=Math.sin(x)*l,N=Math.cos(x)*s,k=Math.sin(x)*s,E=Math.cos(y)*s,M=Math.sin(y)*s,A=m.angle>180?1:0,z=[`M ${v} ${_}`,`A ${l} ${l} 0 ${A} 1 ${S} ${w}`,`L ${N} ${k}`,`A ${s} ${s} 0 ${A} 0 ${E} ${M}`,"Z"].join(" ");return c.jsx(Er.path,{d:z,fill:m.color,initial:{opacity:0,scale:.9},animate:{opacity:r===null||r===g?1:.3,scale:r===g?1.05:1},transition:{duration:.3},onMouseEnter:()=>u(g),onMouseLeave:()=>u(null),className:"cursor-pointer stroke-slate-900 hover:stroke-white/20",strokeWidth:"1"},m.name)})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:d}),c.jsx("div",{className:"text-xs text-slate-400",children:"Videos"})]})})]}),c.jsxs("div",{className:"flex flex-col gap-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-1 uppercase tracking-wider",children:"Distribution"}),f.map((m,g)=>c.jsxs(Er.div,{className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${r===g?"bg-white/10":"hover:bg-white/5"}`,onMouseEnter:()=>u(g),onMouseLeave:()=>u(null),children:[c.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:m.color}}),c.jsxs("div",{className:"flex-1 min-w-[120px]",children:[c.jsx("div",{className:"text-sm font-medium text-white truncate max-w-[150px]",title:m.name,children:m.name}),c.jsxs("div",{className:"text-xs text-slate-400",children:[m.value," videos (",m.percentage.toFixed(1),"%)"]})]})]},m.name))]})]})},A1=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f43f5e","#6366f1","#14b8a6","#d946ef"],ud=24,KT=({onVideoSelect:i})=>{const[e,s]=j.useState(null),[l,r]=j.useState([]),[u,d]=j.useState(!0),[f,m]=j.useState(1),[g,y]=j.useState([]),[x,v]=j.useState(!1),{currentVideoIndex:_,currentPlaylistItems:S}=Di(),{inspectMode:w}=Qn();j.useEffect(()=>{(async()=>{d(!0);try{let z=(await Nn()).find(O=>O.name==="Likes");if(z){s(z.id);const O=await Vt(z.id);r(O||[])}else{const O=await Pr("Likes","Videos you have liked");s(O),r([])}}catch(A){console.error("Failed to load likes:",A)}finally{d(!1)}})()},[]);const N=Math.ceil(l.length/ud),k=j.useMemo(()=>{const M=(f-1)*ud;return l.slice(M,M+ud)},[l,f]);j.useEffect(()=>{(async()=>{if(k.length===0){y([]);return}v(!0);try{const A=k.map(V=>V.video_id),z=await T4(A),O={};Object.values(z).flat().forEach(V=>{V!=="Likes"&&(O[V]=(O[V]||0)+1)});let F=0;A.forEach(V=>{(z[V]||[]).filter(se=>se!=="Likes").length===0&&F++}),F>0&&(O.Uncategorized=F);const P=Object.entries(O).map(([V,re],oe)=>({name:V,value:re,color:V==="Uncategorized"?"#475569":A1[oe%A1.length]})).sort((V,re)=>re.value-V.value);y(P)}catch(A){console.error("Failed to fetch distribution:",A)}finally{v(!1)}})()},[k]);const E=()=>u?c.jsx("div",{className:"flex items-center justify-center p-12 text-slate-400",children:c.jsx("p",{children:"Loading liked videos..."})}):!l||l.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-slate-400",children:[c.jsx("svg",{className:"w-16 h-16 mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),c.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Liked Videos"}),c.jsx("p",{children:"Videos you like will appear here."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:k.map((M,A)=>{const z=S?.[_]?.id===M.id,O=(f-1)*ud+A;return c.jsx(wc,{video:M,index:O,originalIndex:O,isSelected:!1,isCurrentlyPlaying:z,videoFolders:[],onVideoSelect:i,onVideoClick:()=>i(M.video_url)},M.id||`liked-${A}`)})});return c.jsx("div",{className:"w-full h-full flex flex-col bg-transparent",children:c.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:[c.jsx(Wr,{title:"Liked Videos",description:"Your collection of liked videos.",color:null,isEditable:!1,children:g.length>0&&!u&&c.jsx("div",{className:"flex justify-center",children:c.jsx(QT,{data:g,size:160})})}),c.jsxs("div",{className:"p-6 space-y-8",children:[N>1&&c.jsxs("div",{className:"flex justify-between items-center bg-slate-900/40 p-3 rounded-lg border border-white/5 backdrop-blur-sm",children:[c.jsxs("div",{className:"text-sm text-slate-400",children:["Page ",c.jsx("span",{className:"text-white font-medium",children:f})," of ",c.jsx("span",{className:"text-white font-medium",children:N})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>m(M=>Math.max(1,M-1)),disabled:f===1,className:"p-2 rounded hover:bg-white/10 disabled:opacity-30 disabled:hover:bg-transparent transition-colors",children:c.jsx(Br,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>m(M=>Math.min(N,M+1)),disabled:f===N,className:"p-2 rounded hover:bg-white/10 disabled:opacity-30 disabled:hover:bg-transparent transition-colors",children:c.jsx(xc,{className:"w-5 h-5"})})]})]}),E(),N>1&&c.jsx("div",{className:"flex justify-center mt-8 pb-4",children:c.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/60 rounded-full px-4 py-2 border border-white/10 backdrop-blur-md shadow-lg",children:[c.jsx("button",{onClick:()=>m(M=>Math.max(1,M-1)),disabled:f===1,className:"p-2 rounded-full hover:bg-white/10 disabled:opacity-30 transition-colors",children:c.jsx(Br,{className:"w-4 h-4"})}),c.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,N)},(M,A)=>{let z=A+1;return N>5&&(f>3&&(z=f-2+A),z>N&&(z=N-4+A)),z<1&&(z=A+1),c.jsx("button",{onClick:()=>m(z),className:`w-8 h-8 rounded-full text-xs font-medium transition-all ${f===z?"bg-blue-500 text-white shadow-lg scale-110":"text-slate-400 hover:bg-white/10 hover:text-white"}`,children:z},z)})}),c.jsx("button",{onClick:()=>m(M=>Math.min(N,M+1)),disabled:f===N,className:"p-2 rounded-full hover:bg-white/10 disabled:opacity-30 transition-colors",children:c.jsx(xc,{className:"w-4 h-4"})})]})})]})]})})},ZT=({onVideoSelect:i})=>{const{pinnedVideos:e,priorityPinIds:s}=Na(),{currentVideoIndex:l,currentPlaylistItems:r}=Di(),{inspectMode:u}=Qn(),{priorityVideos:d,regularVideos:f}=j.useMemo(()=>{if(!e)return{priorityVideos:[],regularVideos:[]};const g=[],y=[],x=s||[];return e.forEach(v=>{x.includes(v.id)?g.push(v):y.push(v)}),g.sort((v,_)=>x.indexOf(v.id)-x.indexOf(_.id)),y.sort((v,_)=>{const S=v.pinnedAt||0;return(_.pinnedAt||0)-S}),{priorityVideos:g,regularVideos:y}},[e,s]),m=()=>{if(!e||e.length===0)return c.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-slate-400",children:[c.jsx("svg",{className:"w-16 h-16 mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),c.jsx("h3",{className:"text-xl font-medium mb-2",children:"No Pinned Videos"}),c.jsx("p",{children:"Pin videos from any playlist to access them quickly here."})]});const g=d.slice(0,10);return c.jsxs("div",{className:"flex flex-col gap-4",children:[g.length>0&&c.jsx(x2,{title:"Priority Pins - History",children:g.map((y,x)=>{const v=r?.[l]?.id===y.id;return c.jsx(wc,{video:y,index:x,originalIndex:x,isSelected:!1,isCurrentlyPlaying:v,videoFolders:[],onVideoSelect:i,onVideoClick:()=>i(y.video_url)},y.id||`priority-${x}`)})}),f.length>0&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((y,x)=>{const v=r?.[l]?.id===y.id;return c.jsx(wc,{video:y,index:x,originalIndex:x,isSelected:!1,isCurrentlyPlaying:v,videoFolders:[],onVideoSelect:i,onVideoClick:()=>i(y.video_url),showTimer:!0},y.id||`pinned-${x}`)})})]})};return c.jsx("div",{className:"w-full h-full flex flex-col bg-transparent",children:c.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[c.jsx(Wr,{title:"Pinned Videos",description:null,color:null,isEditable:!1,topRightContent:d.length>0?c.jsxs("div",{className:"relative group cursor-pointer w-64 aspect-video rounded-xl overflow-hidden shadow-2xl border-2 border-transparent hover:border-white/50 transition-all",onClick:()=>i(d[0].video_url),children:[c.jsx("img",{src:`https://img.youtube.com/vi/${d[0].video_id}/maxresdefault.jpg`,alt:d[0].title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:c.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white fill-current",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M8 5v14l11-7z"})})})}),c.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:c.jsx("p",{className:"text-white text-xs font-medium truncate shadow-black drop-shadow-md",children:d[0].title})})]}):null}),m()]})})},JT=i=>{if(!i)return null;if(!i.includes("youtube.com")&&!i.includes("youtu.be"))return i;const e=i.match(/[?&]v=([^&]+)/);if(e)return e[1];const s=i.match(/youtu\.be\/([^?]+)/);return s?s[1]:null},eM=i=>{try{const e=localStorage.getItem(`playback_time_${i}`);return e?parseFloat(e):0}catch{return 0}},ec=(i,e)=>{try{localStorage.setItem(`playback_time_${i}`,e.toString())}catch(s){console.error("Failed to save playback time:",s)}},dd=async(i,e,s,l)=>{try{await d2(i,e,s,l)}catch(r){console.error("Failed to save video progress to database:",r)}},E1=({videoUrl:i,videoId:e,playerId:s="default",onEnded:l,...r})=>{const u=e||JT(i);j.useRef(null);const d=j.useRef(null),f=j.useRef(null),m=j.useRef(null),[g,y]=j.useState(!1),{viewMode:x}=Qn(),v=`youtube-player-${s}-${u}`;return j.useEffect(()=>{if(window.YT&&window.YT.Player){y(!0);return}if(!window.onYouTubeIframeAPIReady){window.onYouTubeIframeAPIReady=()=>{y(!0)};const _=document.createElement("script");_.src="https://www.youtube.com/iframe_api";const S=document.getElementsByTagName("script")[0];S.parentNode.insertBefore(_,S)}},[]),j.useEffect(()=>{if(!g)return;const _=document.getElementById(v);if(!_)return;const S=()=>{const w=_.querySelector("iframe");w&&_.parentElement&&(w.style.width="100%",w.style.height="100%")};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[g,x,v]),j.useEffect(()=>{if(!g||!u)return;const _=eM(u);return d.current=new window.YT.Player(v,{videoId:u,playerVars:{autoplay:1,start:Math.floor(_),enablejsapi:1},events:{onReady:S=>{try{const w=S.target.getDuration();w&&w>0&&(m.current=w)}catch(w){console.error("Failed to get video duration:",w)}if(setTimeout(()=>{const w=document.getElementById(v);if(w){const N=w.querySelector("iframe");N&&(N.style.width="100%",N.style.height="100%")}},200),_>0){const w=S.target.getDuration();_>=w-10||w>0&&_/w>.95?(console.log("Video finished previously, restarting from 0"),S.target.seekTo(0,!0),ec(u,0)):S.target.seekTo(_,!0)}},onStateChange:S=>{if(S.data===window.YT.PlayerState.ENDED){ec(u,0);const w=m.current||d.current?.getDuration?.()||0;dd(u,i||`https://www.youtube.com/watch?v=${u}`,w,0),l&&l();return}if(S.data===window.YT.PlayerState.PLAYING)f.current=setInterval(()=>{if(d.current&&d.current.getCurrentTime)try{const w=d.current.getCurrentTime(),N=m.current||d.current.getDuration?.()||null;ec(u,w),dd(u,i||`https://www.youtube.com/watch?v=${u}`,N,w)}catch{}},5e3);else{if(d.current&&d.current.getCurrentTime)try{const w=d.current.getCurrentTime(),N=m.current||d.current.getDuration?.()||null;ec(u,w),dd(u,i||`https://www.youtube.com/watch?v=${u}`,N,w)}catch{}f.current&&(clearInterval(f.current),f.current=null)}}}}),()=>{if(d.current)try{if(d.current.getCurrentTime){const S=d.current.getCurrentTime(),w=m.current||d.current.getDuration?.()||null;ec(u,S),dd(u,i||`https://www.youtube.com/watch?v=${u}`,w,S)}d.current.destroy&&d.current.destroy()}catch{}f.current&&clearInterval(f.current)}},[g,u,i]),u?c.jsx("div",{className:"w-full h-full bg-black",style:{overflow:"hidden"},children:c.jsx("div",{id:v,style:{width:"100%",height:"100%",border:"none",boxSizing:"border-box"}})}):c.jsx("div",{className:"flex items-center justify-center w-full h-full bg-black text-white",children:c.jsx("p",{children:"Invalid YouTube URL or ID"})})};function tM(i,e,s,l){if(typeof e=="function"?i!==e||!l:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(i):l?l.value:e.get(i)}function nM(i,e,s,l,r){if(typeof e=="function"?i!==e||!0:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,s),s}var kd;const ls="__TAURI_TO_IPC_KEY__";function iM(i,e=!1){return window.__TAURI_INTERNALS__.transformCallback(i,e)}async function Re(i,e={},s){return window.__TAURI_INTERNALS__.invoke(i,e,s)}class sM{get rid(){return tM(this,kd,"f")}constructor(e){kd.set(this,void 0),nM(this,kd,e)}async close(){return Re("plugin:resources|close",{rid:this.rid})}}kd=new WeakMap;class t_{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new fc(this.width*e,this.height*e)}[ls](){return{width:this.width,height:this.height}}toJSON(){return this[ls]()}}class fc{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new t_(this.width/e,this.height/e)}[ls](){return{width:this.width,height:this.height}}toJSON(){return this[ls]()}}class _r{constructor(e){this.size=e}toLogical(e){return this.size instanceof t_?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof fc?this.size:this.size.toPhysical(e)}[ls](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[ls]()}}class n_{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new Rl(this.x*e,this.y*e)}[ls](){return{x:this.x,y:this.y}}toJSON(){return this[ls]()}}class Rl{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new n_(this.x/e,this.y/e)}[ls](){return{x:this.x,y:this.y}}toJSON(){return this[ls]()}}class fd{constructor(e){this.position=e}toLogical(e){return this.position instanceof n_?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof Rl?this.position:this.position.toPhysical(e)}[ls](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[ls]()}}var Ei;(function(i){i.WINDOW_RESIZED="tauri://resize",i.WINDOW_MOVED="tauri://move",i.WINDOW_CLOSE_REQUESTED="tauri://close-requested",i.WINDOW_DESTROYED="tauri://destroyed",i.WINDOW_FOCUS="tauri://focus",i.WINDOW_BLUR="tauri://blur",i.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",i.WINDOW_THEME_CHANGED="tauri://theme-changed",i.WINDOW_CREATED="tauri://window-created",i.WEBVIEW_CREATED="tauri://webview-created",i.DRAG_ENTER="tauri://drag-enter",i.DRAG_OVER="tauri://drag-over",i.DRAG_DROP="tauri://drag-drop",i.DRAG_LEAVE="tauri://drag-leave"})(Ei||(Ei={}));async function i_(i,e){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(i,e),await Re("plugin:event|unlisten",{event:i,eventId:e})}async function Bp(i,e,s){var l;const r=typeof s?.target=="string"?{kind:"AnyLabel",label:s.target}:(l=s?.target)!==null&&l!==void 0?l:{kind:"Any"};return Re("plugin:event|listen",{event:i,target:r,handler:iM(e)}).then(u=>async()=>i_(i,u))}async function lM(i,e,s){return Bp(i,l=>{i_(i,l.id),e(l)},s)}async function aM(i,e){await Re("plugin:event|emit",{event:i,payload:e})}async function rM(i,e,s){await Re("plugin:event|emit_to",{target:typeof i=="string"?{kind:"AnyLabel",label:i}:i,event:e,payload:s})}class hc extends sM{constructor(e){super(e)}static async new(e,s,l){return Re("plugin:image|new",{rgba:Vd(e),width:s,height:l}).then(r=>new hc(r))}static async fromBytes(e){return Re("plugin:image|from_bytes",{bytes:Vd(e)}).then(s=>new hc(s))}static async fromPath(e){return Re("plugin:image|from_path",{path:e}).then(s=>new hc(s))}async rgba(){return Re("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return Re("plugin:image|size",{rid:this.rid})}}function Vd(i){return i==null?null:typeof i=="string"?i:i instanceof hc?i.rid:i}var Bm;(function(i){i[i.Critical=1]="Critical",i[i.Informational=2]="Informational"})(Bm||(Bm={}));class oM{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var z1;(function(i){i.None="none",i.Normal="normal",i.Indeterminate="indeterminate",i.Paused="paused",i.Error="error"})(z1||(z1={}));function s_(){return new l_(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function K0(){return Re("plugin:window|get_all_windows").then(i=>i.map(e=>new l_(e,{skip:!0})))}const Z0=["tauri://created","tauri://error"];class l_{constructor(e,s={}){var l;this.label=e,this.listeners=Object.create(null),s?.skip||Re("plugin:window|create",{options:{...s,parent:typeof s.parent=="string"?s.parent:(l=s.parent)===null||l===void 0?void 0:l.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async r=>this.emit("tauri://error",r))}static async getByLabel(e){var s;return(s=(await K0()).find(l=>l.label===e))!==null&&s!==void 0?s:null}static getCurrent(){return s_()}static async getAll(){return K0()}static async getFocusedWindow(){for(const e of await K0())if(await e.isFocused())return e;return null}async listen(e,s){return this._handleTauriEvent(e,s)?()=>{const l=this.listeners[e];l.splice(l.indexOf(s),1)}:Bp(e,s,{target:{kind:"Window",label:this.label}})}async once(e,s){return this._handleTauriEvent(e,s)?()=>{const l=this.listeners[e];l.splice(l.indexOf(s),1)}:lM(e,s,{target:{kind:"Window",label:this.label}})}async emit(e,s){if(Z0.includes(e)){for(const l of this.listeners[e]||[])l({event:e,id:-1,payload:s});return}return aM(e,s)}async emitTo(e,s,l){if(Z0.includes(s)){for(const r of this.listeners[s]||[])r({event:s,id:-1,payload:l});return}return rM(e,s,l)}_handleTauriEvent(e,s){return Z0.includes(e)?(e in this.listeners?this.listeners[e].push(s):this.listeners[e]=[s],!0):!1}async scaleFactor(){return Re("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return Re("plugin:window|inner_position",{label:this.label}).then(e=>new Rl(e))}async outerPosition(){return Re("plugin:window|outer_position",{label:this.label}).then(e=>new Rl(e))}async innerSize(){return Re("plugin:window|inner_size",{label:this.label}).then(e=>new fc(e))}async outerSize(){return Re("plugin:window|outer_size",{label:this.label}).then(e=>new fc(e))}async isFullscreen(){return Re("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return Re("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return Re("plugin:window|is_maximized",{label:this.label})}async isFocused(){return Re("plugin:window|is_focused",{label:this.label})}async isDecorated(){return Re("plugin:window|is_decorated",{label:this.label})}async isResizable(){return Re("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return Re("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return Re("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return Re("plugin:window|is_closable",{label:this.label})}async isVisible(){return Re("plugin:window|is_visible",{label:this.label})}async title(){return Re("plugin:window|title",{label:this.label})}async theme(){return Re("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return Re("plugin:window|is_always_on_top",{label:this.label})}async center(){return Re("plugin:window|center",{label:this.label})}async requestUserAttention(e){let s=null;return e&&(e===Bm.Critical?s={type:"Critical"}:s={type:"Informational"}),Re("plugin:window|request_user_attention",{label:this.label,value:s})}async setResizable(e){return Re("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return Re("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return Re("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return Re("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return Re("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return Re("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return Re("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return Re("plugin:window|maximize",{label:this.label})}async unmaximize(){return Re("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return Re("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return Re("plugin:window|minimize",{label:this.label})}async unminimize(){return Re("plugin:window|unminimize",{label:this.label})}async show(){return Re("plugin:window|show",{label:this.label})}async hide(){return Re("plugin:window|hide",{label:this.label})}async close(){return Re("plugin:window|close",{label:this.label})}async destroy(){return Re("plugin:window|destroy",{label:this.label})}async setDecorations(e){return Re("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return Re("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return Re("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return Re("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return Re("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return Re("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return Re("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return Re("plugin:window|set_size",{label:this.label,value:e instanceof _r?e:new _r(e)})}async setMinSize(e){return Re("plugin:window|set_min_size",{label:this.label,value:e instanceof _r?e:e?new _r(e):null})}async setMaxSize(e){return Re("plugin:window|set_max_size",{label:this.label,value:e instanceof _r?e:e?new _r(e):null})}async setSizeConstraints(e){function s(l){return l?{Logical:l}:null}return Re("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:s(e?.minWidth),minHeight:s(e?.minHeight),maxWidth:s(e?.maxWidth),maxHeight:s(e?.maxHeight)}})}async setPosition(e){return Re("plugin:window|set_position",{label:this.label,value:e instanceof fd?e:new fd(e)})}async setFullscreen(e){return Re("plugin:window|set_fullscreen",{label:this.label,value:e})}async setSimpleFullscreen(e){return Re("plugin:window|set_simple_fullscreen",{label:this.label,value:e})}async setFocus(){return Re("plugin:window|set_focus",{label:this.label})}async setFocusable(e){return Re("plugin:window|set_focusable",{label:this.label,value:e})}async setIcon(e){return Re("plugin:window|set_icon",{label:this.label,value:Vd(e)})}async setSkipTaskbar(e){return Re("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return Re("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return Re("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return Re("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return Re("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return Re("plugin:window|set_cursor_position",{label:this.label,value:e instanceof fd?e:new fd(e)})}async setIgnoreCursorEvents(e){return Re("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return Re("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return Re("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setBadgeCount(e){return Re("plugin:window|set_badge_count",{label:this.label,value:e})}async setBadgeLabel(e){return Re("plugin:window|set_badge_label",{label:this.label,value:e})}async setOverlayIcon(e){return Re("plugin:window|set_overlay_icon",{label:this.label,value:e?Vd(e):void 0})}async setProgressBar(e){return Re("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return Re("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return Re("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return Re("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(Ei.WINDOW_RESIZED,s=>{s.payload=new fc(s.payload),e(s)})}async onMoved(e){return this.listen(Ei.WINDOW_MOVED,s=>{s.payload=new Rl(s.payload),e(s)})}async onCloseRequested(e){return this.listen(Ei.WINDOW_CLOSE_REQUESTED,async s=>{const l=new oM(s);await e(l),l.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){const s=await this.listen(Ei.DRAG_ENTER,d=>{e({...d,payload:{type:"enter",paths:d.payload.paths,position:new Rl(d.payload.position)}})}),l=await this.listen(Ei.DRAG_OVER,d=>{e({...d,payload:{type:"over",position:new Rl(d.payload.position)}})}),r=await this.listen(Ei.DRAG_DROP,d=>{e({...d,payload:{type:"drop",paths:d.payload.paths,position:new Rl(d.payload.position)}})}),u=await this.listen(Ei.DRAG_LEAVE,d=>{e({...d,payload:{type:"leave"}})});return()=>{s(),r(),l(),u()}}async onFocusChanged(e){const s=await this.listen(Ei.WINDOW_FOCUS,r=>{e({...r,payload:!0})}),l=await this.listen(Ei.WINDOW_BLUR,r=>{e({...r,payload:!1})});return()=>{s(),l()}}async onScaleChanged(e){return this.listen(Ei.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(Ei.WINDOW_THEME_CHANGED,e)}}var D1;(function(i){i.Disabled="disabled",i.Throttle="throttle",i.Suspend="suspend"})(D1||(D1={}));var P1;(function(i){i.AppearanceBased="appearanceBased",i.Light="light",i.Dark="dark",i.MediumLight="mediumLight",i.UltraDark="ultraDark",i.Titlebar="titlebar",i.Selection="selection",i.Menu="menu",i.Popover="popover",i.Sidebar="sidebar",i.HeaderView="headerView",i.Sheet="sheet",i.WindowBackground="windowBackground",i.HudWindow="hudWindow",i.FullScreenUI="fullScreenUI",i.Tooltip="tooltip",i.ContentBackground="contentBackground",i.UnderWindowBackground="underWindowBackground",i.UnderPageBackground="underPageBackground",i.Mica="mica",i.Blur="blur",i.Acrylic="acrylic",i.Tabbed="tabbed",i.TabbedDark="tabbedDark",i.TabbedLight="tabbedLight"})(P1||(P1={}));var R1;(function(i){i.FollowsWindowActiveState="followsWindowActiveState",i.Active="active",i.Inactive="inactive"})(R1||(R1={}));const cM=["playlist","filename","pause","eof-reached","time-pos","duration","volume","mute","speed"];async function uM(i,e,s){let l,r,u;return typeof i=="function"?(l=cM,r=i,u=e):(l=i,r=e,u=s),await dM(d=>{d.event==="property-change"&&l.includes(d.name)&&r(d)},u)}async function dM(i,e){e=e??s_().label;const s=`mpv-event-${e}`;return await Bp(s,l=>i(l.payload))}const fM=uM,Bd=async i=>{const e=[i.command,0],s=Ll().label;return console.log("Invoking sendMpvCommand (wrapped with ID):",{mpvCommand:e,windowLabel:s}),await be("plugin:mpv|command",{mpvCommand:e,windowLabel:s})},hM=async i=>{const e=Ll().label;return await be("plugin:mpv|init",{...i,windowLabel:e})},mM=async()=>{const i=Ll().label;return await be("plugin:mpv|destroy",{windowLabel:i})},Vn=async i=>{try{const e=await Bd({command:["get_property",i]});return e?e.data:null}catch(e){return console.warn(`getMpvProperty failed for ${i}:`,e),null}},L1=async(i,e)=>{try{await Bd({command:["set_property",i,e]})}catch(s){console.warn(`setMpvProperty failed for ${i}=${e}:`,s)}},pM=i=>{try{const e=localStorage.getItem(`playback_time_${i}`);return e?parseFloat(e):0}catch{return 0}},hd=(i,e)=>{try{localStorage.setItem(`playback_time_${i}`,e.toString())}catch(s){console.error("Failed to save playback time:",s)}},md=async(i,e,s,l)=>{try{await d2(i,e,s,l)}catch(r){console.error("Failed to save video progress to database:",r)}},gM=({videoUrl:i,videoId:e,playerId:s="default",onEnded:l,...r})=>{const u=j.useRef(null),d=j.useRef(null),f=j.useRef(null),m=j.useRef(!1),g=j.useRef(l),y=j.useRef(!1);j.useEffect(()=>{g.current=l},[l]);const[x,v]=j.useState(null),[_,S]=j.useState(!1);return j.useEffect(()=>{if(!i){v(null),m.current=!1;return}if(m.current){console.log("Init already attempted, skipping...");return}let w=!0;return m.current=!0,y.current=!1,(async()=>{try{u.current||(console.log("Waiting for container to mount..."),await new Promise(P=>setTimeout(P,200))),u.current?console.log("Container ready, initializing mpv with IPC..."):console.warn("Container element not found, but proceeding with MPV init (might open in separate window)"),await new Promise(P=>setTimeout(P,300)),console.log("Initializing mpv with IPC plugin...");const k={mpvConfig:{vo:"gpu",hwdec:"auto-safe","keep-open":"yes","force-window":"yes"},observedProperties:["pause","time-pos","duration","filename","wid"]};try{const P=hM(k),V=new Promise((re,oe)=>setTimeout(()=>oe(new Error("Initialization timed out after 15000ms")),15e3));await Promise.race([P,V]),console.log(" mpv initialized successfully with IPC plugin")}catch(P){throw console.error("Failed to initialize mpv:",P),P.toString().includes("connection refused")||P.toString().includes("ipc")?new Error("Could not connect to mpv plugin. Is the backend running?"):P}if(!w)return;S(!0),await new Promise(P=>setTimeout(P,500));let E=i;E.startsWith("file://")&&(E=E.replace(/^file:\/\/+/,"")),E.startsWith("http://127.0.0.1:1422/")&&console.warn("Native player received streaming URL, using direct file path"),console.log("Loading video in mpv:",E);try{console.log("Calling sendMpvCommand loadfile..."),await Bd({command:["loadfile",E]}),console.log(" loadfile command successful"),await new Promise(P=>setTimeout(P,500));try{await Bd({command:["set","video","yes"]}),console.log(" Enabled video track")}catch(P){console.warn("Could not enable video track:",P)}}catch(P){throw console.error("loadfile command failed:",P),P}console.log("Waiting for video to load and initialize video output...");let M=!1,A=0;const z=30;for(;!M&&A<z;){await new Promise(P=>setTimeout(P,200));try{const P=await Vn("path"),V=await Vn("video-format"),re=await Vn("width"),oe=await Vn("height"),se=await Vn("duration");if(A%5===0&&console.log(`Video loading check (attempt ${A}/${z}):`,{path:P?"loaded":"null",videoFormat:V,width:re,height:oe,duration:se}),V&&re&&re>0&&oe&&oe>0){M=!0,console.log(" Video loaded and video output initialized:",{videoFormat:V,width:re,height:oe,duration:se});break}}catch(P){console.warn("Error checking video status:",P)}A++}if(!M){console.error(" Video failed to load after",z,"attempts");try{const P=await Vn("path"),V=await Vn("video-format"),re=await Vn("video-codec");console.error("Final video status:",{path:P,videoFormat:V,videoCodec:re})}catch(P){console.error("Could not get final video status:",P)}}const O=e||i,F=pM(O);if(F>0&&M)if(F>=duration-5||duration>0&&F/duration>.95)console.log("Stored time is near end, assuming finished. Starting at 0."),hd(O,0);else try{console.log("Seeking to stored time:",F),await L1("time-pos",F),console.log(" Seek successful")}catch(V){console.error("Seek failed:",V)}console.log("Setting up property observation...");try{const P=await fM(["pause","time-pos","duration","eof-reached"],async V=>{if(!w)return;const re=e||i,oe=V["time-pos"]||0,se=V.duration||0,Se=V.pause||!1;oe>0&&hd(re,oe),!Se&&oe>0?d.current||(d.current=setInterval(async()=>{if(w)try{const Me=await Vn("time-pos"),W=await Vn("duration");Me&&Me>0&&md(re,i,W||0,Me)}catch(Me){console.warn("Error saving progress:",Me)}},5e3)):(oe>0&&se>0&&md(re,i,se,oe),d.current&&(clearInterval(d.current),d.current=null)),V["eof-reached"]&&!y.current&&(console.log("EOF reached, resetting playback time and triggering onEnded"),y.current=!0,hd(re,0),md(re,i,se,0),g.current&&g.current())});f.current=P,console.log(" Property observation set up successfully")}catch(P){console.error("Property observation setup failed:",P)}try{console.log("Starting playback..."),await L1("pause",!1),console.log(" Playback started"),await new Promise(P=>setTimeout(P,1e3));try{const P=await Vn("video-out"),V=await Vn("width"),re=await Vn("height"),oe=await Vn("video-format"),se=await Vn("wid");console.log("Video output info:",{vo:P,width:V,height:re,videoFormat:oe,wid:se}),!P||!V||!re?(console.warn(" Video output may not be initialized yet"),console.warn("This is normal for IPC plugin - mpv window should be embedded")):console.log(` Video rendering: ${V}x${re} using ${P}`)}catch(P){console.warn("Could not query video output info:",P)}}catch(P){throw console.error("Failed to start playback:",P),P}}catch(k){console.error("Failed to initialize mpv player:",k),w&&v(`Failed to load video: ${k.message||k}`)}})(),()=>{w=!1,m.current=!1,f.current&&(f.current(),f.current=null),d.current&&(clearInterval(d.current),d.current=null),(async()=>{try{const E=e||i,M=await Vn("time-pos"),A=await Vn("duration");M&&A&&M>0&&A>0&&(hd(E,M),md(E,i,A,M))}catch{}})().then(()=>{mM().catch(console.error),console.log("Player cleanup completed")})}},[i,e,s]),x?c.jsx("div",{className:"flex items-center justify-center w-full h-full bg-black text-white",children:c.jsx("p",{children:x})}):i?c.jsx("div",{ref:u,id:`mpv-player-${s}`,className:"w-full h-full bg-black flex items-center justify-center",style:{position:"relative",width:"100%",height:"100%",minWidth:"100%",minHeight:"100%"},children:!_&&c.jsx("div",{className:"text-white",children:c.jsx("p",{children:"Initializing player..."})})}):c.jsx("div",{className:"flex items-center justify-center w-full h-full bg-black text-white",children:c.jsx("p",{children:"No video file selected"})})},yM=async()=>{try{const i=await Nn();return console.log(`Database initialized. Found ${i.length} existing playlist(s)`),i.length>0?i[0].id:null}catch(i){throw console.error("Failed to initialize database:",i),i}};function Xs(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function a_(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var Oi={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ur={duration:.5,overwrite:!1,delay:0},Ip,Fn,Zt,ts=1e8,Ut=1/ts,Im=Math.PI*2,xM=Im/4,vM=0,r_=Math.sqrt,bM=Math.cos,wM=Math.sin,An=function(e){return typeof e=="string"},fn=function(e){return typeof e=="function"},Ks=function(e){return typeof e=="number"},Fp=function(e){return typeof e>"u"},ks=function(e){return typeof e=="object"},pi=function(e){return e!==!1},Up=function(){return typeof window<"u"},pd=function(e){return fn(e)||An(e)},o_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Wn=Array.isArray,_M=/random\([^)]+\)/g,SM=/,\s*/g,O1=/(?:-?\.?\d|\.)+/gi,c_=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,zr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,J0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,u_=/[+-]=-?[.\d]+/,jM=/[^,'"\[\]\s]+/gi,kM=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,sn,bs,Fm,$p,Vi={},Id={},d_,f_=function(e){return(Id=$r(e,Vi))&&vi},Hp=function(e,s){return console.warn("Invalid property",e,"set to",s,"Missing plugin? gsap.registerPlugin()")},Cc=function(e,s){return!s&&console.warn(e)},h_=function(e,s){return e&&(Vi[e]=s)&&Id&&(Id[e]=s)||Vi},Tc=function(){return 0},NM={suppressEvents:!0,isStart:!0,kill:!1},Nd={suppressEvents:!0,kill:!1},CM={suppressEvents:!0},Yp={},Fl=[],Um={},m_,zi={},em={},V1=30,Cd=[],Xp="",qp=function(e){var s=e[0],l,r;if(ks(s)||fn(s)||(e=[e]),!(l=(s._gsap||{}).harness)){for(r=Cd.length;r--&&!Cd[r].targetTest(s););l=Cd[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new V_(e[r],l)))||e.splice(r,1);return e},Da=function(e){return e._gsap||qp(ns(e))[0]._gsap},p_=function(e,s,l){return(l=e[s])&&fn(l)?e[s]():Fp(l)&&e.getAttribute&&e.getAttribute(s)||l},gi=function(e,s){return(e=e.split(",")).forEach(s)||e},pn=function(e){return Math.round(e*1e5)/1e5||0},nn=function(e){return Math.round(e*1e7)/1e7||0},Lr=function(e,s){var l=s.charAt(0),r=parseFloat(s.substr(2));return e=parseFloat(e),l==="+"?e+r:l==="-"?e-r:l==="*"?e*r:e/r},TM=function(e,s){for(var l=s.length,r=0;e.indexOf(s[r])<0&&++r<l;);return r<l},Fd=function(){var e=Fl.length,s=Fl.slice(0),l,r;for(Um={},Fl.length=0,l=0;l<e;l++)r=s[l],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},Gp=function(e){return!!(e._initted||e._startAt||e.add)},g_=function(e,s,l,r){Fl.length&&!Fn&&Fd(),e.render(s,l,!!(Fn&&s<0&&Gp(e))),Fl.length&&!Fn&&Fd()},y_=function(e){var s=parseFloat(e);return(s||s===0)&&(e+"").match(jM).length<2?s:An(e)?e.trim():e},x_=function(e){return e},Bi=function(e,s){for(var l in s)l in e||(e[l]=s[l]);return e},MM=function(e){return function(s,l){for(var r in l)r in s||r==="duration"&&e||r==="ease"||(s[r]=l[r])}},$r=function(e,s){for(var l in s)e[l]=s[l];return e},B1=function i(e,s){for(var l in s)l!=="__proto__"&&l!=="constructor"&&l!=="prototype"&&(e[l]=ks(s[l])?i(e[l]||(e[l]={}),s[l]):s[l]);return e},Ud=function(e,s){var l={},r;for(r in e)r in s||(l[r]=e[r]);return l},mc=function(e){var s=e.parent||sn,l=e.keyframes?MM(Wn(e.keyframes)):Bi;if(pi(e.inherit))for(;s;)l(e,s.vars.defaults),s=s.parent||s._dp;return e},AM=function(e,s){for(var l=e.length,r=l===s.length;r&&l--&&e[l]===s[l];);return l<0},v_=function(e,s,l,r,u){var d=e[r],f;if(u)for(f=s[u];d&&d[u]>f;)d=d._prev;return d?(s._next=d._next,d._next=s):(s._next=e[l],e[l]=s),s._next?s._next._prev=s:e[r]=s,s._prev=d,s.parent=s._dp=e,s},Zd=function(e,s,l,r){l===void 0&&(l="_first"),r===void 0&&(r="_last");var u=s._prev,d=s._next;u?u._next=d:e[l]===s&&(e[l]=d),d?d._prev=u:e[r]===s&&(e[r]=u),s._next=s._prev=s.parent=null},Yl=function(e,s){e.parent&&(!s||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Pa=function(e,s){if(e&&(!s||s._end>e._dur||s._start<0))for(var l=e;l;)l._dirty=1,l=l.parent;return e},EM=function(e){for(var s=e.parent;s&&s.parent;)s._dirty=1,s.totalDuration(),s=s.parent;return e},$m=function(e,s,l,r){return e._startAt&&(Fn?e._startAt.revert(Nd):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(s,!0,r))},zM=function i(e){return!e||e._ts&&i(e.parent)},I1=function(e){return e._repeat?Hr(e._tTime,e=e.duration()+e._rDelay)*e:0},Hr=function(e,s){var l=Math.floor(e=nn(e/s));return e&&l===e?l-1:l},$d=function(e,s){return(e-s._start)*s._ts+(s._ts>=0?0:s._dirty?s.totalDuration():s._tDur)},Jd=function(e){return e._end=nn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ut)||0))},ef=function(e,s){var l=e._dp;return l&&l.smoothChildTiming&&e._ts&&(e._start=nn(l._time-(e._ts>0?s/e._ts:((e._dirty?e.totalDuration():e._tDur)-s)/-e._ts)),Jd(e),l._dirty||Pa(l,e)),e},b_=function(e,s){var l;if((s._time||!s._dur&&s._initted||s._start<e._time&&(s._dur||!s.add))&&(l=$d(e.rawTime(),s),(!s._dur||Fc(0,s.totalDuration(),l)-s._tTime>Ut)&&s.render(l,!0)),Pa(e,s)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(l=e;l._dp;)l.rawTime()>=0&&l.totalTime(l._tTime),l=l._dp;e._zTime=-Ut}},ws=function(e,s,l,r){return s.parent&&Yl(s),s._start=nn((Ks(l)?l:l||e!==sn?Ji(e,l,s):e._time)+s._delay),s._end=nn(s._start+(s.totalDuration()/Math.abs(s.timeScale())||0)),v_(e,s,"_first","_last",e._sort?"_start":0),Hm(s)||(e._recent=s),r||b_(e,s),e._ts<0&&ef(e,e._tTime),e},w_=function(e,s){return(Vi.ScrollTrigger||Hp("scrollTrigger",s))&&Vi.ScrollTrigger.create(s,e)},__=function(e,s,l,r,u){if(Qp(e,s,u),!e._initted)return 1;if(!l&&e._pt&&!Fn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&m_!==Pi.frame)return Fl.push(e),e._lazy=[u,r],1},DM=function i(e){var s=e.parent;return s&&s._ts&&s._initted&&!s._lock&&(s.rawTime()<0||i(s))},Hm=function(e){var s=e.data;return s==="isFromStart"||s==="isStart"},PM=function(e,s,l,r){var u=e.ratio,d=s<0||!s&&(!e._start&&DM(e)&&!(!e._initted&&Hm(e))||(e._ts<0||e._dp._ts<0)&&!Hm(e))?0:1,f=e._rDelay,m=0,g,y,x;if(f&&e._repeat&&(m=Fc(0,e._tDur,s),y=Hr(m,f),e._yoyo&&y&1&&(d=1-d),y!==Hr(e._tTime,f)&&(u=1-d,e.vars.repeatRefresh&&e._initted&&e.invalidate())),d!==u||Fn||r||e._zTime===Ut||!s&&e._zTime){if(!e._initted&&__(e,s,r,l,m))return;for(x=e._zTime,e._zTime=s||(l?Ut:0),l||(l=s&&!x),e.ratio=d,e._from&&(d=1-d),e._time=0,e._tTime=m,g=e._pt;g;)g.r(d,g.d),g=g._next;s<0&&$m(e,s,l,!0),e._onUpdate&&!l&&Ri(e,"onUpdate"),m&&e._repeat&&!l&&e.parent&&Ri(e,"onRepeat"),(s>=e._tDur||s<0)&&e.ratio===d&&(d&&Yl(e,1),!l&&!Fn&&(Ri(e,d?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=s)},RM=function(e,s,l){var r;if(l>s)for(r=e._first;r&&r._start<=l;){if(r.data==="isPause"&&r._start>s)return r;r=r._next}else for(r=e._last;r&&r._start>=l;){if(r.data==="isPause"&&r._start<s)return r;r=r._prev}},Yr=function(e,s,l,r){var u=e._repeat,d=nn(s)||0,f=e._tTime/e._tDur;return f&&!r&&(e._time*=d/e._dur),e._dur=d,e._tDur=u?u<0?1e10:nn(d*(u+1)+e._rDelay*u):d,f>0&&!r&&ef(e,e._tTime=e._tDur*f),e.parent&&Jd(e),l||Pa(e.parent,e),e},F1=function(e){return e instanceof li?Pa(e):Yr(e,e._dur)},LM={_start:0,endTime:Tc,totalDuration:Tc},Ji=function i(e,s,l){var r=e.labels,u=e._recent||LM,d=e.duration()>=ts?u.endTime(!1):e._dur,f,m,g;return An(s)&&(isNaN(s)||s in r)?(m=s.charAt(0),g=s.substr(-1)==="%",f=s.indexOf("="),m==="<"||m===">"?(f>=0&&(s=s.replace(/=/,"")),(m==="<"?u._start:u.endTime(u._repeat>=0))+(parseFloat(s.substr(1))||0)*(g?(f<0?u:l).totalDuration()/100:1)):f<0?(s in r||(r[s]=d),r[s]):(m=parseFloat(s.charAt(f-1)+s.substr(f+1)),g&&l&&(m=m/100*(Wn(l)?l[0]:l).totalDuration()),f>1?i(e,s.substr(0,f-1),l)+m:d+m)):s==null?d:+s},pc=function(e,s,l){var r=Ks(s[1]),u=(r?2:1)+(e<2?0:1),d=s[u],f,m;if(r&&(d.duration=s[1]),d.parent=l,e){for(f=d,m=l;m&&!("immediateRender"in f);)f=m.vars.defaults||{},m=pi(m.vars.inherit)&&m.parent;d.immediateRender=pi(f.immediateRender),e<2?d.runBackwards=1:d.startAt=s[u-1]}return new _n(s[0],d,s[u+1])},Wl=function(e,s){return e||e===0?s(e):s},Fc=function(e,s,l){return l<e?e:l>s?s:l},qn=function(e,s){return!An(e)||!(s=kM.exec(e))?"":s[1]},OM=function(e,s,l){return Wl(l,function(r){return Fc(e,s,r)})},Ym=[].slice,S_=function(e,s){return e&&ks(e)&&"length"in e&&(!s&&!e.length||e.length-1 in e&&ks(e[0]))&&!e.nodeType&&e!==bs},VM=function(e,s,l){return l===void 0&&(l=[]),e.forEach(function(r){var u;return An(r)&&!s||S_(r,1)?(u=l).push.apply(u,ns(r)):l.push(r)})||l},ns=function(e,s,l){return Zt&&!s&&Zt.selector?Zt.selector(e):An(e)&&!l&&(Fm||!Xr())?Ym.call((s||$p).querySelectorAll(e),0):Wn(e)?VM(e,l):S_(e)?Ym.call(e,0):e?[e]:[]},Xm=function(e){return e=ns(e)[0]||Cc("Invalid scope")||{},function(s){var l=e.current||e.nativeElement||e;return ns(s,l.querySelectorAll?l:l===e?Cc("Invalid scope")||$p.createElement("div"):e)}},j_=function(e){return e.sort(function(){return .5-Math.random()})},k_=function(e){if(fn(e))return e;var s=ks(e)?e:{each:e},l=Ra(s.ease),r=s.from||0,u=parseFloat(s.base)||0,d={},f=r>0&&r<1,m=isNaN(r)||f,g=s.axis,y=r,x=r;return An(r)?y=x={center:.5,edges:.5,end:1}[r]||0:!f&&m&&(y=r[0],x=r[1]),function(v,_,S){var w=(S||s).length,N=d[w],k,E,M,A,z,O,F,P,V;if(!N){if(V=s.grid==="auto"?0:(s.grid||[1,ts])[1],!V){for(F=-ts;F<(F=S[V++].getBoundingClientRect().left)&&V<w;);V<w&&V--}for(N=d[w]=[],k=m?Math.min(V,w)*y-.5:r%V,E=V===ts?0:m?w*x/V-.5:r/V|0,F=0,P=ts,O=0;O<w;O++)M=O%V-k,A=E-(O/V|0),N[O]=z=g?Math.abs(g==="y"?A:M):r_(M*M+A*A),z>F&&(F=z),z<P&&(P=z);r==="random"&&j_(N),N.max=F-P,N.min=P,N.v=w=(parseFloat(s.amount)||parseFloat(s.each)*(V>w?w-1:g?g==="y"?w/V:V:Math.max(V,w/V))||0)*(r==="edges"?-1:1),N.b=w<0?u-w:u,N.u=qn(s.amount||s.each)||0,l=l&&w<0?R_(l):l}return w=(N[v]-N.min)/N.max||0,nn(N.b+(l?l(w):w)*N.v)+N.u}},qm=function(e){var s=Math.pow(10,((e+"").split(".")[1]||"").length);return function(l){var r=nn(Math.round(parseFloat(l)/e)*e*s);return(r-r%1)/s+(Ks(l)?0:qn(l))}},N_=function(e,s){var l=Wn(e),r,u;return!l&&ks(e)&&(r=l=e.radius||ts,e.values?(e=ns(e.values),(u=!Ks(e[0]))&&(r*=r)):e=qm(e.increment)),Wl(s,l?fn(e)?function(d){return u=e(d),Math.abs(u-d)<=r?u:d}:function(d){for(var f=parseFloat(u?d.x:d),m=parseFloat(u?d.y:0),g=ts,y=0,x=e.length,v,_;x--;)u?(v=e[x].x-f,_=e[x].y-m,v=v*v+_*_):v=Math.abs(e[x]-f),v<g&&(g=v,y=x);return y=!r||g<=r?e[y]:d,u||y===d||Ks(d)?y:y+qn(d)}:qm(e))},C_=function(e,s,l,r){return Wl(Wn(e)?!s:l===!0?!!(l=0):!r,function(){return Wn(e)?e[~~(Math.random()*e.length)]:(l=l||1e-5)&&(r=l<1?Math.pow(10,(l+"").length-2):1)&&Math.floor(Math.round((e-l/2+Math.random()*(s-e+l*.99))/l)*l*r)/r})},BM=function(){for(var e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return function(r){return s.reduce(function(u,d){return d(u)},r)}},IM=function(e,s){return function(l){return e(parseFloat(l))+(s||qn(l))}},FM=function(e,s,l){return M_(e,s,0,1,l)},T_=function(e,s,l){return Wl(l,function(r){return e[~~s(r)]})},UM=function i(e,s,l){var r=s-e;return Wn(e)?T_(e,i(0,e.length),s):Wl(l,function(u){return(r+(u-e)%r)%r+e})},$M=function i(e,s,l){var r=s-e,u=r*2;return Wn(e)?T_(e,i(0,e.length-1),s):Wl(l,function(d){return d=(u+(d-e)%u)%u||0,e+(d>r?u-d:d)})},Mc=function(e){return e.replace(_M,function(s){var l=s.indexOf("[")+1,r=s.substring(l||7,l?s.indexOf("]"):s.length-1).split(SM);return C_(l?r:+r[0],l?0:+r[1],+r[2]||1e-5)})},M_=function(e,s,l,r,u){var d=s-e,f=r-l;return Wl(u,function(m){return l+((m-e)/d*f||0)})},HM=function i(e,s,l,r){var u=isNaN(e+s)?0:function(_){return(1-_)*e+_*s};if(!u){var d=An(e),f={},m,g,y,x,v;if(l===!0&&(r=1)&&(l=null),d)e={p:e},s={p:s};else if(Wn(e)&&!Wn(s)){for(y=[],x=e.length,v=x-2,g=1;g<x;g++)y.push(i(e[g-1],e[g]));x--,u=function(S){S*=x;var w=Math.min(v,~~S);return y[w](S-w)},l=s}else r||(e=$r(Wn(e)?[]:{},e));if(!y){for(m in s)Wp.call(f,e,m,"get",s[m]);u=function(S){return Jp(S,f)||(d?e.p:e)}}}return Wl(l,u)},U1=function(e,s,l){var r=e.labels,u=ts,d,f,m;for(d in r)f=r[d]-s,f<0==!!l&&f&&u>(f=Math.abs(f))&&(m=d,u=f);return m},Ri=function(e,s,l){var r=e.vars,u=r[s],d=Zt,f=e._ctx,m,g,y;if(u)return m=r[s+"Params"],g=r.callbackScope||e,l&&Fl.length&&Fd(),f&&(Zt=f),y=m?u.apply(g,m):u.call(g),Zt=d,y},sc=function(e){return Yl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Fn),e.progress()<1&&Ri(e,"onInterrupt"),e},Dr,A_=[],E_=function(e){if(e)if(e=!e.name&&e.default||e,Up()||e.headless){var s=e.name,l=fn(e),r=s&&!l&&e.init?function(){this._props=[]}:e,u={init:Tc,render:Jp,add:Wp,kill:aA,modifier:lA,rawVars:0},d={targetTest:0,get:0,getSetter:Zp,aliases:{},register:0};if(Xr(),e!==r){if(zi[s])return;Bi(r,Bi(Ud(e,u),d)),$r(r.prototype,$r(u,Ud(e,d))),zi[r.prop=s]=r,e.targetTest&&(Cd.push(r),Yp[s]=1),s=(s==="css"?"CSS":s.charAt(0).toUpperCase()+s.substr(1))+"Plugin"}h_(s,r),e.register&&e.register(vi,r,yi)}else A_.push(e)},Ft=255,lc={aqua:[0,Ft,Ft],lime:[0,Ft,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ft],navy:[0,0,128],white:[Ft,Ft,Ft],olive:[128,128,0],yellow:[Ft,Ft,0],orange:[Ft,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ft,0,0],pink:[Ft,192,203],cyan:[0,Ft,Ft],transparent:[Ft,Ft,Ft,0]},tm=function(e,s,l){return e+=e<0?1:e>1?-1:0,(e*6<1?s+(l-s)*e*6:e<.5?l:e*3<2?s+(l-s)*(2/3-e)*6:s)*Ft+.5|0},z_=function(e,s,l){var r=e?Ks(e)?[e>>16,e>>8&Ft,e&Ft]:0:lc.black,u,d,f,m,g,y,x,v,_,S;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),lc[e])r=lc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(u=e.charAt(1),d=e.charAt(2),f=e.charAt(3),e="#"+u+u+d+d+f+f+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Ft,r&Ft,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Ft,e&Ft]}else if(e.substr(0,3)==="hsl"){if(r=S=e.match(O1),!s)m=+r[0]%360/360,g=+r[1]/100,y=+r[2]/100,d=y<=.5?y*(g+1):y+g-y*g,u=y*2-d,r.length>3&&(r[3]*=1),r[0]=tm(m+1/3,u,d),r[1]=tm(m,u,d),r[2]=tm(m-1/3,u,d);else if(~e.indexOf("="))return r=e.match(c_),l&&r.length<4&&(r[3]=1),r}else r=e.match(O1)||lc.transparent;r=r.map(Number)}return s&&!S&&(u=r[0]/Ft,d=r[1]/Ft,f=r[2]/Ft,x=Math.max(u,d,f),v=Math.min(u,d,f),y=(x+v)/2,x===v?m=g=0:(_=x-v,g=y>.5?_/(2-x-v):_/(x+v),m=x===u?(d-f)/_+(d<f?6:0):x===d?(f-u)/_+2:(u-d)/_+4,m*=60),r[0]=~~(m+.5),r[1]=~~(g*100+.5),r[2]=~~(y*100+.5)),l&&r.length<4&&(r[3]=1),r},D_=function(e){var s=[],l=[],r=-1;return e.split(Ul).forEach(function(u){var d=u.match(zr)||[];s.push.apply(s,d),l.push(r+=d.length+1)}),s.c=l,s},$1=function(e,s,l){var r="",u=(e+r).match(Ul),d=s?"hsla(":"rgba(",f=0,m,g,y,x;if(!u)return e;if(u=u.map(function(v){return(v=z_(v,s,1))&&d+(s?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),l&&(y=D_(e),m=l.c,m.join(r)!==y.c.join(r)))for(g=e.replace(Ul,"1").split(zr),x=g.length-1;f<x;f++)r+=g[f]+(~m.indexOf(f)?u.shift()||d+"0,0,0,0)":(y.length?y:u.length?u:l).shift());if(!g)for(g=e.split(Ul),x=g.length-1;f<x;f++)r+=g[f]+u[f];return r+g[x]},Ul=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in lc)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),YM=/hsl[a]?\(/,P_=function(e){var s=e.join(" "),l;if(Ul.lastIndex=0,Ul.test(s))return l=YM.test(s),e[1]=$1(e[1],l),e[0]=$1(e[0],l,D_(e[1])),!0},Ac,Pi=(function(){var i=Date.now,e=500,s=33,l=i(),r=l,u=1e3/240,d=u,f=[],m,g,y,x,v,_,S=function w(N){var k=i()-r,E=N===!0,M,A,z,O;if((k>e||k<0)&&(l+=k-s),r+=k,z=r-l,M=z-d,(M>0||E)&&(O=++x.frame,v=z-x.time*1e3,x.time=z=z/1e3,d+=M+(M>=u?4:u-M),A=1),E||(m=g(w)),A)for(_=0;_<f.length;_++)f[_](z,v,O,N)};return x={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(N){return v/(1e3/(N||60))},wake:function(){d_&&(!Fm&&Up()&&(bs=Fm=window,$p=bs.document||{},Vi.gsap=vi,(bs.gsapVersions||(bs.gsapVersions=[])).push(vi.version),f_(Id||bs.GreenSockGlobals||!bs.gsap&&bs||{}),A_.forEach(E_)),y=typeof requestAnimationFrame<"u"&&requestAnimationFrame,m&&x.sleep(),g=y||function(N){return setTimeout(N,d-x.time*1e3+1|0)},Ac=1,S(2))},sleep:function(){(y?cancelAnimationFrame:clearTimeout)(m),Ac=0,g=Tc},lagSmoothing:function(N,k){e=N||1/0,s=Math.min(k||33,e)},fps:function(N){u=1e3/(N||240),d=x.time*1e3+u},add:function(N,k,E){var M=k?function(A,z,O,F){N(A,z,O,F),x.remove(M)}:N;return x.remove(N),f[E?"unshift":"push"](M),Xr(),M},remove:function(N,k){~(k=f.indexOf(N))&&f.splice(k,1)&&_>=k&&_--},_listeners:f},x})(),Xr=function(){return!Ac&&Pi.wake()},kt={},XM=/^[\d.\-M][\d.\-,\s]/,qM=/["']/g,GM=function(e){for(var s={},l=e.substr(1,e.length-3).split(":"),r=l[0],u=1,d=l.length,f,m,g;u<d;u++)m=l[u],f=u!==d-1?m.lastIndexOf(","):m.length,g=m.substr(0,f),s[r]=isNaN(g)?g.replace(qM,"").trim():+g,r=m.substr(f+1).trim();return s},WM=function(e){var s=e.indexOf("(")+1,l=e.indexOf(")"),r=e.indexOf("(",s);return e.substring(s,~r&&r<l?e.indexOf(")",l+1):l)},QM=function(e){var s=(e+"").split("("),l=kt[s[0]];return l&&s.length>1&&l.config?l.config.apply(null,~e.indexOf("{")?[GM(s[1])]:WM(e).split(",").map(y_)):kt._CE&&XM.test(e)?kt._CE("",e):l},R_=function(e){return function(s){return 1-e(1-s)}},L_=function i(e,s){for(var l=e._first,r;l;)l instanceof li?i(l,s):l.vars.yoyoEase&&(!l._yoyo||!l._repeat)&&l._yoyo!==s&&(l.timeline?i(l.timeline,s):(r=l._ease,l._ease=l._yEase,l._yEase=r,l._yoyo=s)),l=l._next},Ra=function(e,s){return e&&(fn(e)?e:kt[e]||QM(e))||s},Va=function(e,s,l,r){l===void 0&&(l=function(m){return 1-s(1-m)}),r===void 0&&(r=function(m){return m<.5?s(m*2)/2:1-s((1-m)*2)/2});var u={easeIn:s,easeOut:l,easeInOut:r},d;return gi(e,function(f){kt[f]=Vi[f]=u,kt[d=f.toLowerCase()]=l;for(var m in u)kt[d+(m==="easeIn"?".in":m==="easeOut"?".out":".inOut")]=kt[f+"."+m]=u[m]}),u},O_=function(e){return function(s){return s<.5?(1-e(1-s*2))/2:.5+e((s-.5)*2)/2}},nm=function i(e,s,l){var r=s>=1?s:1,u=(l||(e?.3:.45))/(s<1?s:1),d=u/Im*(Math.asin(1/r)||0),f=function(y){return y===1?1:r*Math.pow(2,-10*y)*wM((y-d)*u)+1},m=e==="out"?f:e==="in"?function(g){return 1-f(1-g)}:O_(f);return u=Im/u,m.config=function(g,y){return i(e,g,y)},m},im=function i(e,s){s===void 0&&(s=1.70158);var l=function(d){return d?--d*d*((s+1)*d+s)+1:0},r=e==="out"?l:e==="in"?function(u){return 1-l(1-u)}:O_(l);return r.config=function(u){return i(e,u)},r};gi("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var s=e<5?e+1:e;Va(i+",Power"+(s-1),e?function(l){return Math.pow(l,s)}:function(l){return l},function(l){return 1-Math.pow(1-l,s)},function(l){return l<.5?Math.pow(l*2,s)/2:1-Math.pow((1-l)*2,s)/2})});kt.Linear.easeNone=kt.none=kt.Linear.easeIn;Va("Elastic",nm("in"),nm("out"),nm());(function(i,e){var s=1/e,l=2*s,r=2.5*s,u=function(f){return f<s?i*f*f:f<l?i*Math.pow(f-1.5/e,2)+.75:f<r?i*(f-=2.25/e)*f+.9375:i*Math.pow(f-2.625/e,2)+.984375};Va("Bounce",function(d){return 1-u(1-d)},u)})(7.5625,2.75);Va("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});Va("Circ",function(i){return-(r_(1-i*i)-1)});Va("Sine",function(i){return i===1?1:-bM(i*xM)+1});Va("Back",im("in"),im("out"),im());kt.SteppedEase=kt.steps=Vi.SteppedEase={config:function(e,s){e===void 0&&(e=1);var l=1/e,r=e+(s?0:1),u=s?1:0,d=1-Ut;return function(f){return((r*Fc(0,d,f)|0)+u)*l}}};Ur.ease=kt["quad.out"];gi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return Xp+=i+","+i+"Params,"});var V_=function(e,s){this.id=vM++,e._gsap=this,this.target=e,this.harness=s,this.get=s?s.get:p_,this.set=s?s.getSetter:Zp},Ec=(function(){function i(s){this.vars=s,this._delay=+s.delay||0,(this._repeat=s.repeat===1/0?-2:s.repeat||0)&&(this._rDelay=s.repeatDelay||0,this._yoyo=!!s.yoyo||!!s.yoyoEase),this._ts=1,Yr(this,+s.duration,1,1),this.data=s.data,Zt&&(this._ctx=Zt,Zt.data.push(this)),Ac||Pi.wake()}var e=i.prototype;return e.delay=function(l){return l||l===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+l-this._delay),this._delay=l,this):this._delay},e.duration=function(l){return arguments.length?this.totalDuration(this._repeat>0?l+(l+this._rDelay)*this._repeat:l):this.totalDuration()&&this._dur},e.totalDuration=function(l){return arguments.length?(this._dirty=0,Yr(this,this._repeat<0?l:(l-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(l,r){if(Xr(),!arguments.length)return this._tTime;var u=this._dp;if(u&&u.smoothChildTiming&&this._ts){for(ef(this,l),!u._dp||u.parent||b_(u,this);u&&u.parent;)u.parent._time!==u._start+(u._ts>=0?u._tTime/u._ts:(u.totalDuration()-u._tTime)/-u._ts)&&u.totalTime(u._tTime,!0),u=u.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&l<this._tDur||this._ts<0&&l>0||!this._tDur&&!l)&&ws(this._dp,this,this._start-this._delay)}return(this._tTime!==l||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Ut||!this._initted&&this._dur&&l||!l&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=l),g_(this,l,r)),this},e.time=function(l,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),l+I1(this))%(this._dur+this._rDelay)||(l?this._dur:0),r):this._time},e.totalProgress=function(l,r){return arguments.length?this.totalTime(this.totalDuration()*l,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(l,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-l:l)+I1(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(l,r){var u=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(l-1)*u,r):this._repeat?Hr(this._tTime,u)+1:1},e.timeScale=function(l,r){if(!arguments.length)return this._rts===-Ut?0:this._rts;if(this._rts===l)return this;var u=this.parent&&this._ts?$d(this.parent._time,this):this._tTime;return this._rts=+l||0,this._ts=this._ps||l===-Ut?0:this._rts,this.totalTime(Fc(-Math.abs(this._delay),this.totalDuration(),u),r!==!1),Jd(this),EM(this)},e.paused=function(l){return arguments.length?(this._ps!==l&&(this._ps=l,l?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Xr(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ut&&(this._tTime-=Ut)))),this):this._ps},e.startTime=function(l){if(arguments.length){this._start=nn(l);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&ws(r,this,this._start-this._delay),this}return this._start},e.endTime=function(l){return this._start+(pi(l)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(l){var r=this.parent||this._dp;return r?l&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?$d(r.rawTime(l),this):this._tTime:this._tTime},e.revert=function(l){l===void 0&&(l=CM);var r=Fn;return Fn=l,Gp(this)&&(this.timeline&&this.timeline.revert(l),this.totalTime(-.01,l.suppressEvents)),this.data!=="nested"&&l.kill!==!1&&this.kill(),Fn=r,this},e.globalTime=function(l){for(var r=this,u=arguments.length?l:r.rawTime();r;)u=r._start+u/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(l):u},e.repeat=function(l){return arguments.length?(this._repeat=l===1/0?-2:l,F1(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(l){if(arguments.length){var r=this._time;return this._rDelay=l,F1(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(l){return arguments.length?(this._yoyo=l,this):this._yoyo},e.seek=function(l,r){return this.totalTime(Ji(this,l),pi(r))},e.restart=function(l,r){return this.play().totalTime(l?-this._delay:0,pi(r)),this._dur||(this._zTime=-Ut),this},e.play=function(l,r){return l!=null&&this.seek(l,r),this.reversed(!1).paused(!1)},e.reverse=function(l,r){return l!=null&&this.seek(l||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(l,r){return l!=null&&this.seek(l,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(l){return arguments.length?(!!l!==this.reversed()&&this.timeScale(-this._rts||(l?-Ut:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ut,this},e.isActive=function(){var l=this.parent||this._dp,r=this._start,u;return!!(!l||this._ts&&this._initted&&l.isActive()&&(u=l.rawTime(!0))>=r&&u<this.endTime(!0)-Ut)},e.eventCallback=function(l,r,u){var d=this.vars;return arguments.length>1?(r?(d[l]=r,u&&(d[l+"Params"]=u),l==="onUpdate"&&(this._onUpdate=r)):delete d[l],this):d[l]},e.then=function(l){var r=this,u=r._prom;return new Promise(function(d){var f=fn(l)?l:x_,m=function(){var y=r.then;r.then=null,u&&u(),fn(f)&&(f=f(r))&&(f.then||f===r)&&(r.then=y),d(f),r.then=y};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?m():r._prom=m})},e.kill=function(){sc(this)},i})();Bi(Ec.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ut,_prom:0,_ps:!1,_rts:1});var li=(function(i){a_(e,i);function e(l,r){var u;return l===void 0&&(l={}),u=i.call(this,l)||this,u.labels={},u.smoothChildTiming=!!l.smoothChildTiming,u.autoRemoveChildren=!!l.autoRemoveChildren,u._sort=pi(l.sortChildren),sn&&ws(l.parent||sn,Xs(u),r),l.reversed&&u.reverse(),l.paused&&u.paused(!0),l.scrollTrigger&&w_(Xs(u),l.scrollTrigger),u}var s=e.prototype;return s.to=function(r,u,d){return pc(0,arguments,this),this},s.from=function(r,u,d){return pc(1,arguments,this),this},s.fromTo=function(r,u,d,f){return pc(2,arguments,this),this},s.set=function(r,u,d){return u.duration=0,u.parent=this,mc(u).repeatDelay||(u.repeat=0),u.immediateRender=!!u.immediateRender,new _n(r,u,Ji(this,d),1),this},s.call=function(r,u,d){return ws(this,_n.delayedCall(0,r,u),d)},s.staggerTo=function(r,u,d,f,m,g,y){return d.duration=u,d.stagger=d.stagger||f,d.onComplete=g,d.onCompleteParams=y,d.parent=this,new _n(r,d,Ji(this,m)),this},s.staggerFrom=function(r,u,d,f,m,g,y){return d.runBackwards=1,mc(d).immediateRender=pi(d.immediateRender),this.staggerTo(r,u,d,f,m,g,y)},s.staggerFromTo=function(r,u,d,f,m,g,y,x){return f.startAt=d,mc(f).immediateRender=pi(f.immediateRender),this.staggerTo(r,u,f,m,g,y,x)},s.render=function(r,u,d){var f=this._time,m=this._dirty?this.totalDuration():this._tDur,g=this._dur,y=r<=0?0:nn(r),x=this._zTime<0!=r<0&&(this._initted||!g),v,_,S,w,N,k,E,M,A,z,O,F;if(this!==sn&&y>m&&r>=0&&(y=m),y!==this._tTime||d||x){if(f!==this._time&&g&&(y+=this._time-f,r+=this._time-f),v=y,A=this._start,M=this._ts,k=!M,x&&(g||(f=this._zTime),(r||!u)&&(this._zTime=r)),this._repeat){if(O=this._yoyo,N=g+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(N*100+r,u,d);if(v=nn(y%N),y===m?(w=this._repeat,v=g):(z=nn(y/N),w=~~z,w&&w===z&&(v=g,w--),v>g&&(v=g)),z=Hr(this._tTime,N),!f&&this._tTime&&z!==w&&this._tTime-z*N-this._dur<=0&&(z=w),O&&w&1&&(v=g-v,F=1),w!==z&&!this._lock){var P=O&&z&1,V=P===(O&&w&1);if(w<z&&(P=!P),f=P?0:y%g?g:y,this._lock=1,this.render(f||(F?0:nn(w*N)),u,!g)._lock=0,this._tTime=y,!u&&this.parent&&Ri(this,"onRepeat"),this.vars.repeatRefresh&&!F&&(this.invalidate()._lock=1,z=w),f&&f!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,m=this._tDur,V&&(this._lock=2,f=P?g:-1e-4,this.render(f,!0),this.vars.repeatRefresh&&!F&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;L_(this,F)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=RM(this,nn(f),nn(v)),E&&(y-=v-(v=E._start))),this._tTime=y,this._time=v,this._act=!M,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,f=0),!f&&y&&g&&!u&&!z&&(Ri(this,"onStart"),this._tTime!==y))return this;if(v>=f&&r>=0)for(_=this._first;_;){if(S=_._next,(_._act||v>=_._start)&&_._ts&&E!==_){if(_.parent!==this)return this.render(r,u,d);if(_.render(_._ts>0?(v-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(v-_._start)*_._ts,u,d),v!==this._time||!this._ts&&!k){E=0,S&&(y+=this._zTime=-Ut);break}}_=S}else{_=this._last;for(var re=r<0?r:v;_;){if(S=_._prev,(_._act||re<=_._end)&&_._ts&&E!==_){if(_.parent!==this)return this.render(r,u,d);if(_.render(_._ts>0?(re-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(re-_._start)*_._ts,u,d||Fn&&Gp(_)),v!==this._time||!this._ts&&!k){E=0,S&&(y+=this._zTime=re?-Ut:Ut);break}}_=S}}if(E&&!u&&(this.pause(),E.render(v>=f?0:-Ut)._zTime=v>=f?1:-1,this._ts))return this._start=A,Jd(this),this.render(r,u,d);this._onUpdate&&!u&&Ri(this,"onUpdate",!0),(y===m&&this._tTime>=this.totalDuration()||!y&&f)&&(A===this._start||Math.abs(M)!==Math.abs(this._ts))&&(this._lock||((r||!g)&&(y===m&&this._ts>0||!y&&this._ts<0)&&Yl(this,1),!u&&!(r<0&&!f)&&(y||f||!m)&&(Ri(this,y===m&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<m&&this.timeScale()>0)&&this._prom())))}return this},s.add=function(r,u){var d=this;if(Ks(u)||(u=Ji(this,u,r)),!(r instanceof Ec)){if(Wn(r))return r.forEach(function(f){return d.add(f,u)}),this;if(An(r))return this.addLabel(r,u);if(fn(r))r=_n.delayedCall(0,r);else return this}return this!==r?ws(this,r,u):this},s.getChildren=function(r,u,d,f){r===void 0&&(r=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),f===void 0&&(f=-ts);for(var m=[],g=this._first;g;)g._start>=f&&(g instanceof _n?u&&m.push(g):(d&&m.push(g),r&&m.push.apply(m,g.getChildren(!0,u,d)))),g=g._next;return m},s.getById=function(r){for(var u=this.getChildren(1,1,1),d=u.length;d--;)if(u[d].vars.id===r)return u[d]},s.remove=function(r){return An(r)?this.removeLabel(r):fn(r)?this.killTweensOf(r):(r.parent===this&&Zd(this,r),r===this._recent&&(this._recent=this._last),Pa(this))},s.totalTime=function(r,u){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=nn(Pi.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,u),this._forcing=0,this):this._tTime},s.addLabel=function(r,u){return this.labels[r]=Ji(this,u),this},s.removeLabel=function(r){return delete this.labels[r],this},s.addPause=function(r,u,d){var f=_n.delayedCall(0,u||Tc,d);return f.data="isPause",this._hasPause=1,ws(this,f,Ji(this,r))},s.removePause=function(r){var u=this._first;for(r=Ji(this,r);u;)u._start===r&&u.data==="isPause"&&Yl(u),u=u._next},s.killTweensOf=function(r,u,d){for(var f=this.getTweensOf(r,d),m=f.length;m--;)Vl!==f[m]&&f[m].kill(r,u);return this},s.getTweensOf=function(r,u){for(var d=[],f=ns(r),m=this._first,g=Ks(u),y;m;)m instanceof _n?TM(m._targets,f)&&(g?(!Vl||m._initted&&m._ts)&&m.globalTime(0)<=u&&m.globalTime(m.totalDuration())>u:!u||m.isActive())&&d.push(m):(y=m.getTweensOf(f,u)).length&&d.push.apply(d,y),m=m._next;return d},s.tweenTo=function(r,u){u=u||{};var d=this,f=Ji(d,r),m=u,g=m.startAt,y=m.onStart,x=m.onStartParams,v=m.immediateRender,_,S=_n.to(d,Bi({ease:u.ease||"none",lazy:!1,immediateRender:!1,time:f,overwrite:"auto",duration:u.duration||Math.abs((f-(g&&"time"in g?g.time:d._time))/d.timeScale())||Ut,onStart:function(){if(d.pause(),!_){var N=u.duration||Math.abs((f-(g&&"time"in g?g.time:d._time))/d.timeScale());S._dur!==N&&Yr(S,N,0,1).render(S._time,!0,!0),_=1}y&&y.apply(S,x||[])}},u));return v?S.render(0):S},s.tweenFromTo=function(r,u,d){return this.tweenTo(u,Bi({startAt:{time:Ji(this,r)}},d))},s.recent=function(){return this._recent},s.nextLabel=function(r){return r===void 0&&(r=this._time),U1(this,Ji(this,r))},s.previousLabel=function(r){return r===void 0&&(r=this._time),U1(this,Ji(this,r),1)},s.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Ut)},s.shiftChildren=function(r,u,d){d===void 0&&(d=0);var f=this._first,m=this.labels,g;for(r=nn(r);f;)f._start>=d&&(f._start+=r,f._end+=r),f=f._next;if(u)for(g in m)m[g]>=d&&(m[g]+=r);return Pa(this)},s.invalidate=function(r){var u=this._first;for(this._lock=0;u;)u.invalidate(r),u=u._next;return i.prototype.invalidate.call(this,r)},s.clear=function(r){r===void 0&&(r=!0);for(var u=this._first,d;u;)d=u._next,this.remove(u),u=d;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Pa(this)},s.totalDuration=function(r){var u=0,d=this,f=d._last,m=ts,g,y,x;if(arguments.length)return d.timeScale((d._repeat<0?d.duration():d.totalDuration())/(d.reversed()?-r:r));if(d._dirty){for(x=d.parent;f;)g=f._prev,f._dirty&&f.totalDuration(),y=f._start,y>m&&d._sort&&f._ts&&!d._lock?(d._lock=1,ws(d,f,y-f._delay,1)._lock=0):m=y,y<0&&f._ts&&(u-=y,(!x&&!d._dp||x&&x.smoothChildTiming)&&(d._start+=nn(y/d._ts),d._time-=y,d._tTime-=y),d.shiftChildren(-y,!1,-1/0),m=0),f._end>u&&f._ts&&(u=f._end),f=g;Yr(d,d===sn&&d._time>u?d._time:u,1,1),d._dirty=0}return d._tDur},e.updateRoot=function(r){if(sn._ts&&(g_(sn,$d(r,sn)),m_=Pi.frame),Pi.frame>=V1){V1+=Oi.autoSleep||120;var u=sn._first;if((!u||!u._ts)&&Oi.autoSleep&&Pi._listeners.length<2){for(;u&&!u._ts;)u=u._next;u||Pi.sleep()}}},e})(Ec);Bi(li.prototype,{_lock:0,_hasPause:0,_forcing:0});var KM=function(e,s,l,r,u,d,f){var m=new yi(this._pt,e,s,0,1,H_,null,u),g=0,y=0,x,v,_,S,w,N,k,E;for(m.b=l,m.e=r,l+="",r+="",(k=~r.indexOf("random("))&&(r=Mc(r)),d&&(E=[l,r],d(E,e,s),l=E[0],r=E[1]),v=l.match(J0)||[];x=J0.exec(r);)S=x[0],w=r.substring(g,x.index),_?_=(_+1)%5:w.substr(-5)==="rgba("&&(_=1),S!==v[y++]&&(N=parseFloat(v[y-1])||0,m._pt={_next:m._pt,p:w||y===1?w:",",s:N,c:S.charAt(1)==="="?Lr(N,S)-N:parseFloat(S)-N,m:_&&_<4?Math.round:0},g=J0.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=f,(u_.test(r)||k)&&(m.e=0),this._pt=m,m},Wp=function(e,s,l,r,u,d,f,m,g,y){fn(r)&&(r=r(u||0,e,d));var x=e[s],v=l!=="get"?l:fn(x)?g?e[s.indexOf("set")||!fn(e["get"+s.substr(3)])?s:"get"+s.substr(3)](g):e[s]():x,_=fn(x)?g?nA:U_:Kp,S;if(An(r)&&(~r.indexOf("random(")&&(r=Mc(r)),r.charAt(1)==="="&&(S=Lr(v,r)+(qn(v)||0),(S||S===0)&&(r=S))),!y||v!==r||Gm)return!isNaN(v*r)&&r!==""?(S=new yi(this._pt,e,s,+v||0,r-(v||0),typeof x=="boolean"?sA:$_,0,_),g&&(S.fp=g),f&&S.modifier(f,this,e),this._pt=S):(!x&&!(s in e)&&Hp(s,r),KM.call(this,e,s,v,r,_,m||Oi.stringFilter,g))},ZM=function(e,s,l,r,u){if(fn(e)&&(e=gc(e,u,s,l,r)),!ks(e)||e.style&&e.nodeType||Wn(e)||o_(e))return An(e)?gc(e,u,s,l,r):e;var d={},f;for(f in e)d[f]=gc(e[f],u,s,l,r);return d},B_=function(e,s,l,r,u,d){var f,m,g,y;if(zi[e]&&(f=new zi[e]).init(u,f.rawVars?s[e]:ZM(s[e],r,u,d,l),l,r,d)!==!1&&(l._pt=m=new yi(l._pt,u,e,0,1,f.render,f,0,f.priority),l!==Dr))for(g=l._ptLookup[l._targets.indexOf(u)],y=f._props.length;y--;)g[f._props[y]]=m;return f},Vl,Gm,Qp=function i(e,s,l){var r=e.vars,u=r.ease,d=r.startAt,f=r.immediateRender,m=r.lazy,g=r.onUpdate,y=r.runBackwards,x=r.yoyoEase,v=r.keyframes,_=r.autoRevert,S=e._dur,w=e._startAt,N=e._targets,k=e.parent,E=k&&k.data==="nested"?k.vars.targets:N,M=e._overwrite==="auto"&&!Ip,A=e.timeline,z,O,F,P,V,re,oe,se,Se,Ee,Me,W,le;if(A&&(!v||!u)&&(u="none"),e._ease=Ra(u,Ur.ease),e._yEase=x?R_(Ra(x===!0?u:x,Ur.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),e._from=!A&&!!r.runBackwards,!A||v&&!r.stagger){if(se=N[0]?Da(N[0]).harness:0,W=se&&r[se.prop],z=Ud(r,Yp),w&&(w._zTime<0&&w.progress(1),s<0&&y&&f&&!_?w.render(-1,!0):w.revert(y&&S?Nd:NM),w._lazy=0),d){if(Yl(e._startAt=_n.set(N,Bi({data:"isStart",overwrite:!1,parent:k,immediateRender:!0,lazy:!w&&pi(m),startAt:null,delay:0,onUpdate:g&&function(){return Ri(e,"onUpdate")},stagger:0},d))),e._startAt._dp=0,e._startAt._sat=e,s<0&&(Fn||!f&&!_)&&e._startAt.revert(Nd),f&&S&&s<=0&&l<=0){s&&(e._zTime=s);return}}else if(y&&S&&!w){if(s&&(f=!1),F=Bi({overwrite:!1,data:"isFromStart",lazy:f&&!w&&pi(m),immediateRender:f,stagger:0,parent:k},z),W&&(F[se.prop]=W),Yl(e._startAt=_n.set(N,F)),e._startAt._dp=0,e._startAt._sat=e,s<0&&(Fn?e._startAt.revert(Nd):e._startAt.render(-1,!0)),e._zTime=s,!f)i(e._startAt,Ut,Ut);else if(!s)return}for(e._pt=e._ptCache=0,m=S&&pi(m)||m&&!S,O=0;O<N.length;O++){if(V=N[O],oe=V._gsap||qp(N)[O]._gsap,e._ptLookup[O]=Ee={},Um[oe.id]&&Fl.length&&Fd(),Me=E===N?O:E.indexOf(V),se&&(Se=new se).init(V,W||z,e,Me,E)!==!1&&(e._pt=P=new yi(e._pt,V,Se.name,0,1,Se.render,Se,0,Se.priority),Se._props.forEach(function(X){Ee[X]=P}),Se.priority&&(re=1)),!se||W)for(F in z)zi[F]&&(Se=B_(F,z,e,Me,V,E))?Se.priority&&(re=1):Ee[F]=P=Wp.call(e,V,F,"get",z[F],Me,E,0,r.stringFilter);e._op&&e._op[O]&&e.kill(V,e._op[O]),M&&e._pt&&(Vl=e,sn.killTweensOf(V,Ee,e.globalTime(s)),le=!e.parent,Vl=0),e._pt&&m&&(Um[oe.id]=1)}re&&Y_(e),e._onInit&&e._onInit(e)}e._onUpdate=g,e._initted=(!e._op||e._pt)&&!le,v&&s<=0&&A.render(ts,!0,!0)},JM=function(e,s,l,r,u,d,f,m){var g=(e._pt&&e._ptCache||(e._ptCache={}))[s],y,x,v,_;if(!g)for(g=e._ptCache[s]=[],v=e._ptLookup,_=e._targets.length;_--;){if(y=v[_][s],y&&y.d&&y.d._pt)for(y=y.d._pt;y&&y.p!==s&&y.fp!==s;)y=y._next;if(!y)return Gm=1,e.vars[s]="+=0",Qp(e,f),Gm=0,m?Cc(s+" not eligible for reset"):1;g.push(y)}for(_=g.length;_--;)x=g[_],y=x._pt||x,y.s=(r||r===0)&&!u?r:y.s+(r||0)+d*y.c,y.c=l-y.s,x.e&&(x.e=pn(l)+qn(x.e)),x.b&&(x.b=y.s+qn(x.b))},eA=function(e,s){var l=e[0]?Da(e[0]).harness:0,r=l&&l.aliases,u,d,f,m;if(!r)return s;u=$r({},s);for(d in r)if(d in u)for(m=r[d].split(","),f=m.length;f--;)u[m[f]]=u[d];return u},tA=function(e,s,l,r){var u=s.ease||r||"power1.inOut",d,f;if(Wn(s))f=l[e]||(l[e]=[]),s.forEach(function(m,g){return f.push({t:g/(s.length-1)*100,v:m,e:u})});else for(d in s)f=l[d]||(l[d]=[]),d==="ease"||f.push({t:parseFloat(e),v:s[d],e:u})},gc=function(e,s,l,r,u){return fn(e)?e.call(s,l,r,u):An(e)&&~e.indexOf("random(")?Mc(e):e},I_=Xp+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",F_={};gi(I_+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return F_[i]=1});var _n=(function(i){a_(e,i);function e(l,r,u,d){var f;typeof r=="number"&&(u.duration=r,r=u,u=null),f=i.call(this,d?r:mc(r))||this;var m=f.vars,g=m.duration,y=m.delay,x=m.immediateRender,v=m.stagger,_=m.overwrite,S=m.keyframes,w=m.defaults,N=m.scrollTrigger,k=m.yoyoEase,E=r.parent||sn,M=(Wn(l)||o_(l)?Ks(l[0]):"length"in r)?[l]:ns(l),A,z,O,F,P,V,re,oe;if(f._targets=M.length?qp(M):Cc("GSAP target "+l+" not found. https://gsap.com",!Oi.nullTargetWarn)||[],f._ptLookup=[],f._overwrite=_,S||v||pd(g)||pd(y)){if(r=f.vars,A=f.timeline=new li({data:"nested",defaults:w||{},targets:E&&E.data==="nested"?E.vars.targets:M}),A.kill(),A.parent=A._dp=Xs(f),A._start=0,v||pd(g)||pd(y)){if(F=M.length,re=v&&k_(v),ks(v))for(P in v)~I_.indexOf(P)&&(oe||(oe={}),oe[P]=v[P]);for(z=0;z<F;z++)O=Ud(r,F_),O.stagger=0,k&&(O.yoyoEase=k),oe&&$r(O,oe),V=M[z],O.duration=+gc(g,Xs(f),z,V,M),O.delay=(+gc(y,Xs(f),z,V,M)||0)-f._delay,!v&&F===1&&O.delay&&(f._delay=y=O.delay,f._start+=y,O.delay=0),A.to(V,O,re?re(z,V,M):0),A._ease=kt.none;A.duration()?g=y=0:f.timeline=0}else if(S){mc(Bi(A.vars.defaults,{ease:"none"})),A._ease=Ra(S.ease||r.ease||"none");var se=0,Se,Ee,Me;if(Wn(S))S.forEach(function(W){return A.to(M,W,">")}),A.duration();else{O={};for(P in S)P==="ease"||P==="easeEach"||tA(P,S[P],O,S.easeEach);for(P in O)for(Se=O[P].sort(function(W,le){return W.t-le.t}),se=0,z=0;z<Se.length;z++)Ee=Se[z],Me={ease:Ee.e,duration:(Ee.t-(z?Se[z-1].t:0))/100*g},Me[P]=Ee.v,A.to(M,Me,se),se+=Me.duration;A.duration()<g&&A.to({},{duration:g-A.duration()})}}g||f.duration(g=A.duration())}else f.timeline=0;return _===!0&&!Ip&&(Vl=Xs(f),sn.killTweensOf(M),Vl=0),ws(E,Xs(f),u),r.reversed&&f.reverse(),r.paused&&f.paused(!0),(x||!g&&!S&&f._start===nn(E._time)&&pi(x)&&zM(Xs(f))&&E.data!=="nested")&&(f._tTime=-Ut,f.render(Math.max(0,-y)||0)),N&&w_(Xs(f),N),f}var s=e.prototype;return s.render=function(r,u,d){var f=this._time,m=this._tDur,g=this._dur,y=r<0,x=r>m-Ut&&!y?m:r<Ut?0:r,v,_,S,w,N,k,E,M,A;if(!g)PM(this,r,u,d);else if(x!==this._tTime||!r||d||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==y||this._lazy){if(v=x,M=this.timeline,this._repeat){if(w=g+this._rDelay,this._repeat<-1&&y)return this.totalTime(w*100+r,u,d);if(v=nn(x%w),x===m?(S=this._repeat,v=g):(N=nn(x/w),S=~~N,S&&S===N?(v=g,S--):v>g&&(v=g)),k=this._yoyo&&S&1,k&&(A=this._yEase,v=g-v),N=Hr(this._tTime,w),v===f&&!d&&this._initted&&S===N)return this._tTime=x,this;S!==N&&(M&&this._yEase&&L_(M,k),this.vars.repeatRefresh&&!k&&!this._lock&&v!==w&&this._initted&&(this._lock=d=1,this.render(nn(w*S),!0).invalidate()._lock=0))}if(!this._initted){if(__(this,y?r:v,d,u,x))return this._tTime=0,this;if(f!==this._time&&!(d&&this.vars.repeatRefresh&&S!==N))return this;if(g!==this._dur)return this.render(r,u,d)}if(this._tTime=x,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(A||this._ease)(v/g),this._from&&(this.ratio=E=1-E),!f&&x&&!u&&!N&&(Ri(this,"onStart"),this._tTime!==x))return this;for(_=this._pt;_;)_.r(E,_.d),_=_._next;M&&M.render(r<0?r:M._dur*M._ease(v/this._dur),u,d)||this._startAt&&(this._zTime=r),this._onUpdate&&!u&&(y&&$m(this,r,u,d),Ri(this,"onUpdate")),this._repeat&&S!==N&&this.vars.onRepeat&&!u&&this.parent&&Ri(this,"onRepeat"),(x===this._tDur||!x)&&this._tTime===x&&(y&&!this._onUpdate&&$m(this,r,!0,!0),(r||!g)&&(x===this._tDur&&this._ts>0||!x&&this._ts<0)&&Yl(this,1),!u&&!(y&&!f)&&(x||f||k)&&(Ri(this,x===m?"onComplete":"onReverseComplete",!0),this._prom&&!(x<m&&this.timeScale()>0)&&this._prom()))}return this},s.targets=function(){return this._targets},s.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},s.resetTo=function(r,u,d,f,m){Ac||Pi.wake(),this._ts||this.play();var g=Math.min(this._dur,(this._dp._time-this._start)*this._ts),y;return this._initted||Qp(this,g),y=this._ease(g/this._dur),JM(this,r,u,d,f,y,g,m)?this.resetTo(r,u,d,f,1):(ef(this,0),this.parent||v_(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},s.kill=function(r,u){if(u===void 0&&(u="all"),!r&&(!u||u==="all"))return this._lazy=this._pt=0,this.parent?sc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Fn),this;if(this.timeline){var d=this.timeline.totalDuration();return this.timeline.killTweensOf(r,u,Vl&&Vl.vars.overwrite!==!0)._first||sc(this),this.parent&&d!==this.timeline.totalDuration()&&Yr(this,this._dur*this.timeline._tDur/d,0,1),this}var f=this._targets,m=r?ns(r):f,g=this._ptLookup,y=this._pt,x,v,_,S,w,N,k;if((!u||u==="all")&&AM(f,m))return u==="all"&&(this._pt=0),sc(this);for(x=this._op=this._op||[],u!=="all"&&(An(u)&&(w={},gi(u,function(E){return w[E]=1}),u=w),u=eA(f,u)),k=f.length;k--;)if(~m.indexOf(f[k])){v=g[k],u==="all"?(x[k]=u,S=v,_={}):(_=x[k]=x[k]||{},S=u);for(w in S)N=v&&v[w],N&&((!("kill"in N.d)||N.d.kill(w)===!0)&&Zd(this,N,"_pt"),delete v[w]),_!=="all"&&(_[w]=1)}return this._initted&&!this._pt&&y&&sc(this),this},e.to=function(r,u){return new e(r,u,arguments[2])},e.from=function(r,u){return pc(1,arguments)},e.delayedCall=function(r,u,d,f){return new e(u,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:u,onReverseComplete:u,onCompleteParams:d,onReverseCompleteParams:d,callbackScope:f})},e.fromTo=function(r,u,d){return pc(2,arguments)},e.set=function(r,u){return u.duration=0,u.repeatDelay||(u.repeat=0),new e(r,u)},e.killTweensOf=function(r,u,d){return sn.killTweensOf(r,u,d)},e})(Ec);Bi(_n.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});gi("staggerTo,staggerFrom,staggerFromTo",function(i){_n[i]=function(){var e=new li,s=Ym.call(arguments,0);return s.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,s)}});var Kp=function(e,s,l){return e[s]=l},U_=function(e,s,l){return e[s](l)},nA=function(e,s,l,r){return e[s](r.fp,l)},iA=function(e,s,l){return e.setAttribute(s,l)},Zp=function(e,s){return fn(e[s])?U_:Fp(e[s])&&e.setAttribute?iA:Kp},$_=function(e,s){return s.set(s.t,s.p,Math.round((s.s+s.c*e)*1e6)/1e6,s)},sA=function(e,s){return s.set(s.t,s.p,!!(s.s+s.c*e),s)},H_=function(e,s){var l=s._pt,r="";if(!e&&s.b)r=s.b;else if(e===1&&s.e)r=s.e;else{for(;l;)r=l.p+(l.m?l.m(l.s+l.c*e):Math.round((l.s+l.c*e)*1e4)/1e4)+r,l=l._next;r+=s.c}s.set(s.t,s.p,r,s)},Jp=function(e,s){for(var l=s._pt;l;)l.r(e,l.d),l=l._next},lA=function(e,s,l,r){for(var u=this._pt,d;u;)d=u._next,u.p===r&&u.modifier(e,s,l),u=d},aA=function(e){for(var s=this._pt,l,r;s;)r=s._next,s.p===e&&!s.op||s.op===e?Zd(this,s,"_pt"):s.dep||(l=1),s=r;return!l},rA=function(e,s,l,r){r.mSet(e,s,r.m.call(r.tween,l,r.mt),r)},Y_=function(e){for(var s=e._pt,l,r,u,d;s;){for(l=s._next,r=u;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:d)?s._prev._next=s:u=s,(s._next=r)?r._prev=s:d=s,s=l}e._pt=u},yi=(function(){function i(s,l,r,u,d,f,m,g,y){this.t=l,this.s=u,this.c=d,this.p=r,this.r=f||$_,this.d=m||this,this.set=g||Kp,this.pr=y||0,this._next=s,s&&(s._prev=this)}var e=i.prototype;return e.modifier=function(l,r,u){this.mSet=this.mSet||this.set,this.set=rA,this.m=l,this.mt=u,this.tween=r},i})();gi(Xp+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return Yp[i]=1});Vi.TweenMax=Vi.TweenLite=_n;Vi.TimelineLite=Vi.TimelineMax=li;sn=new li({sortChildren:!1,defaults:Ur,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Oi.stringFilter=P_;var La=[],Td={},oA=[],H1=0,cA=0,sm=function(e){return(Td[e]||oA).map(function(s){return s()})},Wm=function(){var e=Date.now(),s=[];e-H1>2&&(sm("matchMediaInit"),La.forEach(function(l){var r=l.queries,u=l.conditions,d,f,m,g;for(f in r)d=bs.matchMedia(r[f]).matches,d&&(m=1),d!==u[f]&&(u[f]=d,g=1);g&&(l.revert(),m&&s.push(l))}),sm("matchMediaRevert"),s.forEach(function(l){return l.onMatch(l,function(r){return l.add(null,r)})}),H1=e,sm("matchMedia"))},X_=(function(){function i(s,l){this.selector=l&&Xm(l),this.data=[],this._r=[],this.isReverted=!1,this.id=cA++,s&&this.add(s)}var e=i.prototype;return e.add=function(l,r,u){fn(l)&&(u=r,r=l,l=fn);var d=this,f=function(){var g=Zt,y=d.selector,x;return g&&g!==d&&g.data.push(d),u&&(d.selector=Xm(u)),Zt=d,x=r.apply(d,arguments),fn(x)&&d._r.push(x),Zt=g,d.selector=y,d.isReverted=!1,x};return d.last=f,l===fn?f(d,function(m){return d.add(null,m)}):l?d[l]=f:f},e.ignore=function(l){var r=Zt;Zt=null,l(this),Zt=r},e.getTweens=function(){var l=[];return this.data.forEach(function(r){return r instanceof i?l.push.apply(l,r.getTweens()):r instanceof _n&&!(r.parent&&r.parent.data==="nested")&&l.push(r)}),l},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(l,r){var u=this;if(l?(function(){for(var f=u.getTweens(),m=u.data.length,g;m--;)g=u.data[m],g.data==="isFlip"&&(g.revert(),g.getChildren(!0,!0,!1).forEach(function(y){return f.splice(f.indexOf(y),1)}));for(f.map(function(y){return{g:y._dur||y._delay||y._sat&&!y._sat.vars.immediateRender?y.globalTime(0):-1/0,t:y}}).sort(function(y,x){return x.g-y.g||-1/0}).forEach(function(y){return y.t.revert(l)}),m=u.data.length;m--;)g=u.data[m],g instanceof li?g.data!=="nested"&&(g.scrollTrigger&&g.scrollTrigger.revert(),g.kill()):!(g instanceof _n)&&g.revert&&g.revert(l);u._r.forEach(function(y){return y(l,u)}),u.isReverted=!0})():this.data.forEach(function(f){return f.kill&&f.kill()}),this.clear(),r)for(var d=La.length;d--;)La[d].id===this.id&&La.splice(d,1)},e.revert=function(l){this.kill(l||{})},i})(),uA=(function(){function i(s){this.contexts=[],this.scope=s,Zt&&Zt.data.push(this)}var e=i.prototype;return e.add=function(l,r,u){ks(l)||(l={matches:l});var d=new X_(0,u||this.scope),f=d.conditions={},m,g,y;Zt&&!d.selector&&(d.selector=Zt.selector),this.contexts.push(d),r=d.add("onMatch",r),d.queries=l;for(g in l)g==="all"?y=1:(m=bs.matchMedia(l[g]),m&&(La.indexOf(d)<0&&La.push(d),(f[g]=m.matches)&&(y=1),m.addListener?m.addListener(Wm):m.addEventListener("change",Wm)));return y&&r(d,function(x){return d.add(null,x)}),this},e.revert=function(l){this.kill(l||{})},e.kill=function(l){this.contexts.forEach(function(r){return r.kill(l,!0)})},i})(),Hd={registerPlugin:function(){for(var e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];s.forEach(function(r){return E_(r)})},timeline:function(e){return new li(e)},getTweensOf:function(e,s){return sn.getTweensOf(e,s)},getProperty:function(e,s,l,r){An(e)&&(e=ns(e)[0]);var u=Da(e||{}).get,d=l?x_:y_;return l==="native"&&(l=""),e&&(s?d((zi[s]&&zi[s].get||u)(e,s,l,r)):function(f,m,g){return d((zi[f]&&zi[f].get||u)(e,f,m,g))})},quickSetter:function(e,s,l){if(e=ns(e),e.length>1){var r=e.map(function(y){return vi.quickSetter(y,s,l)}),u=r.length;return function(y){for(var x=u;x--;)r[x](y)}}e=e[0]||{};var d=zi[s],f=Da(e),m=f.harness&&(f.harness.aliases||{})[s]||s,g=d?function(y){var x=new d;Dr._pt=0,x.init(e,l?y+l:y,Dr,0,[e]),x.render(1,x),Dr._pt&&Jp(1,Dr)}:f.set(e,m);return d?g:function(y){return g(e,m,l?y+l:y,f,1)}},quickTo:function(e,s,l){var r,u=vi.to(e,Bi((r={},r[s]="+=0.1",r.paused=!0,r.stagger=0,r),l||{})),d=function(m,g,y){return u.resetTo(s,m,g,y)};return d.tween=u,d},isTweening:function(e){return sn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ra(e.ease,Ur.ease)),B1(Ur,e||{})},config:function(e){return B1(Oi,e||{})},registerEffect:function(e){var s=e.name,l=e.effect,r=e.plugins,u=e.defaults,d=e.extendTimeline;(r||"").split(",").forEach(function(f){return f&&!zi[f]&&!Vi[f]&&Cc(s+" effect requires "+f+" plugin.")}),em[s]=function(f,m,g){return l(ns(f),Bi(m||{},u),g)},d&&(li.prototype[s]=function(f,m,g){return this.add(em[s](f,ks(m)?m:(g=m)&&{},this),g)})},registerEase:function(e,s){kt[e]=Ra(s)},parseEase:function(e,s){return arguments.length?Ra(e,s):kt},getById:function(e){return sn.getById(e)},exportRoot:function(e,s){e===void 0&&(e={});var l=new li(e),r,u;for(l.smoothChildTiming=pi(e.smoothChildTiming),sn.remove(l),l._dp=0,l._time=l._tTime=sn._time,r=sn._first;r;)u=r._next,(s||!(!r._dur&&r instanceof _n&&r.vars.onComplete===r._targets[0]))&&ws(l,r,r._start-r._delay),r=u;return ws(sn,l,0),l},context:function(e,s){return e?new X_(e,s):Zt},matchMedia:function(e){return new uA(e)},matchMediaRefresh:function(){return La.forEach(function(e){var s=e.conditions,l,r;for(r in s)s[r]&&(s[r]=!1,l=1);l&&e.revert()})||Wm()},addEventListener:function(e,s){var l=Td[e]||(Td[e]=[]);~l.indexOf(s)||l.push(s)},removeEventListener:function(e,s){var l=Td[e],r=l&&l.indexOf(s);r>=0&&l.splice(r,1)},utils:{wrap:UM,wrapYoyo:$M,distribute:k_,random:C_,snap:N_,normalize:FM,getUnit:qn,clamp:OM,splitColor:z_,toArray:ns,selector:Xm,mapRange:M_,pipe:BM,unitize:IM,interpolate:HM,shuffle:j_},install:f_,effects:em,ticker:Pi,updateRoot:li.updateRoot,plugins:zi,globalTimeline:sn,core:{PropTween:yi,globals:h_,Tween:_n,Timeline:li,Animation:Ec,getCache:Da,_removeLinkedListItem:Zd,reverting:function(){return Fn},context:function(e){return e&&Zt&&(Zt.data.push(e),e._ctx=Zt),Zt},suppressOverwrites:function(e){return Ip=e}}};gi("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return Hd[i]=_n[i]});Pi.add(li.updateRoot);Dr=Hd.to({},{duration:0});var dA=function(e,s){for(var l=e._pt;l&&l.p!==s&&l.op!==s&&l.fp!==s;)l=l._next;return l},fA=function(e,s){var l=e._targets,r,u,d;for(r in s)for(u=l.length;u--;)d=e._ptLookup[u][r],d&&(d=d.d)&&(d._pt&&(d=dA(d,r)),d&&d.modifier&&d.modifier(s[r],e,l[u],r))},lm=function(e,s){return{name:e,headless:1,rawVars:1,init:function(r,u,d){d._onInit=function(f){var m,g;if(An(u)&&(m={},gi(u,function(y){return m[y]=1}),u=m),s){m={};for(g in u)m[g]=s(u[g]);u=m}fA(f,u)}}}},vi=Hd.registerPlugin({name:"attr",init:function(e,s,l,r,u){var d,f,m;this.tween=l;for(d in s)m=e.getAttribute(d)||"",f=this.add(e,"setAttribute",(m||0)+"",s[d],r,u,0,0,d),f.op=d,f.b=m,this._props.push(d)},render:function(e,s){for(var l=s._pt;l;)Fn?l.set(l.t,l.p,l.b,l):l.r(e,l.d),l=l._next}},{name:"endArray",headless:1,init:function(e,s){for(var l=s.length;l--;)this.add(e,l,e[l]||0,s[l],0,0,0,0,0,1)}},lm("roundProps",qm),lm("modifiers"),lm("snap",N_))||Hd;_n.version=li.version=vi.version="3.14.2";d_=1;Up()&&Xr();kt.Power0;kt.Power1;kt.Power2;kt.Power3;kt.Power4;kt.Linear;kt.Quad;kt.Cubic;kt.Quart;kt.Quint;kt.Strong;kt.Elastic;kt.Back;kt.SteppedEase;kt.Bounce;kt.Sine;kt.Expo;kt.Circ;var Y1,Bl,Or,eg,Ma,X1,tg,hA=function(){return typeof window<"u"},Zs={},ka=180/Math.PI,Vr=Math.PI/180,Sr=Math.atan2,q1=1e8,ng=/([A-Z])/g,mA=/(left|right|width|margin|padding|x)/i,pA=/[\s,\(]\S/,_s={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Qm=function(e,s){return s.set(s.t,s.p,Math.round((s.s+s.c*e)*1e4)/1e4+s.u,s)},gA=function(e,s){return s.set(s.t,s.p,e===1?s.e:Math.round((s.s+s.c*e)*1e4)/1e4+s.u,s)},yA=function(e,s){return s.set(s.t,s.p,e?Math.round((s.s+s.c*e)*1e4)/1e4+s.u:s.b,s)},xA=function(e,s){return s.set(s.t,s.p,e===1?s.e:e?Math.round((s.s+s.c*e)*1e4)/1e4+s.u:s.b,s)},vA=function(e,s){var l=s.s+s.c*e;s.set(s.t,s.p,~~(l+(l<0?-.5:.5))+s.u,s)},q_=function(e,s){return s.set(s.t,s.p,e?s.e:s.b,s)},G_=function(e,s){return s.set(s.t,s.p,e!==1?s.b:s.e,s)},bA=function(e,s,l){return e.style[s]=l},wA=function(e,s,l){return e.style.setProperty(s,l)},_A=function(e,s,l){return e._gsap[s]=l},SA=function(e,s,l){return e._gsap.scaleX=e._gsap.scaleY=l},jA=function(e,s,l,r,u){var d=e._gsap;d.scaleX=d.scaleY=l,d.renderTransform(u,d)},kA=function(e,s,l,r,u){var d=e._gsap;d[s]=l,d.renderTransform(u,d)},an="transform",xi=an+"Origin",NA=function i(e,s){var l=this,r=this.target,u=r.style,d=r._gsap;if(e in Zs&&u){if(this.tfm=this.tfm||{},e!=="transform")e=_s[e]||e,~e.indexOf(",")?e.split(",").forEach(function(f){return l.tfm[f]=qs(r,f)}):this.tfm[e]=d.x?d[e]:qs(r,e),e===xi&&(this.tfm.zOrigin=d.zOrigin);else return _s.transform.split(",").forEach(function(f){return i.call(l,f,s)});if(this.props.indexOf(an)>=0)return;d.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(xi,s,"")),e=an}(u||s)&&this.props.push(e,s,u[e])},W_=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},CA=function(){var e=this.props,s=this.target,l=s.style,r=s._gsap,u,d;for(u=0;u<e.length;u+=3)e[u+1]?e[u+1]===2?s[e[u]](e[u+2]):s[e[u]]=e[u+2]:e[u+2]?l[e[u]]=e[u+2]:l.removeProperty(e[u].substr(0,2)==="--"?e[u]:e[u].replace(ng,"-$1").toLowerCase());if(this.tfm){for(d in this.tfm)r[d]=this.tfm[d];r.svg&&(r.renderTransform(),s.setAttribute("data-svg-origin",this.svgo||"")),u=tg(),(!u||!u.isStart)&&!l[an]&&(W_(l),r.zOrigin&&l[xi]&&(l[xi]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Q_=function(e,s){var l={target:e,props:[],revert:CA,save:NA};return e._gsap||vi.core.getCache(e),s&&e.style&&e.nodeType&&s.split(",").forEach(function(r){return l.save(r)}),l},K_,Km=function(e,s){var l=Bl.createElementNS?Bl.createElementNS((s||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Bl.createElement(e);return l&&l.style?l:Bl.createElement(e)},Li=function i(e,s,l){var r=getComputedStyle(e);return r[s]||r.getPropertyValue(s.replace(ng,"-$1").toLowerCase())||r.getPropertyValue(s)||!l&&i(e,qr(s)||s,1)||""},G1="O,Moz,ms,Ms,Webkit".split(","),qr=function(e,s,l){var r=s||Ma,u=r.style,d=5;if(e in u&&!l)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);d--&&!(G1[d]+e in u););return d<0?null:(d===3?"ms":d>=0?G1[d]:"")+e},Zm=function(){hA()&&window.document&&(Y1=window,Bl=Y1.document,Or=Bl.documentElement,Ma=Km("div")||{style:{}},Km("div"),an=qr(an),xi=an+"Origin",Ma.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",K_=!!qr("perspective"),tg=vi.core.reverting,eg=1)},W1=function(e){var s=e.ownerSVGElement,l=Km("svg",s&&s.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),u;r.style.display="block",l.appendChild(r),Or.appendChild(l);try{u=r.getBBox()}catch{}return l.removeChild(r),Or.removeChild(l),u},Q1=function(e,s){for(var l=s.length;l--;)if(e.hasAttribute(s[l]))return e.getAttribute(s[l])},Z_=function(e){var s,l;try{s=e.getBBox()}catch{s=W1(e),l=1}return s&&(s.width||s.height)||l||(s=W1(e)),s&&!s.width&&!s.x&&!s.y?{x:+Q1(e,["x","cx","x1"])||0,y:+Q1(e,["y","cy","y1"])||0,width:0,height:0}:s},J_=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Z_(e))},Xl=function(e,s){if(s){var l=e.style,r;s in Zs&&s!==xi&&(s=an),l.removeProperty?(r=s.substr(0,2),(r==="ms"||s.substr(0,6)==="webkit")&&(s="-"+s),l.removeProperty(r==="--"?s:s.replace(ng,"-$1").toLowerCase())):l.removeAttribute(s)}},Il=function(e,s,l,r,u,d){var f=new yi(e._pt,s,l,0,1,d?G_:q_);return e._pt=f,f.b=r,f.e=u,e._props.push(l),f},K1={deg:1,rad:1,turn:1},TA={grid:1,flex:1},ql=function i(e,s,l,r){var u=parseFloat(l)||0,d=(l+"").trim().substr((u+"").length)||"px",f=Ma.style,m=mA.test(s),g=e.tagName.toLowerCase()==="svg",y=(g?"client":"offset")+(m?"Width":"Height"),x=100,v=r==="px",_=r==="%",S,w,N,k;if(r===d||!u||K1[r]||K1[d])return u;if(d!=="px"&&!v&&(u=i(e,s,l,"px")),k=e.getCTM&&J_(e),(_||d==="%")&&(Zs[s]||~s.indexOf("adius")))return S=k?e.getBBox()[m?"width":"height"]:e[y],pn(_?u/S*x:u/100*S);if(f[m?"width":"height"]=x+(v?d:r),w=r!=="rem"&&~s.indexOf("adius")||r==="em"&&e.appendChild&&!g?e:e.parentNode,k&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===Bl||!w.appendChild)&&(w=Bl.body),N=w._gsap,N&&_&&N.width&&m&&N.time===Pi.time&&!N.uncache)return pn(u/N.width*x);if(_&&(s==="height"||s==="width")){var E=e.style[s];e.style[s]=x+r,S=e[y],E?e.style[s]=E:Xl(e,s)}else(_||d==="%")&&!TA[Li(w,"display")]&&(f.position=Li(e,"position")),w===e&&(f.position="static"),w.appendChild(Ma),S=Ma[y],w.removeChild(Ma),f.position="absolute";return m&&_&&(N=Da(w),N.time=Pi.time,N.width=w[y]),pn(v?S*u/x:S&&u?x/S*u:0)},qs=function(e,s,l,r){var u;return eg||Zm(),s in _s&&s!=="transform"&&(s=_s[s],~s.indexOf(",")&&(s=s.split(",")[0])),Zs[s]&&s!=="transform"?(u=Dc(e,r),u=s!=="transformOrigin"?u[s]:u.svg?u.origin:Xd(Li(e,xi))+" "+u.zOrigin+"px"):(u=e.style[s],(!u||u==="auto"||r||~(u+"").indexOf("calc("))&&(u=Yd[s]&&Yd[s](e,s,l)||Li(e,s)||p_(e,s)||(s==="opacity"?1:0))),l&&!~(u+"").trim().indexOf(" ")?ql(e,s,u,l)+l:u},MA=function(e,s,l,r){if(!l||l==="none"){var u=qr(s,e,1),d=u&&Li(e,u,1);d&&d!==l?(s=u,l=d):s==="borderColor"&&(l=Li(e,"borderTopColor"))}var f=new yi(this._pt,e.style,s,0,1,H_),m=0,g=0,y,x,v,_,S,w,N,k,E,M,A,z;if(f.b=l,f.e=r,l+="",r+="",r.substring(0,6)==="var(--"&&(r=Li(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(w=e.style[s],e.style[s]=r,r=Li(e,s)||r,w?e.style[s]=w:Xl(e,s)),y=[l,r],P_(y),l=y[0],r=y[1],v=l.match(zr)||[],z=r.match(zr)||[],z.length){for(;x=zr.exec(r);)N=x[0],E=r.substring(m,x.index),S?S=(S+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(S=1),N!==(w=v[g++]||"")&&(_=parseFloat(w)||0,A=w.substr((_+"").length),N.charAt(1)==="="&&(N=Lr(_,N)+A),k=parseFloat(N),M=N.substr((k+"").length),m=zr.lastIndex-M.length,M||(M=M||Oi.units[s]||A,m===r.length&&(r+=M,f.e+=M)),A!==M&&(_=ql(e,s,w,M)||0),f._pt={_next:f._pt,p:E||g===1?E:",",s:_,c:k-_,m:S&&S<4||s==="zIndex"?Math.round:0});f.c=m<r.length?r.substring(m,r.length):""}else f.r=s==="display"&&r==="none"?G_:q_;return u_.test(r)&&(f.e=0),this._pt=f,f},Z1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},AA=function(e){var s=e.split(" "),l=s[0],r=s[1]||"50%";return(l==="top"||l==="bottom"||r==="left"||r==="right")&&(e=l,l=r,r=e),s[0]=Z1[l]||l,s[1]=Z1[r]||r,s.join(" ")},EA=function(e,s){if(s.tween&&s.tween._time===s.tween._dur){var l=s.t,r=l.style,u=s.u,d=l._gsap,f,m,g;if(u==="all"||u===!0)r.cssText="",m=1;else for(u=u.split(","),g=u.length;--g>-1;)f=u[g],Zs[f]&&(m=1,f=f==="transformOrigin"?xi:an),Xl(l,f);m&&(Xl(l,an),d&&(d.svg&&l.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Dc(l,1),d.uncache=1,W_(r)))}},Yd={clearProps:function(e,s,l,r,u){if(u.data!=="isFromStart"){var d=e._pt=new yi(e._pt,s,l,0,0,EA);return d.u=r,d.pr=-10,d.tween=u,e._props.push(l),1}}},zc=[1,0,0,1,0,0],eS={},tS=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},J1=function(e){var s=Li(e,an);return tS(s)?zc:s.substr(7).match(c_).map(pn)},ig=function(e,s){var l=e._gsap||Da(e),r=e.style,u=J1(e),d,f,m,g;return l.svg&&e.getAttribute("transform")?(m=e.transform.baseVal.consolidate().matrix,u=[m.a,m.b,m.c,m.d,m.e,m.f],u.join(",")==="1,0,0,1,0,0"?zc:u):(u===zc&&!e.offsetParent&&e!==Or&&!l.svg&&(m=r.display,r.display="block",d=e.parentNode,(!d||!e.offsetParent&&!e.getBoundingClientRect().width)&&(g=1,f=e.nextElementSibling,Or.appendChild(e)),u=J1(e),m?r.display=m:Xl(e,"display"),g&&(f?d.insertBefore(e,f):d?d.appendChild(e):Or.removeChild(e))),s&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},Jm=function(e,s,l,r,u,d){var f=e._gsap,m=u||ig(e,!0),g=f.xOrigin||0,y=f.yOrigin||0,x=f.xOffset||0,v=f.yOffset||0,_=m[0],S=m[1],w=m[2],N=m[3],k=m[4],E=m[5],M=s.split(" "),A=parseFloat(M[0])||0,z=parseFloat(M[1])||0,O,F,P,V;l?m!==zc&&(F=_*N-S*w)&&(P=A*(N/F)+z*(-w/F)+(w*E-N*k)/F,V=A*(-S/F)+z*(_/F)-(_*E-S*k)/F,A=P,z=V):(O=Z_(e),A=O.x+(~M[0].indexOf("%")?A/100*O.width:A),z=O.y+(~(M[1]||M[0]).indexOf("%")?z/100*O.height:z)),r||r!==!1&&f.smooth?(k=A-g,E=z-y,f.xOffset=x+(k*_+E*w)-k,f.yOffset=v+(k*S+E*N)-E):f.xOffset=f.yOffset=0,f.xOrigin=A,f.yOrigin=z,f.smooth=!!r,f.origin=s,f.originIsAbsolute=!!l,e.style[xi]="0px 0px",d&&(Il(d,f,"xOrigin",g,A),Il(d,f,"yOrigin",y,z),Il(d,f,"xOffset",x,f.xOffset),Il(d,f,"yOffset",v,f.yOffset)),e.setAttribute("data-svg-origin",A+" "+z)},Dc=function(e,s){var l=e._gsap||new V_(e);if("x"in l&&!s&&!l.uncache)return l;var r=e.style,u=l.scaleX<0,d="px",f="deg",m=getComputedStyle(e),g=Li(e,xi)||"0",y,x,v,_,S,w,N,k,E,M,A,z,O,F,P,V,re,oe,se,Se,Ee,Me,W,le,X,L,q,T,D,H,Q,de;return y=x=v=w=N=k=E=M=A=0,_=S=1,l.svg=!!(e.getCTM&&J_(e)),m.translate&&((m.translate!=="none"||m.scale!=="none"||m.rotate!=="none")&&(r[an]=(m.translate!=="none"?"translate3d("+(m.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(m.rotate!=="none"?"rotate("+m.rotate+") ":"")+(m.scale!=="none"?"scale("+m.scale.split(" ").join(",")+") ":"")+(m[an]!=="none"?m[an]:"")),r.scale=r.rotate=r.translate="none"),F=ig(e,l.svg),l.svg&&(l.uncache?(X=e.getBBox(),g=l.xOrigin-X.x+"px "+(l.yOrigin-X.y)+"px",le=""):le=!s&&e.getAttribute("data-svg-origin"),Jm(e,le||g,!!le||l.originIsAbsolute,l.smooth!==!1,F)),z=l.xOrigin||0,O=l.yOrigin||0,F!==zc&&(oe=F[0],se=F[1],Se=F[2],Ee=F[3],y=Me=F[4],x=W=F[5],F.length===6?(_=Math.sqrt(oe*oe+se*se),S=Math.sqrt(Ee*Ee+Se*Se),w=oe||se?Sr(se,oe)*ka:0,E=Se||Ee?Sr(Se,Ee)*ka+w:0,E&&(S*=Math.abs(Math.cos(E*Vr))),l.svg&&(y-=z-(z*oe+O*Se),x-=O-(z*se+O*Ee))):(de=F[6],H=F[7],q=F[8],T=F[9],D=F[10],Q=F[11],y=F[12],x=F[13],v=F[14],P=Sr(de,D),N=P*ka,P&&(V=Math.cos(-P),re=Math.sin(-P),le=Me*V+q*re,X=W*V+T*re,L=de*V+D*re,q=Me*-re+q*V,T=W*-re+T*V,D=de*-re+D*V,Q=H*-re+Q*V,Me=le,W=X,de=L),P=Sr(-Se,D),k=P*ka,P&&(V=Math.cos(-P),re=Math.sin(-P),le=oe*V-q*re,X=se*V-T*re,L=Se*V-D*re,Q=Ee*re+Q*V,oe=le,se=X,Se=L),P=Sr(se,oe),w=P*ka,P&&(V=Math.cos(P),re=Math.sin(P),le=oe*V+se*re,X=Me*V+W*re,se=se*V-oe*re,W=W*V-Me*re,oe=le,Me=X),N&&Math.abs(N)+Math.abs(w)>359.9&&(N=w=0,k=180-k),_=pn(Math.sqrt(oe*oe+se*se+Se*Se)),S=pn(Math.sqrt(W*W+de*de)),P=Sr(Me,W),E=Math.abs(P)>2e-4?P*ka:0,A=Q?1/(Q<0?-Q:Q):0),l.svg&&(le=e.getAttribute("transform"),l.forceCSS=e.setAttribute("transform","")||!tS(Li(e,an)),le&&e.setAttribute("transform",le))),Math.abs(E)>90&&Math.abs(E)<270&&(u?(_*=-1,E+=w<=0?180:-180,w+=w<=0?180:-180):(S*=-1,E+=E<=0?180:-180)),s=s||l.uncache,l.x=y-((l.xPercent=y&&(!s&&l.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-y)?-50:0)))?e.offsetWidth*l.xPercent/100:0)+d,l.y=x-((l.yPercent=x&&(!s&&l.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-x)?-50:0)))?e.offsetHeight*l.yPercent/100:0)+d,l.z=v+d,l.scaleX=pn(_),l.scaleY=pn(S),l.rotation=pn(w)+f,l.rotationX=pn(N)+f,l.rotationY=pn(k)+f,l.skewX=E+f,l.skewY=M+f,l.transformPerspective=A+d,(l.zOrigin=parseFloat(g.split(" ")[2])||!s&&l.zOrigin||0)&&(r[xi]=Xd(g)),l.xOffset=l.yOffset=0,l.force3D=Oi.force3D,l.renderTransform=l.svg?DA:K_?nS:zA,l.uncache=0,l},Xd=function(e){return(e=e.split(" "))[0]+" "+e[1]},am=function(e,s,l){var r=qn(s);return pn(parseFloat(s)+parseFloat(ql(e,"x",l+"px",r)))+r},zA=function(e,s){s.z="0px",s.rotationY=s.rotationX="0deg",s.force3D=0,nS(e,s)},_a="0deg",tc="0px",Sa=") ",nS=function(e,s){var l=s||this,r=l.xPercent,u=l.yPercent,d=l.x,f=l.y,m=l.z,g=l.rotation,y=l.rotationY,x=l.rotationX,v=l.skewX,_=l.skewY,S=l.scaleX,w=l.scaleY,N=l.transformPerspective,k=l.force3D,E=l.target,M=l.zOrigin,A="",z=k==="auto"&&e&&e!==1||k===!0;if(M&&(x!==_a||y!==_a)){var O=parseFloat(y)*Vr,F=Math.sin(O),P=Math.cos(O),V;O=parseFloat(x)*Vr,V=Math.cos(O),d=am(E,d,F*V*-M),f=am(E,f,-Math.sin(O)*-M),m=am(E,m,P*V*-M+M)}N!==tc&&(A+="perspective("+N+Sa),(r||u)&&(A+="translate("+r+"%, "+u+"%) "),(z||d!==tc||f!==tc||m!==tc)&&(A+=m!==tc||z?"translate3d("+d+", "+f+", "+m+") ":"translate("+d+", "+f+Sa),g!==_a&&(A+="rotate("+g+Sa),y!==_a&&(A+="rotateY("+y+Sa),x!==_a&&(A+="rotateX("+x+Sa),(v!==_a||_!==_a)&&(A+="skew("+v+", "+_+Sa),(S!==1||w!==1)&&(A+="scale("+S+", "+w+Sa),E.style[an]=A||"translate(0, 0)"},DA=function(e,s){var l=s||this,r=l.xPercent,u=l.yPercent,d=l.x,f=l.y,m=l.rotation,g=l.skewX,y=l.skewY,x=l.scaleX,v=l.scaleY,_=l.target,S=l.xOrigin,w=l.yOrigin,N=l.xOffset,k=l.yOffset,E=l.forceCSS,M=parseFloat(d),A=parseFloat(f),z,O,F,P,V;m=parseFloat(m),g=parseFloat(g),y=parseFloat(y),y&&(y=parseFloat(y),g+=y,m+=y),m||g?(m*=Vr,g*=Vr,z=Math.cos(m)*x,O=Math.sin(m)*x,F=Math.sin(m-g)*-v,P=Math.cos(m-g)*v,g&&(y*=Vr,V=Math.tan(g-y),V=Math.sqrt(1+V*V),F*=V,P*=V,y&&(V=Math.tan(y),V=Math.sqrt(1+V*V),z*=V,O*=V)),z=pn(z),O=pn(O),F=pn(F),P=pn(P)):(z=x,P=v,O=F=0),(M&&!~(d+"").indexOf("px")||A&&!~(f+"").indexOf("px"))&&(M=ql(_,"x",d,"px"),A=ql(_,"y",f,"px")),(S||w||N||k)&&(M=pn(M+S-(S*z+w*F)+N),A=pn(A+w-(S*O+w*P)+k)),(r||u)&&(V=_.getBBox(),M=pn(M+r/100*V.width),A=pn(A+u/100*V.height)),V="matrix("+z+","+O+","+F+","+P+","+M+","+A+")",_.setAttribute("transform",V),E&&(_.style[an]=V)},PA=function(e,s,l,r,u){var d=360,f=An(u),m=parseFloat(u)*(f&&~u.indexOf("rad")?ka:1),g=m-r,y=r+g+"deg",x,v;return f&&(x=u.split("_")[1],x==="short"&&(g%=d,g!==g%(d/2)&&(g+=g<0?d:-d)),x==="cw"&&g<0?g=(g+d*q1)%d-~~(g/d)*d:x==="ccw"&&g>0&&(g=(g-d*q1)%d-~~(g/d)*d)),e._pt=v=new yi(e._pt,s,l,r,g,gA),v.e=y,v.u="deg",e._props.push(l),v},e2=function(e,s){for(var l in s)e[l]=s[l];return e},RA=function(e,s,l){var r=e2({},l._gsap),u="perspective,force3D,transformOrigin,svgOrigin",d=l.style,f,m,g,y,x,v,_,S;r.svg?(g=l.getAttribute("transform"),l.setAttribute("transform",""),d[an]=s,f=Dc(l,1),Xl(l,an),l.setAttribute("transform",g)):(g=getComputedStyle(l)[an],d[an]=s,f=Dc(l,1),d[an]=g);for(m in Zs)g=r[m],y=f[m],g!==y&&u.indexOf(m)<0&&(_=qn(g),S=qn(y),x=_!==S?ql(l,m,g,S):parseFloat(g),v=parseFloat(y),e._pt=new yi(e._pt,f,m,x,v-x,Qm),e._pt.u=S||0,e._props.push(m));e2(f,r)};gi("padding,margin,Width,Radius",function(i,e){var s="Top",l="Right",r="Bottom",u="Left",d=(e<3?[s,l,r,u]:[s+u,s+l,r+l,r+u]).map(function(f){return e<2?i+f:"border"+f+i});Yd[e>1?"border"+i:i]=function(f,m,g,y,x){var v,_;if(arguments.length<4)return v=d.map(function(S){return qs(f,S,g)}),_=v.join(" "),_.split(v[0]).length===5?v[0]:_;v=(y+"").split(" "),_={},d.forEach(function(S,w){return _[S]=v[w]=v[w]||v[(w-1)/2|0]}),f.init(m,_,x)}});var iS={name:"css",register:Zm,targetTest:function(e){return e.style&&e.nodeType},init:function(e,s,l,r,u){var d=this._props,f=e.style,m=l.vars.startAt,g,y,x,v,_,S,w,N,k,E,M,A,z,O,F,P,V;eg||Zm(),this.styles=this.styles||Q_(e),P=this.styles.props,this.tween=l;for(w in s)if(w!=="autoRound"&&(y=s[w],!(zi[w]&&B_(w,s,l,r,e,u)))){if(_=typeof y,S=Yd[w],_==="function"&&(y=y.call(l,r,e,u),_=typeof y),_==="string"&&~y.indexOf("random(")&&(y=Mc(y)),S)S(this,e,w,y,l)&&(F=1);else if(w.substr(0,2)==="--")g=(getComputedStyle(e).getPropertyValue(w)+"").trim(),y+="",Ul.lastIndex=0,Ul.test(g)||(N=qn(g),k=qn(y),k?N!==k&&(g=ql(e,w,g,k)+k):N&&(y+=N)),this.add(f,"setProperty",g,y,r,u,0,0,w),d.push(w),P.push(w,0,f[w]);else if(_!=="undefined"){if(m&&w in m?(g=typeof m[w]=="function"?m[w].call(l,r,e,u):m[w],An(g)&&~g.indexOf("random(")&&(g=Mc(g)),qn(g+"")||g==="auto"||(g+=Oi.units[w]||qn(qs(e,w))||""),(g+"").charAt(1)==="="&&(g=qs(e,w))):g=qs(e,w),v=parseFloat(g),E=_==="string"&&y.charAt(1)==="="&&y.substr(0,2),E&&(y=y.substr(2)),x=parseFloat(y),w in _s&&(w==="autoAlpha"&&(v===1&&qs(e,"visibility")==="hidden"&&x&&(v=0),P.push("visibility",0,f.visibility),Il(this,f,"visibility",v?"inherit":"hidden",x?"inherit":"hidden",!x)),w!=="scale"&&w!=="transform"&&(w=_s[w],~w.indexOf(",")&&(w=w.split(",")[0]))),M=w in Zs,M){if(this.styles.save(w),V=y,_==="string"&&y.substring(0,6)==="var(--"){if(y=Li(e,y.substring(4,y.indexOf(")"))),y.substring(0,5)==="calc("){var re=e.style.perspective;e.style.perspective=y,y=Li(e,"perspective"),re?e.style.perspective=re:Xl(e,"perspective")}x=parseFloat(y)}if(A||(z=e._gsap,z.renderTransform&&!s.parseTransform||Dc(e,s.parseTransform),O=s.smoothOrigin!==!1&&z.smooth,A=this._pt=new yi(this._pt,f,an,0,1,z.renderTransform,z,0,-1),A.dep=1),w==="scale")this._pt=new yi(this._pt,z,"scaleY",z.scaleY,(E?Lr(z.scaleY,E+x):x)-z.scaleY||0,Qm),this._pt.u=0,d.push("scaleY",w),w+="X";else if(w==="transformOrigin"){P.push(xi,0,f[xi]),y=AA(y),z.svg?Jm(e,y,0,O,0,this):(k=parseFloat(y.split(" ")[2])||0,k!==z.zOrigin&&Il(this,z,"zOrigin",z.zOrigin,k),Il(this,f,w,Xd(g),Xd(y)));continue}else if(w==="svgOrigin"){Jm(e,y,1,O,0,this);continue}else if(w in eS){PA(this,z,w,v,E?Lr(v,E+y):y);continue}else if(w==="smoothOrigin"){Il(this,z,"smooth",z.smooth,y);continue}else if(w==="force3D"){z[w]=y;continue}else if(w==="transform"){RA(this,y,e);continue}}else w in f||(w=qr(w)||w);if(M||(x||x===0)&&(v||v===0)&&!pA.test(y)&&w in f)N=(g+"").substr((v+"").length),x||(x=0),k=qn(y)||(w in Oi.units?Oi.units[w]:N),N!==k&&(v=ql(e,w,g,k)),this._pt=new yi(this._pt,M?z:f,w,v,(E?Lr(v,E+x):x)-v,!M&&(k==="px"||w==="zIndex")&&s.autoRound!==!1?vA:Qm),this._pt.u=k||0,M&&V!==y?(this._pt.b=g,this._pt.e=V,this._pt.r=xA):N!==k&&k!=="%"&&(this._pt.b=g,this._pt.r=yA);else if(w in f)MA.call(this,e,w,g,E?E+y:y);else if(w in e)this.add(e,w,g||e[w],E?E+y:y,r,u);else if(w!=="parseTransform"){Hp(w,y);continue}M||(w in f?P.push(w,0,f[w]):typeof e[w]=="function"?P.push(w,2,e[w]()):P.push(w,1,g||e[w])),d.push(w)}}F&&Y_(this)},render:function(e,s){if(s.tween._time||!tg())for(var l=s._pt;l;)l.r(e,l.d),l=l._next;else s.styles.revert()},get:qs,aliases:_s,getSetter:function(e,s,l){var r=_s[s];return r&&r.indexOf(",")<0&&(s=r),s in Zs&&s!==xi&&(e._gsap.x||qs(e,"x"))?l&&X1===l?s==="scale"?SA:_A:(X1=l||{})&&(s==="scale"?jA:kA):e.style&&!Fp(e.style[s])?bA:~s.indexOf("-")?wA:Zp(e,s)},core:{_removeProperty:Xl,_getMatrix:ig}};vi.utils.checkPrefix=qr;vi.core.getStyleSaver=Q_;(function(i,e,s,l){var r=gi(i+","+e+","+s,function(u){Zs[u]=1});gi(e,function(u){Oi.units[u]="deg",eS[u]=1}),_s[r[13]]=i+","+e,gi(l,function(u){var d=u.split(":");_s[d[1]]=r[d[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");gi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Oi.units[i]="px"});vi.registerPlugin(iS);var jr=vi.registerPlugin(iS)||vi;jr.core.Tween;const LA=({dictionaryConfig:i,containerConfig:e,backgroundColor:s="transparent"})=>{const l=j.useRef(null),r=j.useRef(null),[u,d]=j.useState(e?.containers||[]),[f,m]=j.useState(e?.bundles||[]),[g,y]=j.useState([]),[x,v]=j.useState({}),[_,S]=j.useState(!1),w=e?.viewportBox||null,N=e?.bundleItems||{},k=e?.visibleStartIndex||{},E=j.useMemo(()=>{const q=N["bundle-1"];return q&&q.items&&q.items.length>0?q.items.map(T=>T.text||T.id):Array.from({length:99},(T,D)=>`item${D+1}`)},[N]),M=j.useRef({}),A=j.useRef([]),z=j.useRef(null),O=j.useRef(k["bundle-1"]||0),P=j.useCallback(()=>{if(w)return{width:w.width,height:w.height};if(u.length===0)return{width:800,height:600};let q=1/0,T=1/0,D=-1/0,H=-1/0;u.forEach(de=>{de.points.forEach(je=>{q=Math.min(q,je.x),T=Math.min(T,je.y),D=Math.max(D,je.x),H=Math.max(H,je.y)})});const Q=20;return{width:Math.max(400,D-q+Q*2),height:Math.max(300,H-T+Q*2)}},[u,w])(),V=P.width,re=P.height,oe=w?{x:-w.x,y:-w.y}:{x:0,y:0};j.useEffect(()=>{A.current=g},[g]),j.useEffect(()=>{if(typeof i=="string")fetch(i).then(q=>q.json()).then(q=>{const{description:T,unitSize:D,...H}=q;v(H)}).catch(q=>console.error("Failed to load dictionary:",q));else if(i){const{description:q,unitSize:T,...D}=i;v(D)}},[i]);const se=j.useRef(null),Se=j.useRef(!1);j.useEffect(()=>{if(u.length===0||f.length===0)return;const q=JSON.stringify({containerIds:u.map(D=>D.id),bundleIds:f.map(D=>D.id),offsetX:oe.x,offsetY:oe.y});if(se.current===q&&Se.current)return;se.current=q,Se.current=!0,k["bundle-1"]!==void 0&&(O.current=k["bundle-1"]);const T=[];f.forEach(D=>{const H=u.filter(ne=>ne.bundleId===D.id);let Q=H.filter(ne=>ne.teleportType===null);Q=Q.sort((ne,Z)=>{const he=ne.points.reduce((J,I)=>J+I.y,0)/ne.points.length,xe=Z.points.reduce((J,I)=>J+I.y,0)/Z.points.length;return he-xe});const je=N[D.id]?.items||[];if(je.length>0&&je.length>Q.length){const ne=Q.length,Z=k[D.id]||0;for(let J=0;J<ne;J++){const I=Q[J],fe=(Z+J)%je.length,me=je[fe];me&&I&&T.push({id:`content-item-${me.id||fe}`,bundleId:D.id,itemIndex:fe,containerId:I.id,text:me.text||`item${fe+1}`,color:me.color||I.contentColor||I.color||"#ffffff",fontColor:me.fontColor||I.fontColor||"#000000",imageUrl:me.imageUrl||I.imageUrl||null,points:I.points.map(Y=>({x:Y.x+oe.x,y:Y.y+oe.y})),opacity:1})}const he=H.find(J=>J.teleportType==="top"),xe=H.find(J=>J.teleportType==="bottom");if(he&&je.length>0){const J=(Z+ne)%je.length,I=je[J];T.push({id:`teleport-top-${he.id}-${I.id||J}`,bundleId:D.id,itemIndex:J,containerId:he.id,text:I.text||`item${J+1}`,color:I.color||he.contentColor||he.color||"#ffffff",fontColor:I.fontColor||he.fontColor||"#000000",imageUrl:I.imageUrl||he.imageUrl||null,points:he.points.map(fe=>({x:fe.x+oe.x,y:fe.y+oe.y})),opacity:0})}if(xe&&je.length>0){const J=je[0];T.push({id:`teleport-bottom-${xe.id}-${J.id||0}`,bundleId:D.id,itemIndex:0,containerId:xe.id,text:J.text||"item1",color:J.color||xe.contentColor||xe.color||"#ffffff",fontColor:J.fontColor||xe.fontColor||"#000000",imageUrl:J.imageUrl||xe.imageUrl||null,points:xe.points.map(I=>({x:I.x+oe.x,y:I.y+oe.y})),opacity:0})}}else Q.forEach((ne,Z)=>{T.push({id:`content-${ne.id}`,bundleId:D.id,containerId:ne.id,itemIndex:Z,text:ne.name?.replace("Container","Item")||`Item ${Z+1}`,color:ne.contentColor||ne.color||"#ffffff",fontColor:ne.fontColor||"#000000",imageUrl:ne.imageUrl||null,points:ne.points.map(he=>({x:he.x+oe.x,y:he.y+oe.y})),opacity:1})})}),y(T)},[u,f,oe.x,oe.y,E,N,k]);const Ee=j.useRef(oe);j.useEffect(()=>{Ee.current=oe},[oe]);const Me=j.useCallback((q,T,D=1)=>new Promise(H=>{const Q=A.current.find(Z=>Z.id===q),de=u.find(Z=>Z.id===T);if(!Q||!de||Q.containerId===T){H();return}if(Q.bundleId!==de.bundleId){console.warn(`[animateContentMorph] Bundle mismatch: element bundleId=${Q.bundleId}, container bundleId=${de.bundleId}`),H();return}M.current[q]&&M.current[q].forEach(Z=>Z.kill()),M.current[q]=[];const je=de.points.map(Z=>({x:Z.x+oe.x,y:Z.y+oe.y})),U=[];Q.points.forEach((Z,he)=>{const xe=je[he];if(!xe)return;const J={x:Z.x,y:Z.y},I=jr.to(J,{x:xe.x,y:xe.y,duration:D,ease:"power2.inOut",onUpdate:()=>{y(fe=>fe.map(me=>{if(me.id===q){const Y=[...me.points];return Y[he]={x:J.x,y:J.y},{...me,points:Y}}return me}))}});U.push(I)}),M.current[q]=U;let ne=0;U.forEach(Z=>{Z.eventCallback("onComplete",()=>{ne++,ne===U.length&&H()})}),U.length===0&&H()}),[u,oe.x,oe.y]);j.useCallback((q,T)=>{const D=g.find(de=>de.id===q),H=u.find(de=>de.id===T);if(!H||!D)return;if(D.bundleId!==H.bundleId){console.warn(`[teleportContentElement] Bundle mismatch: element bundleId=${D.bundleId}, container bundleId=${H.bundleId}`);return}const Q=H.points.map(de=>({x:de.x+oe.x,y:de.y+oe.y}));y(de=>de.map(je=>je.id===q?{...je,containerId:T,points:Q}:je))},[u,g,oe.x,oe.y]);const W=j.useCallback(q=>N[q]?.items||[],[N]),le=j.useCallback((q,T)=>{if(_)return;let D=1;if(T!==void 0){const U=Math.min(Math.abs(T),100);D=Math.max(.2,Math.min(2,2/(1+U/(100*.5))))}if(f.some(Q=>{const je=u.filter(ne=>ne.bundleId===Q.id).filter(ne=>ne.teleportType===null),U=W(Q.id);return U.length>0&&U.length>je.length})){const Q=[];f.forEach(de=>{const je=u.filter(Z=>Z.bundleId===de.id);let U=je.filter(Z=>Z.teleportType===null);U=U.sort((Z,he)=>{const xe=Z.points.reduce((I,fe)=>I+fe.y,0)/Z.points.length,J=he.points.reduce((I,fe)=>I+fe.y,0)/he.points.length;return xe-J});const ne=W(de.id);if(ne.length>0&&ne.length>U.length){const Z=je.find(xe=>xe.teleportType==="top"),he=je.find(xe=>xe.teleportType==="bottom");if(Z&&he){const xe=g.filter(fe=>fe.bundleId===de.id),J=U.length,I=[];for(let fe=0;fe<J;fe++){const me=U[fe],Y=xe.find(ke=>ke.containerId===me.id&&ke.opacity===1);Y&&Y.itemIndex!==void 0&&(I[fe]=Y.itemIndex)}if(I.length===J)if(q==="down"){const fe=U[U.length-1],me=U[0],Y=xe.find(ze=>ze.containerId===fe.id&&ze.opacity===1),ke=xe.find(ze=>ze.containerId===Z.id&&ze.opacity===0&&ze.itemIndex!==void 0);if(Y&&ke){const ze=Me(Y.id,he.id,D).then(()=>{y(De=>De.map(Be=>Be.id===Y.id?{...Be,containerId:he.id,opacity:0}:Be))}),Te=jr.to({},{duration:D,ease:"power2.inOut",onUpdate:()=>{y(De=>De.map(Be=>Be.id===Y.id?{...Be,opacity:Math.max(0,1-Te.progress())}:Be))}}),Ue=[];for(let De=J-2;De>=0;De--){const Be=U[De],it=U[De+1],qe=xe.find(Pe=>Pe.containerId===Be.id&&Pe.opacity===1);qe&&Ue.push(Me(qe.id,it.id,D).then(()=>{y(Pe=>Pe.map(mt=>mt.id===qe.id?{...mt,containerId:it.id}:mt))}))}const Xe=D*.3,lt=jr.to({},{duration:D-Xe,delay:Xe,ease:"power2.inOut",onUpdate:()=>{y(De=>De.map(Be=>{if(Be.id===ke.id){const it=lt.progress(),qe=Xe+it*(D-Xe);return{...Be,opacity:Math.min(1,qe/D)}}return Be}))}}),ut=Me(ke.id,me.id,D).then(()=>{y(De=>De.map(Be=>Be.id===ke.id?{...Be,containerId:me.id,opacity:1}:Be))});Q.push(Promise.all([ze,...Ue,ut]).then(()=>{y(De=>{De.filter(Pe=>Pe.bundleId===de.id).find(Pe=>Pe.containerId===me.id&&Pe.opacity===1);let it;ke.itemIndex!==void 0&&(it=(ke.itemIndex+1)%ne.length);let qe=De.map(Pe=>{if(Pe.bundleId!==de.id)return Pe;const mt=Pe.containerId===Z.id&&Pe.opacity===0,Qe=Pe.containerId===he.id&&Pe.opacity===0;return mt||Qe?null:Pe}).filter(Pe=>Pe!==null);if(Z&&it!==void 0){const Pe=ne[it];Pe&&qe.push({id:`teleport-top-${Z.id}-${Pe.id}`,bundleId:de.id,itemIndex:it,containerId:Z.id,text:Pe.text,color:Pe.color,fontColor:Pe.fontColor,imageUrl:Pe.imageUrl,points:Z.points.map(mt=>({x:mt.x+oe.x,y:mt.y+oe.y})),opacity:0})}return he&&Y&&qe.push({id:`teleport-bottom-${he.id}-${Y.itemIndex}`,bundleId:de.id,itemIndex:Y.itemIndex,containerId:he.id,text:Y.text,color:Y.color,fontColor:Y.fontColor,imageUrl:Y.imageUrl,points:he.points.map(Pe=>({x:Pe.x+oe.x,y:Pe.y+oe.y})),opacity:0}),qe})}))}}else{const fe=U[0],me=U[U.length-1],Y=xe.find(ze=>ze.containerId===fe.id&&ze.opacity===1),ke=xe.find(ze=>ze.containerId===he.id&&ze.opacity===0&&ze.itemIndex!==void 0);if(Y&&ke){const ze=Me(Y.id,Z.id,D).then(()=>{y(De=>De.map(Be=>Be.id===Y.id?{...Be,containerId:Z.id,opacity:0}:Be))}),Te=jr.to({},{duration:D,ease:"power2.inOut",onUpdate:()=>{y(De=>De.map(Be=>Be.id===Y.id?{...Be,opacity:Math.max(0,1-Te.progress())}:Be))}}),Ue=[];for(let De=1;De<J;De++){const Be=U[De],it=U[De-1],qe=xe.find(Pe=>Pe.containerId===Be.id&&Pe.opacity===1);qe&&Ue.push(Me(qe.id,it.id,D).then(()=>{y(Pe=>Pe.map(mt=>mt.id===qe.id?{...mt,containerId:it.id}:mt))}))}const Xe=D*.3,lt=jr.to({},{duration:D-Xe,delay:Xe,ease:"power2.inOut",onUpdate:()=>{y(De=>De.map(Be=>{if(Be.id===ke.id){const it=lt.progress(),qe=Xe+it*(D-Xe);return{...Be,opacity:Math.min(1,qe/D)}}return Be}))}}),ut=Me(ke.id,me.id,D).then(()=>{y(De=>De.map(Be=>Be.id===ke.id?{...Be,containerId:me.id,opacity:1}:Be))});Q.push(Promise.all([ze,...Ue,ut]).then(()=>{let De;ke.itemIndex!==void 0&&(De=(ke.itemIndex+1)%ne.length),y(Be=>{let it=Be.map(qe=>{if(qe.bundleId!==de.id)return qe;const Pe=qe.containerId===Z.id&&qe.opacity===0,mt=qe.containerId===he.id&&qe.opacity===0;return Pe||mt?null:qe}).filter(qe=>qe!==null);if(he&&De!==void 0){const qe=ne[De];qe&&it.push({id:`teleport-bottom-${he.id}-${qe.id}`,bundleId:de.id,itemIndex:De,containerId:he.id,text:qe.text,color:qe.color,fontColor:qe.fontColor,imageUrl:qe.imageUrl,points:he.points.map(Pe=>({x:Pe.x+oe.x,y:Pe.y+oe.y})),opacity:0})}return Z&&Y&&it.push({id:`teleport-top-${Z.id}-${Y.itemIndex}`,bundleId:de.id,itemIndex:Y.itemIndex,containerId:Z.id,text:Y.text,color:Y.color,fontColor:Y.fontColor,imageUrl:Y.imageUrl,points:Z.points.map(qe=>({x:qe.x+oe.x,y:qe.y+oe.y})),opacity:0}),it})}))}}}}}),S(!0),Promise.all(Q).then(()=>{S(!1)}).catch(()=>{S(!1)});return}},[_,u,g,Me,f,oe.x,oe.y,W]),X=j.useCallback((q,T,D,H)=>{const Q=(J,I)=>{const[fe,me,Y,ke,ze,Te,Ue,Xe]=D,[lt,ut,De,Be,it,qe,Pe,mt]=H,Qe=J/100,$t=I/100,En=lt+(De-lt)*Qe,St=ut+(Be-ut)*Qe,Oe=Pe+(it-Pe)*Qe,Xt=mt+(qe-mt)*Qe,_e=En+(Oe-En)*$t,at=St+(Xt-St)*$t;return[_e,at]},de=(J,I,fe,me,Y,ke,ze,Te,Ue)=>{const lt=[],ut=(J-Te)/2,De=(I-Ue)/2,Be=Math.cos(Y*Math.PI/180),it=Math.sin(Y*Math.PI/180),qe=Be*ut+it*De,Pe=-it*ut+Be*De,mt=qe*qe/(fe*fe)+Pe*Pe/(me*me);let Qe=fe,$t=me;mt>1&&(Qe=Math.sqrt(mt)*fe,$t=Math.sqrt(mt)*me);const En=ke===ze?-1:1,St=Qe*Qe*($t*$t)-Qe*Qe*(Pe*Pe)-$t*$t*(qe*qe),Oe=En*Math.sqrt(Math.max(0,St)/(Qe*Qe*(Pe*Pe)+$t*$t*(qe*qe))),Xt=Oe*Qe*Pe/$t,_e=Oe*-$t*qe/Qe,at=Be*Xt-it*_e+(J+Te)/2,pt=it*Xt+Be*_e+(J+Ue)/2,Ie=(qe-Xt)/Qe,Ze=(Pe-_e)/$t,ye=(-qe-Xt)/Qe,tt=(-Pe-_e)/$t;let Je=Math.atan2(Ze,Ie),rt=Math.atan2(Ie*tt-Ze*ye,Ie*ye+Ze*tt);ze===0&&rt>0?rt-=2*Math.PI:ze===1&&rt<0&&(rt+=2*Math.PI);for(let gt=0;gt<=40;gt++){const Nt=Je+rt*gt/40,bi=at+Qe*Math.cos(Nt)*Be-$t*Math.sin(Nt)*it,st=pt+Qe*Math.cos(Nt)*it+$t*Math.sin(Nt)*Be;lt.push([bi,st])}return lt},je=T.match(/[MLZACQTHVmlzacthv][^MLZACQTHVmlzacthv]*/g)||[];q.beginPath();let U=0,ne=0,Z=0,he=0,xe=!1;for(const J of je){const I=J[0].toUpperCase(),fe=J[0]===J[0].toLowerCase(),me=J.slice(1).trim().split(/[\s,]+/).filter(Boolean).map(Number);if(I==="M"){if(me.length>=2){const Y=fe?U+me[0]:me[0],ke=fe?ne+me[1]:me[1],[ze,Te]=Q(Y,ke);U=Y,ne=ke,Z=Y,he=ke,xe?q.moveTo(ze,Te):(q.moveTo(ze,Te),xe=!0)}}else if(I==="L"){for(let Y=0;Y<me.length;Y+=2)if(Y+1<me.length){const ke=fe?U+me[Y]:me[Y],ze=fe?ne+me[Y+1]:me[Y+1],[Te,Ue]=Q(ke,ze);U=ke,ne=ze,q.lineTo(Te,Ue)}}else if(I==="Z"){const[Y,ke]=Q(Z,he);q.lineTo(Y,ke),q.closePath()}else if(I==="A"){if(me.length>=7){const[Y,ke,ze,Te,Ue,Xe,lt]=me,ut=fe?U+Xe:Xe,De=fe?ne+lt:lt,Be=de(U,ne,Y,ke,ze,Te,Ue,ut,De);for(let it=1;it<Be.length;it++){const[qe,Pe]=Be[it],[mt,Qe]=Q(qe,Pe);q.lineTo(mt,Qe)}U=ut,ne=De}}else if(I==="C"){if(me.length>=6){const[Y,ke,ze,Te,Ue,Xe]=me,lt=fe?U+Y:Y,ut=fe?ne+ke:ke,De=fe?U+ze:ze,Be=fe?ne+Te:Te,it=fe?U+Ue:Ue,qe=fe?ne+Xe:Xe,[Pe,mt]=Q(lt,ut),[Qe,$t]=Q(De,Be),[En,St]=Q(it,qe);q.bezierCurveTo(Pe,mt,Qe,$t,En,St),U=it,ne=qe}}else if(I==="H")for(let Y=0;Y<me.length;Y++){const ke=fe?U+me[Y]:me[Y],[ze,Te]=Q(ke,ne);U=ke,q.lineTo(ze,Te)}else if(I==="V")for(let Y=0;Y<me.length;Y++){const ke=fe?ne+me[Y]:me[Y],[ze,Te]=Q(U,ke);ne=ke,q.lineTo(ze,Te)}}try{q.fill("evenodd")}catch{q.fill()}q.stroke()},[]);j.useEffect(()=>{const q=l.current;if(!q)return;const T=q.getContext("2d");T&&(T.clearRect(0,0,V,re),T.fillStyle=s==="transparent"?"rgba(0,0,0,0)":s,T.fillRect(0,0,V,re),g.forEach(D=>{if(D.opacity!==0){T.save(),T.globalAlpha=D.opacity,T.fillStyle=D.color,T.strokeStyle=D.color,T.lineWidth=2,T.beginPath(),T.moveTo(D.points[0].x,D.points[0].y);for(let H=1;H<D.points.length;H++)T.lineTo(D.points[H].x,D.points[H].y);if(T.closePath(),T.fill(),T.stroke(),D.text&&D.text.length>0&&D.text.trim()!==""){const H=(D.points[0].x+D.points[1].x+D.points[2].x+D.points[3].x)/4,Q=(D.points[0].y+D.points[1].y+D.points[2].y+D.points[3].y)/4,de=Math.max(Math.abs(D.points[1].x-D.points[0].x),Math.abs(D.points[2].x-D.points[3].x)),je=Math.max(Math.abs(D.points[3].y-D.points[0].y),Math.abs(D.points[2].y-D.points[1].y)),U=Math.min(de/(D.text.length*.6),je*.4);T.font=`${U}px Arial`,T.fillStyle=D.fontColor,T.textAlign="center",T.textBaseline="middle",T.fillText(D.text,H,Q)}T.restore()}}))},[g,V,re,s,x,X]);const L=j.useCallback(q=>{if(_||(q.preventDefault(),z.current!==null))return;const T=q.deltaY<0?"up":"down",D=Math.abs(q.deltaY);le(T,D),z.current=window.setTimeout(()=>{z.current=null},100)},[_,le]);return j.useEffect(()=>{const q=r.current;if(q)return q.addEventListener("wheel",L,{passive:!1}),()=>{q.removeEventListener("wheel",L),z.current!==null&&(clearTimeout(z.current),z.current=null)}},[L]),c.jsx("div",{ref:r,style:{position:"relative",width:`${V}px`,height:`${re}px`,cursor:"default",display:"inline-block"},children:c.jsx("canvas",{ref:l,width:V,height:re,style:{display:"block",width:"100%",height:"100%"}})})};async function yc(i,e){await be("plugin:opener|open_url",{url:i,with:e})}const gd=["(   )","(   )","( ~  )","( .  _  .)","(   )","( o  o)","(   )","(   )","(   )","(   )","(  )","(    ) ","(  V )","\\_()_/","(>_>)","(^_^)","(_)",`
   /\\
  /  \\
  |  |
  |  |
 / == \\
 |/**\\|
`,`
 .--.
|o_o |
|:_/ |
//   \\ \\
(|     | )
/'\\_   _/\`\\
\\___)=(___/
`,"custom"];function OA({currentThemeId:i,onThemeChange:e}){const[s,l]=j.useState("theme"),{userName:r,setUserName:u,userAvatar:d,setUserAvatar:f,customOrbImage:m,setCustomOrbImage:g,isSpillEnabled:y,setIsSpillEnabled:x,orbSpill:v,setOrbSpill:_,orbImageScale:S,setOrbImageScale:w,bannerPattern:N,setBannerPattern:k,customBannerImage:E,setCustomBannerImage:M,customPageBannerImage:A,setCustomPageBannerImage:z,playerBorderPattern:O,setPlayerBorderPattern:F,visualizerGradient:P,setVisualizerGradient:V}=Oa(),[re,oe]=j.useState(""),[se,Se]=j.useState(!1),[Ee,Me]=j.useState("default"),[W,le]=j.useState("diagonal"),[X,L]=j.useState("neon"),[q,T]=j.useState("bars"),[D,H]=j.useState("theme"),Q='maintain style as much as possible. dont change anything about original image. im looking for a "zoom out" so that I can [insert desired changes]. reference the single primary color markings which mark out how I want things expanded. remove single primary color markings from final image.',de=()=>{navigator.clipboard.writeText(Q),Se(!0),setTimeout(()=>Se(!1),2e3)},je=J=>{f(J==="custom"?re||"Custom":J.trim())},U=J=>{const I=J.target.files[0];if(I){const fe=new FileReader;fe.onloadend=()=>{g(fe.result)},fe.readAsDataURL(I)}},ne=J=>{const I=J.target.files[0];if(I){const fe=new FileReader;fe.onloadend=()=>{M(fe.result),Me("uploaded")},fe.readAsDataURL(I)}},Z=J=>{const I=J.target.files[0];if(I){const fe=new FileReader;fe.onloadend=()=>{z(fe.result)},fe.readAsDataURL(I)}},he=J=>{_({...v,[J]:!v[J]})},xe=J=>J.includes(`
`);return c.jsx("div",{className:"w-full h-full flex flex-col bg-transparent",children:c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-slate-800 space-y-6",children:[c.jsx(Wr,{title:"Settings",description:null,color:null,isEditable:!1,childrenPosition:"bottom",children:c.jsxs("div",{className:"flex p-1 bg-black/20 backdrop-blur-md rounded-xl w-fit flex-wrap gap-1 mt-4 border border-white/10",children:[c.jsxs("button",{onClick:()=>l("theme"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${s==="theme"?"bg-white/20 text-white shadow-sm":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[c.jsx(S0,{size:16})," Appearance"]}),c.jsxs("button",{onClick:()=>l("visualizer"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${s==="visualizer"?"bg-white/20 text-white shadow-sm":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[c.jsx(I5,{size:16})," Visualizer"]}),c.jsxs("button",{onClick:()=>l("orb"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${s==="orb"?"bg-white/20 text-white shadow-sm":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[c.jsx(j0,{size:16})," Orb"]}),c.jsxs("button",{onClick:()=>l("profile"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${s==="profile"?"bg-white/20 text-white shadow-sm":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[c.jsx(Qv,{size:16})," Signature"]})]})}),c.jsx("div",{className:"space-y-8 pb-20",children:s==="theme"?c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[c.jsx(vs,{title:"Color Palette",icon:S0,children:c.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(bc).map(([J,I])=>c.jsxs("button",{onClick:()=>e&&e(J),className:`p-3 rounded-xl text-xs font-bold uppercase transition-all border-2 text-left flex flex-col gap-2 ${i===J?"border-sky-500 bg-sky-50 text-sky-700 shadow-md ring-2 ring-sky-200":"border-slate-100 bg-white text-slate-400 hover:border-sky-200 hover:text-sky-600 hover:shadow-sm"}`,children:[c.jsx("div",{className:`w-full h-12 rounded-lg bg-gradient-to-br ${I.bg.replace("from-","from-").replace("via-","via-").replace("to-","to-")} shadow-inner`}),c.jsx("span",{className:"px-1",children:I.name})]},J))})}),c.jsxs(vs,{title:"App Banner",icon:_0,children:[c.jsxs("div",{className:"space-y-3 pb-4 border-b border-slate-100",children:[c.jsxs("div",{className:"flex justify-between items-center px-1",children:[c.jsx("label",{className:"text-xs font-bold uppercase text-slate-400",children:"Current App Banner"}),c.jsx("span",{className:"text-[10px] font-bold text-sky-600 bg-sky-50 px-2 py-0.5 rounded-full uppercase tracking-wider",children:"Active"})]}),c.jsxs("div",{className:"w-full h-32 rounded-xl overflow-hidden shadow-sm border-2 border-slate-100 relative group bg-slate-50",children:[c.jsx("img",{src:E||"/banner.PNG",alt:"Current Banner",className:"w-full h-full object-cover"}),!E&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-60"}),c.jsx("div",{className:"absolute bottom-3 left-3 text-white text-xs font-bold drop-shadow-md",children:E?"Custom Upload":"/public/banner.PNG"}),E&&c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:c.jsx("button",{onClick:()=>{M(null),Me("default")},className:"px-4 py-2 bg-red-500 text-white rounded-lg text-xs font-bold uppercase tracking-wider hover:bg-red-600 transition-colors shadow-lg",children:"Remove Custom Banner"})})]})]}),c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 ml-1",children:"Presets"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:["Default","Cosmic","Nature","Industrial"].map(J=>{const I=J.toLowerCase();return c.jsxs("button",{onClick:()=>{Me(I),I==="default"&&M(null)},className:`p-2 rounded-xl text-xs font-bold uppercase transition-all border-2 flex flex-col gap-2 items-center ${Ee===I?"border-sky-500 bg-sky-50 text-sky-700 shadow-md":"border-slate-100 bg-white text-slate-400 hover:border-sky-200 hover:text-sky-600"}`,children:[c.jsxs("div",{className:"w-full h-16 bg-slate-100 rounded-lg overflow-hidden relative",children:[I==="default"&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-400 to-blue-600 opacity-50"}),I==="cosmic"&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-800 via-indigo-900 to-black opacity-80"}),I==="nature"&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500 to-green-800 opacity-60"}),I==="industrial"&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-slate-600 to-zinc-900 opacity-70"}),c.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] text-white/50",children:"IMG"})]}),c.jsx("span",{children:J})]},I)})})]}),c.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[c.jsxs("label",{className:"w-full py-3 bg-white border-2 border-dashed border-slate-300 rounded-xl text-xs font-bold uppercase text-slate-500 hover:bg-sky-50 hover:border-sky-400 hover:text-sky-600 hover:shadow-sm transition-all flex items-center justify-center gap-2 group cursor-pointer relative overflow-hidden",children:[c.jsx("div",{className:"p-1 bg-slate-100 rounded-md group-hover:bg-white transition-colors",children:c.jsx(_0,{size:14})}),"Upload Custom Banner",c.jsx("input",{type:"file",accept:"image/*",onChange:ne,className:"hidden"})]}),c.jsx("p",{className:"text-[10px] text-slate-400 text-center mt-2",children:"Supports PNG, JPG, WEBP. Recommended size: 1920x200px."})]})]}),c.jsxs(vs,{title:"Page Banner",icon:$5,children:[c.jsxs("div",{className:"mb-4 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 ml-1",children:"Live Preview"}),c.jsx("div",{className:"w-full h-24 bg-gradient-to-r from-sky-400 to-blue-600 rounded-xl overflow-hidden relative shadow-inner border-2 border-slate-100 flex items-center justify-center group",children:A?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${A})`}}),c.jsx("span",{className:"relative z-10 text-white font-black text-2xl tracking-widest drop-shadow-md uppercase opacity-90",children:"CUSTOM"}),c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity z-20",children:c.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 bg-red-500 text-white rounded-lg text-xs font-bold uppercase tracking-wider hover:bg-red-600 transition-colors shadow-lg",children:"Remove"})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`absolute inset-0 pattern-${N||"diagonal"}`}),c.jsx("span",{className:"relative z-10 text-white font-black text-2xl tracking-widest drop-shadow-md uppercase opacity-90",children:N==="waves"?"MESH":N||"DIAGONAL"})]})})]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:["Diagonal","Dots","Mesh","Solid"].map(J=>{const I=J==="Mesh"?"waves":J.toLowerCase();return c.jsxs("button",{onClick:()=>{k(I),z(null)},className:`p-2 rounded-xl text-xs font-bold uppercase transition-all border-2 flex flex-col gap-2 items-center ${N===I&&!A?"border-sky-500 bg-sky-50 text-sky-700 shadow-md":"border-slate-100 bg-white text-slate-400 hover:border-sky-200 hover:text-sky-600"}`,children:[c.jsx("div",{className:"w-full h-12 bg-gradient-to-r from-sky-400 to-blue-600 rounded-lg overflow-hidden relative shadow-inner",children:c.jsx("div",{className:`absolute inset-0 pattern-${I}`})}),c.jsx("span",{children:J})]},I)})}),c.jsxs("div",{className:"pt-2 border-t border-slate-100 mt-2",children:[c.jsxs("label",{className:"w-full py-3 bg-white border-2 border-dashed border-slate-300 rounded-xl text-xs font-bold uppercase text-slate-500 hover:bg-sky-50 hover:border-sky-400 hover:text-sky-600 hover:shadow-sm transition-all flex items-center justify-center gap-2 group cursor-pointer relative overflow-hidden",children:[c.jsx("div",{className:"p-1 bg-slate-100 rounded-md group-hover:bg-white transition-colors",children:c.jsx(_0,{size:14})}),"Upload Custom Pattern",c.jsx("input",{type:"file",accept:"image/*",onChange:Z,className:"hidden"})]}),c.jsx("p",{className:"text-[10px] text-slate-400 text-center mt-2",children:"RECOMMENDED: Seamless textures or wide banners."})]})]}),c.jsx(vs,{title:"Player Borders",icon:Yv,children:c.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Diagonal","Dots","Mesh","Solid"].map(J=>{const I=J==="Mesh"?"waves":J.toLowerCase();return c.jsxs("button",{onClick:()=>F(I),className:`p-3 rounded-xl text-xs font-bold uppercase transition-all border-2 text-left flex items-center justify-between ${O===I?"border-sky-500 bg-sky-50 text-sky-700 shadow-md":"border-slate-100 bg-white text-slate-400 hover:border-sky-200 hover:text-sky-600"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#052F4A] relative overflow-hidden shadow-sm border border-slate-200",children:c.jsx("div",{className:`absolute inset-0 pattern-${I}`})}),c.jsx("span",{children:J})]}),O===I&&c.jsx(rc,{size:14})]},I)})})})]}):s==="visualizer"?c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[c.jsx(vs,{title:"Visualizer Style",icon:Zv,children:c.jsx("div",{className:"grid grid-cols-2 gap-4",children:["Frequency Bars","Digital Wave","Particle Storm","Retro Lines"].map(J=>{const I=J.toLowerCase().split(" ")[0];return c.jsxs("button",{onClick:()=>T(I),className:`p-4 rounded-xl text-xs font-bold uppercase transition-all border-2 flex flex-col gap-3 relative overflow-hidden group ${q===I?"border-sky-500 bg-sky-50 text-sky-700 shadow-md":"border-slate-100 bg-white text-slate-400 hover:border-sky-200 hover:text-sky-600"}`,children:[c.jsxs("div",{className:"w-full h-24 bg-slate-900 rounded-lg relative overflow-hidden flex items-center justify-center",children:[I==="frequency"&&c.jsx("div",{className:"flex items-end gap-1 h-12",children:[...Array(10)].map((fe,me)=>c.jsx("div",{className:"w-2 bg-sky-400 rounded-t-sm animate-pulse",style:{height:`${Math.random()*100}%`,animationDelay:`${me*.1}s`}},me))}),I==="digital"&&c.jsx("svg",{viewBox:"0 0 100 40",className:"w-full h-full stroke-sky-400 fill-none stroke-2 opacity-80",children:c.jsx("path",{d:"M0 20 Q 25 5, 50 20 T 100 20"})}),I==="particle"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-2 h-2 bg-sky-400 rounded-full shadow-[0_0_10px_rgba(56,189,248,0.8)] animate-ping"})}),I==="retro"&&c.jsxs("div",{className:"w-full h-full border-b-2 border-sky-400 flex items-end justify-between px-4 pb-2",children:[c.jsx("div",{className:"text-[10px] font-mono text-sky-400",children:"L"}),c.jsx("div",{className:"text-[10px] font-mono text-sky-400",children:"R"})]})]}),c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsx("span",{children:J}),q===I&&c.jsx(rc,{size:14,className:"text-sky-500"})]})]},I)})})}),c.jsx(vs,{title:"Visualizer Effects",icon:Zv,children:c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border-2 border-slate-100 bg-white",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("span",{className:"text-sm font-bold text-slate-700 block",children:"Distance-Based Transparency"}),c.jsx("p",{className:"text-xs text-slate-400",children:"Bars fade out as they extend outward from the orb."})]}),c.jsx("button",{onClick:()=>V(!P),className:`w-12 h-6 rounded-full transition-colors relative ${P?"bg-sky-500":"bg-slate-200"}`,children:c.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all ${P?"left-7 shadow-sm":"left-1"}`})})]})}),c.jsx(vs,{title:"Color Mode",icon:S0,children:c.jsx("div",{className:"grid grid-cols-3 gap-3",children:["Theme Match","Rainbow","Custom"].map(J=>{const I=J.toLowerCase().split(" ")[0];return c.jsx("button",{onClick:()=>H(I),className:`p-3 rounded-xl text-xs font-bold uppercase transition-all border-2 ${D===I?"border-sky-500 bg-sky-50 text-sky-700":"border-slate-100 bg-white text-slate-400 hover:border-sky-200"}`,children:J},I)})})}),c.jsxs("div",{className:"p-4 bg-sky-50 rounded-xl border border-sky-100 text-sky-800 text-xs font-medium leading-relaxed",children:[c.jsxs("h4",{className:"font-bold flex items-center gap-2 mb-1",children:[c.jsx(Yv,{size:14})," Border Integration"]}),'The selected visualizer will automatically integrate with the "Border Style" chosen in the Appearance tab, overflowing onto the video player when "Spill" is enabled in Orb settings.']})]}):s==="orb"?c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[c.jsx(vs,{title:"Orb Configuration",icon:j0,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 ml-1",children:"Custom Orb Image"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-24 h-24 rounded-full border-4 border-slate-100 overflow-hidden flex items-center justify-center bg-slate-50 relative group",children:[m?c.jsx("img",{src:m,alt:"Orb",className:"w-full h-full object-cover"}):c.jsx("div",{className:"text-slate-300 text-xs text-center p-2",children:"No Image"}),c.jsxs("label",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white cursor-pointer transition-opacity",children:[c.jsx("span",{className:"text-xs font-bold",children:"Change"}),c.jsx("input",{type:"file",onChange:U,accept:"image/*",className:"hidden"})]})]}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:'Upload a custom image for the central orb. You can enable "Spill" to let the image break out of the circle in specific corners.'}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>x(!y),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all border-2 ${y?"bg-sky-500 border-sky-500 text-white shadow-md":"bg-white border-slate-200 text-slate-400 hover:border-slate-300"}`,children:y?"Spill Enabled":"Spill Disabled"}),m&&c.jsx("button",{onClick:()=>g(null),className:"px-3 py-2 rounded-lg text-xs font-bold uppercase tracking-wider text-rose-500 hover:bg-rose-50 transition-colors",children:"Remove Image"})]})]})]})]}),m&&y&&c.jsxs("div",{className:"space-y-2 border-t border-slate-100 pt-4",children:[c.jsxs("div",{className:"flex justify-between items-center px-1",children:[c.jsx("label",{className:"text-xs font-bold uppercase text-slate-400",children:"Image Scale"}),c.jsxs("span",{className:"text-xs font-mono font-bold text-sky-600",children:[S.toFixed(2),"x"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"0.5x"}),c.jsx("input",{type:"range",min:"0.5",max:"3.0",step:"0.05",value:S,onChange:J=>w(parseFloat(J.target.value)),className:"flex-1 h-2 bg-slate-100 rounded-lg appearance-none cursor-pointer accent-sky-500 hover:accent-sky-400 transition-all border border-slate-200"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"3.0x"})]})]}),m&&y&&c.jsxs("div",{className:"space-y-2 border-t border-slate-100 pt-4",children:[c.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 ml-1",children:"Spill Areas"}),c.jsxs("div",{className:"flex gap-8",children:[c.jsxs("div",{className:"relative w-48 h-48 border-2 border-slate-100 rounded-xl overflow-hidden bg-slate-50 mx-auto select-none",children:[c.jsx("img",{src:m,className:"absolute inset-0 w-full h-full object-cover opacity-50 grayscale transition-transform duration-300 origin-center",style:{transform:`scale(${S})`},alt:""}),c.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",children:c.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[c.jsx("defs",{children:c.jsxs("mask",{id:"circleMask",children:[c.jsx("rect",{width:"100",height:"100",fill:"white"}),c.jsx("circle",{cx:"50",cy:"50",r:"35",fill:"black"})]})}),c.jsx("rect",{width:"100",height:"100",fill:"rgba(0,0,0,0.6)",mask:"url(#circleMask)"})]})}),c.jsx("div",{className:"absolute inset-0 z-20 grid grid-cols-2 grid-rows-2",children:["tl","tr","bl","br"].map(J=>c.jsx("button",{onClick:()=>he(J),className:`
                                                                relative border-dashed border-white/30 transition-all duration-200 hover:bg-sky-500/20 active:scale-95 flex items-center justify-center
                                                                ${J==="tl"?"border-r border-b rounded-tl-xl":""}
                                                                ${J==="tr"?"border-l border-b rounded-tr-xl":""}
                                                                ${J==="bl"?"border-r border-t rounded-bl-xl":""}
                                                                ${J==="br"?"border-l border-t rounded-br-xl":""}
                                                                ${v[J]?"bg-sky-500/30":""}
                                                            `,children:v[J]&&c.jsx("div",{className:"p-1 bg-sky-500 rounded-full text-white shadow-sm",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})})},J))}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-30",children:c.jsx("div",{className:"bg-black/50 text-white text-[10px] font-bold px-2 py-0.5 rounded-full backdrop-blur-sm",children:"ORB"})})]}),c.jsxs("div",{className:"flex-1 text-xs text-slate-500 space-y-2 py-2",children:[c.jsx("p",{children:"Click the quadrants to toggle spill for that area."}),c.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-bold text-sky-600",children:"Selected:"})," Image overflows the circle in this corner."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-bold text-slate-400",children:"Unselected:"})," Image is clipped to the circle in this corner."]})]})]})]})]})]})}),c.jsxs("button",{onClick:()=>yc("https://www.remove.bg/upload"),className:"w-full p-6 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-2xl shadow-lg shadow-teal-200 group hover:shadow-xl hover:shadow-teal-300 transition-all duration-300 transform hover:-translate-y-1 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),c.jsx("div",{className:"absolute -left-12 -bottom-12 w-48 h-48 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),c.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[c.jsxs("div",{className:"text-left space-y-1",children:[c.jsxs("h3",{className:"text-lg font-black text-white tracking-tight flex items-center gap-2",children:["Make it Pop",c.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded-full text-[10px] uppercase tracking-wider font-bold",children:"Free Tool"})]}),c.jsxs("p",{className:"text-emerald-50 text-xs font-medium max-w-sm leading-relaxed",children:["Use ",c.jsx("span",{className:"font-bold text-white underline decoration-white/50 underline-offset-2",children:"remove.bg"})," to clear image backgrounds. This creates a stunning 3D pop-out effect when using spilled corners on your Orb!"]})]}),c.jsx("div",{className:"p-3 bg-white/10 rounded-xl group-hover:bg-white/20 transition-colors backdrop-blur-sm",children:c.jsx(cm,{className:"text-white",size:20})})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm",children:[c.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:c.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[c.jsx("span",{className:"bg-amber-400 text-white px-2 py-0.5 rounded text-[10px]",children:"PRO TIP"}),"Handling Cropped Images"]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex gap-6 items-start",children:[c.jsx("img",{src:"/tip.png",alt:"Tip: Extending cropped images",className:"w-32 h-32 object-contain rounded-lg border border-slate-100 bg-slate-50 shadow-sm"}),c.jsxs("div",{className:"space-y-2 text-xs text-slate-500 leading-relaxed",children:[c.jsx("p",{className:"font-bold text-slate-700",children:"Image cut off? No problem."}),c.jsx("p",{children:'Sometimes an image is too zoomed in or cropped awkwardly for the orb. You can use Generative Fill tools (like in Photoshop or online AI editors) to "zoom out" and extend the artwork.'}),c.jsx("p",{children:"Mark the area you want to expand with a primary color (like red) and use the prompt below to generate the missing parts while keeping the original style."})]})]}),c.jsxs("div",{className:"bg-slate-900 rounded-xl p-4 relative group",children:[c.jsx("div",{className:"absolute top-3 right-3",children:c.jsx("button",{onClick:de,className:`
                                                flex items-center gap-2 px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all
                                                ${se?"bg-emerald-500 text-white":"bg-white/10 text-slate-400 hover:bg-white/20 hover:text-white"}
                                            `,children:se?c.jsxs(c.Fragment,{children:[c.jsx(rc,{size:12})," Copied!"]}):c.jsxs(c.Fragment,{children:[c.jsx(f5,{size:12})," Copy Prompt"]})})}),c.jsx("div",{className:"text-xs font-mono text-emerald-400 mb-2 select-none opacity-50",children:"GEN FILL PROMPT"}),c.jsx("p",{className:"font-mono text-xs text-slate-300 pr-24 leading-relaxed selection:bg-emerald-500/30 selection:text-emerald-200",children:Q})]})]})]})]}):c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[c.jsx(vs,{title:"Pseudonym",icon:Qv,children:c.jsx("div",{className:"space-y-2",children:c.jsx("input",{type:"text",value:r,onChange:J=>u(J.target.value),className:"w-full p-3 bg-white border-2 border-slate-100 rounded-xl font-bold text-slate-700 outline-none focus:border-sky-400 focus:ring-4 focus:ring-sky-100 transition-all placeholder:text-slate-300",placeholder:"Enter your name..."})})}),c.jsxs(vs,{title:"Signature",icon:j0,children:[c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:gd.map((J,I)=>{const fe=J==="custom",me=fe?!gd.slice(0,-1).includes(d):d===J.trim(),Y=xe(J);return c.jsx("button",{onClick:()=>je(J),className:`p-4 rounded-xl text-sm font-medium transition-all border-2 flex items-center justify-center min-h-[64px] ${me?"border-sky-500 bg-sky-50 text-sky-700 shadow-md ring-2 ring-sky-200":"border-slate-100 bg-white text-slate-500 hover:border-sky-200 hover:text-sky-600 hover:shadow-sm"}`,children:fe?c.jsx("span",{className:"italic opacity-50",children:"Custom..."}):c.jsx("span",{className:`font-mono text-xs ${Y?"text-[4px] leading-none whitespace-pre text-left":"text-lg"}`,children:J.trim()})},I)})}),c.jsxs("div",{className:`mt-4 space-y-2 transition-all duration-300 ${gd.slice(0,-1).map(J=>J.trim()).includes(d)?"opacity-50 grayscale":"opacity-100 translate-y-0"}`,children:[c.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 ml-1",children:"Custom ASCII Avatar (Multi-line supported)"}),c.jsx("textarea",{value:gd.slice(0,-1).map(J=>J.trim()).includes(d)?re:d,onChange:J=>{oe(J.target.value),f(J.target.value)},className:"w-full p-3 bg-white border-2 border-slate-100 rounded-xl font-mono text-slate-700 outline-none focus:border-sky-400 focus:ring-4 focus:ring-sky-100 transition-all min-h-[120px] text-xs leading-tight whitespace-pre",placeholder:"Paste your ASCII art here..."})]})]}),c.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-sky-400 to-blue-500 rounded-2xl shadow-lg text-white",children:[c.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-sky-100 mb-4 opacity-70 text-center",children:"Banner Preview"}),c.jsx("div",{className:"flex items-center gap-6 justify-center",children:xe(d)?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"text-2xl font-black tracking-tight drop-shadow-md opacity-90",children:c.jsx("span",{children:r})}),c.jsx("pre",{className:"font-mono text-[4px] leading-none whitespace-pre text-white/90 drop-shadow-md",children:d})]}):c.jsxs("div",{className:"text-3xl font-black tracking-tight drop-shadow-md",children:[c.jsx("span",{className:"mr-2 opacity-90",children:d}),c.jsx("span",{children:r})]})})]}),c.jsxs("button",{onClick:()=>yc("https://emojicombos.com/"),className:"w-full p-6 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl shadow-lg shadow-purple-200 group hover:shadow-xl hover:shadow-purple-300 transition-all duration-300 transform hover:-translate-y-1 relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),c.jsx("div",{className:"absolute -right-12 -top-12 w-48 h-48 bg-white/10 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),c.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[c.jsxs("div",{className:"text-left space-y-1",children:[c.jsxs("h3",{className:"text-lg font-black text-white tracking-tight flex items-center gap-2",children:["Need more ASCII art?",c.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded-full text-[10px] uppercase tracking-wider font-bold",children:"Recommended"})]}),c.jsxs("p",{className:"text-indigo-50 text-xs font-medium max-w-sm leading-relaxed",children:["Visit ",c.jsx("span",{className:"font-bold text-white underline decoration-white/50 underline-offset-2",children:"EmojiCombos.com"})," to find the perfect text art collection or draw your own masterpiece."]})]}),c.jsx("div",{className:"p-3 bg-white/10 rounded-xl group-hover:bg-white/20 transition-colors backdrop-blur-sm",children:c.jsx(cm,{className:"text-white",size:20})})]})]})]})})]})})}function vs({title:i,icon:e,children:s}){return c.jsxs("div",{className:"space-y-4 border-t border-sky-50 pt-6 first:border-0 first:pt-0 bg-white/50 p-4 rounded-2xl",children:[c.jsxs("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-widest flex items-center gap-2",children:[e&&c.jsx(e,{size:14})," ",i]}),c.jsx("div",{className:"space-y-4 px-1",children:s})]})}function VA({onVideoSelect:i}){const[e,s]=j.useState(null),{setPlaylistItems:l}=Di(),{setCurrentPage:r}=Gr(),[u,d]=j.useState([]);j.useEffect(()=>{(async()=>{try{const E=await Nn();d(E)}catch(E){console.error("Failed to fetch playlists for support page:",E)}})()},[]);const f=async k=>{const E=u.find(M=>M.name.toLowerCase().includes(k.toLowerCase()));if(E)try{const M=await Vt(E.id);l(M,E.id),r("videos")}catch(M){console.error("Failed to load playlist items",M)}else alert(`Playlist "${k}" not found. Please create it first.`)},m=[{id:"code",label:"Source Code",sublabel:"Open Source & Free",icon:v5,color:"from-slate-700 to-slate-900",textColor:"text-slate-200",action:()=>yc("https://github.com/your-repo"),description:"Dive into the entire codebase. Completely open-source and free to use."},{id:"twitter",label:"Developer",sublabel:"Connect on X",icon:o4,color:"from-blue-400 to-blue-600",textColor:"text-blue-100",action:()=>yc("https://x.com"),description:"Follow the head developer for updates and behind-the-scenes content."},{id:"discord",label:"Community",sublabel:"Join Discord",icon:z5,color:"from-indigo-500 to-indigo-700",textColor:"text-indigo-100",action:()=>yc("https://discord.com"),description:"Join our vibrant community. Get help, share ideas, and chat with others."},{id:"promo",label:"Future Plans",sublabel:"Promo Videos",icon:Kv,color:"from-rose-400 to-rose-600",textColor:"text-rose-100",action:()=>f("Promo"),description:"Watch promotional videos detailing future projects and ambitions."},{id:"resources",label:"Resources",sublabel:"For Developers",icon:Kj,color:"from-emerald-400 to-emerald-600",textColor:"text-emerald-100",action:()=>f("Resources"),description:"Curated resources to help 0-code vibe coders use this project."}],[g,y]=j.useState(0),x=e!==null&&m[e]?m[e]:m[g]||m[0],[v,_]=j.useState([]);j.useEffect(()=>{(async()=>{try{const E=await Nn();if(E.length>0){const M=E[0].id,z=(await Vt(M)).slice(0,5).map(O=>O.thumbnail_url||`https://img.youtube.com/vi/${O.video_id}/maxresdefault.jpg`);_(z)}}catch(E){console.error("Failed to load thumbnails",E)}})()},[]);const S=e!==null?e:g!==null?g:-1,w=S>=0&&v[S]?v[S]:v[0]||null,N=["code","twitter","discord"].includes(x.id);return c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-start pt-4 bg-transparent relative overflow-hidden p-8 gap-0",children:[c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0.02)_2px,transparent_2px),linear-gradient(90deg,rgba(0,0,0,0.02)_2px,transparent_2px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_80%)] pointer-events-none"}),c.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-8 z-50 relative",children:m.map((k,E)=>{const M=x.id===k.id;return c.jsxs("button",{onClick:()=>{y(E)},className:`flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold tracking-wide transition-all duration-300 border backdrop-blur-md ${M?"bg-white text-slate-900 border-white shadow-[0_0_20px_rgba(255,255,255,0.3)] scale-105":"bg-black/20 text-slate-400 border-white/5 hover:bg-white/10 hover:text-white hover:border-white/20"}`,children:[dn.createElement(k.icon,{size:16,strokeWidth:2.5}),k.label]},k.id)})}),c.jsxs("div",{className:"w-full max-w-4xl h-32 rounded-2xl relative overflow-hidden transition-all duration-300 shadow-xl group shrink-0 z-20 border border-white/10",children:[c.jsx(Y0,{mode:"popLayout",initial:!1,children:c.jsxs(Er.div,{className:"absolute inset-0 w-full h-full",initial:{x:"-100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:200,damping:25},children:[c.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${x.color}`}),c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none group-hover:scale-110 transition-transform duration-1000"})]},x.id)}),c.jsx(Y0,{mode:"popLayout",initial:!1,children:c.jsxs(Er.div,{initial:{x:"-150%",opacity:0},animate:{x:0,opacity:1},exit:{x:"150%",opacity:0},transition:{type:"spring",stiffness:200,damping:25},className:"relative z-10 h-full flex items-center justify-between px-10 w-full",children:[c.jsxs("div",{className:"flex flex-col max-w-2xl",children:[c.jsx("h1",{className:"text-4xl font-black tracking-tighter text-white drop-shadow-sm",children:x.label}),c.jsx("p",{className:"text-white/80 font-bold tracking-widest uppercase text-sm mt-1",children:x.sublabel}),c.jsx("p",{className:"text-white/70 text-sm mt-2 font-medium leading-relaxed",children:x.description})]}),c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-md flex items-center justify-center border border-white/20 shadow-inner group-hover:rotate-6 transition-transform duration-500 shrink-0 ml-4",children:dn.createElement(x.icon,{size:32,className:"text-white drop-shadow-md",strokeWidth:2.5})})]},x.id)})]}),c.jsxs("div",{className:"relative w-full max-w-7xl h-[400px] px-8 pb-12 z-10 flex gap-8 items-center mt-12",children:[c.jsx("div",{onClick:()=>x.action(),className:"w-[500px] h-[300px] shrink-0 rounded-3xl overflow-hidden shadow-2xl border-4 border-white/10 bg-slate-900 group relative flex items-center justify-center cursor-pointer hover:scale-[1.02] active:scale-[0.98] transition-transform duration-300 hover:border-white/30",children:c.jsx(Y0,{mode:"popLayout",children:N?c.jsxs(Er.div,{initial:{opacity:0,scale:.5,rotate:-180},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.5,rotate:180},transition:{type:"spring",stiffness:200,damping:20},className:"absolute inset-0 w-full h-full flex flex-col items-center justify-center gap-4",children:[c.jsx("div",{className:`absolute inset-0 opacity-20 bg-gradient-to-br ${x.color} blur-3xl rounded-full scale-150 animate-pulse`}),dn.createElement(x.icon,{size:100,className:"text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.5)] relative z-10",strokeWidth:1.5}),c.jsxs("div",{className:"relative z-10 text-center",children:[c.jsx("h3",{className:"text-2xl font-black text-white tracking-tight uppercase drop-shadow-lg",children:x.label}),c.jsx("p",{className:`text-sm font-bold opacity-80 ${x.textColor}`,children:x.sublabel})]}),c.jsx("div",{className:"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-2 group-hover:translate-y-0",children:c.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-md rounded-xl border border-white/20 text-white shadow-lg",children:c.jsx(cm,{size:24})})})]},x.id):w&&c.jsxs(Er.div,{initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 w-full h-full",children:[c.jsx("img",{src:w,alt:"Preview",className:"w-full h-full object-cover opacity-60 group-hover:opacity-90 transition-opacity duration-700"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent flex flex-wrap content-end p-8",children:c.jsxs("div",{className:"w-full",children:[c.jsx("span",{className:"text-xs font-bold text-white/70 tracking-widest uppercase mb-2 block",children:"Featured Content"}),c.jsx("h3",{className:"text-white font-black text-2xl leading-tight drop-shadow-xl mb-3",children:x.sublabel}),c.jsx("p",{className:"text-white/60 text-sm line-clamp-2",children:"Check out this featured video."})]})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/20 backdrop-blur-[2px]",children:c.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center pl-2 border border-white/40 shadow-2xl hover:scale-110 transition-transform cursor-pointer",children:c.jsx(Kv,{size:40,className:"text-white fill-white"})})})]},x.id)})}),c.jsx("div",{className:"flex-1 h-full rounded-3xl overflow-hidden shadow-2xl border-4 border-white/10 bg-slate-900 group relative",children:c.jsx("img",{src:"/grok-video-11b464e2-7bbc-478e-876a-940b9b44db5a1-ezgif.com-video-to-gif-converter.gif",alt:"AI Showcase",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500"})})]})]})}function BA(){const{viewMode:i,setViewMode:e,menuQuarterMode:s,toggleMenuQuarterMode:l,showDebugBounds:r,toggleDebugBounds:u,inspectMode:d,toggleInspectMode:f,showRuler:m,toggleRuler:g,showDevToolbar:y}=Qn(),x=me=>d?me:void 0,{showPlaylists:v,setShowPlaylists:_,setPlaylistItems:S,currentPlaylistItems:w,currentPlaylistId:N,currentVideoIndex:k,setCurrentVideoIndex:E}=Di(),{currentPage:M}=Gr(),[A,z]=j.useState(!1),[O,F]=j.useState(null),[P,V]=j.useState(null),[re,oe]=j.useState(!0),[se,Se]=j.useState(null),[Ee,Me]=j.useState(0),[W,le]=j.useState(null),[X,L]=j.useState([]),[q,T]=j.useState(1),[D,H]=j.useState("blue"),{checkExpiration:Q}=Na();j.useEffect(()=>{Q();const me=setInterval(Q,6e4);return()=>clearInterval(me)},[Q]);const[de,je]=j.useState(null);j.useEffect(()=>{console.log("=== APP STATE DEBUG ==="),console.log("showPlaylists:",v),console.log("dbInitialized:",A),console.log("viewMode:",i),console.log("currentPage:",M)},[v,A,i,M]),j.useEffect(()=>{(async()=>{try{console.log("Loading radial menu configs...");const Y=await fetch("/container-config (11).json");if(!Y.ok)throw new Error(`Container config failed: ${Y.status}`);const ke=await Y.json();console.log("Container config loaded:",ke),F(ke);const ze=await fetch("/dictionary.json");if(!ze.ok)throw new Error(`Dictionary config failed: ${ze.status}`);const Te=await ze.json();console.log("Dictionary config loaded:",Object.keys(Te).length,"entries"),V(Te)}catch(Y){console.error("Failed to load radial menu configs:",Y)}})()},[]),j.useEffect(()=>{console.log("Radial menu state updated:",{visible:re,hasContainerConfig:!!O,hasDictionaryConfig:!!P,containerConfigKeys:O?Object.keys(O):null})},[re,O,P]),j.useEffect(()=>{(async()=>{try{await yM(),z(!0);try{const Y=await u2(1);if(Y&&Y.length>0){const ke=Y[0],ze=ke.video_id,Te=await Nn();for(const Ue of Te)try{const Xe=await Vt(Ue.id),lt=Xe.findIndex(ut=>ut.video_id===ze);if(lt>=0){S(Xe,Ue.id),E(lt),console.log("Loaded most recent video from watch history:",ke.video_url);return}}catch(Xe){console.error(`Failed to load playlist ${Ue.id}:`,Xe)}console.log("Most recent video not found in any playlist, using default")}}catch(Y){console.error("Failed to load watch history for initialization:",Y)}}catch(Y){console.error("Failed to initialize database:",Y),z(!0)}})()},[S,E]);const U=dn.useMemo(()=>w.length>0&&k<w.length?w[k].video_url:"https://www.youtube.com/watch?v=QiemgC39tA0",[w,k]),ne=dn.useMemo(()=>w.length>0&&k<w.length&&w[k].is_local||!1,[w,k]),Z=dn.useMemo(()=>w.length>0&&k<w.length?w[k].video_id:null,[w,k]);dn.useMemo(()=>q===1?U:se||U,[q,U,se]),j.useEffect(()=>{A&&(async()=>{if(!(!U||U==="https://www.youtube.com/watch?v=QiemgC39tA0"))try{const Y=mi(U);if(!Y)return;const ke=w.length>0&&k<w.length?w[k]:null,ze=ke?.title||null,Te=ke?.thumbnail_url||null;await D4(U,Y,ze,Te)}catch(Y){console.error("Failed to track video play:",Y)}})()},[U,A,w,k]);const he=(me,Y)=>{S(me,Y)},xe=async me=>{if(q===1){const Y=w.findIndex(ke=>ke.video_url===me);if(Y>=0)E(Y);else try{const ke=await Nn();for(const ze of ke)try{const Te=await Vt(ze.id),Ue=Te.findIndex(Xe=>Xe.video_url===me);if(Ue>=0){S(Te,ze.id),he(Te,ze.id),E(Ue);break}}catch(Te){console.error(`Failed to load playlist ${ze.id}:`,Te)}}catch(ke){console.error("Failed to search playlists for video:",ke)}}else{Se(me);let Y=-1;if(X.length>0&&(Y=X.findIndex(ke=>ke.video_url===me),Y>=0)){Me(Y);return}if(Y<0)if(Y=w.findIndex(ke=>ke.video_url===me),Y>=0)Me(Y),le(N),L(w);else try{const ke=await Nn();for(const ze of ke)try{const Te=await Vt(ze.id),Ue=Te.findIndex(Xe=>Xe.video_url===me);if(Ue>=0){Me(Ue),le(ze.id),L(Te);break}}catch(Te){console.error(`Failed to load playlist ${ze.id}:`,Te)}}catch(ke){console.error("Failed to search playlists for video:",ke)}}},J=async me=>{q===1&&je({videoUrl:U,playlistId:N,videoIndex:k,playlistItems:[...w]});let Y=w.findIndex(Te=>Te.video_url===me),ke=N,ze=w;if(Y<0)try{const Te=await Nn();for(const Ue of Te)try{const Xe=await Vt(Ue.id),lt=Xe.findIndex(ut=>ut.video_url===me);if(lt>=0){Y=lt,ke=Ue.id,ze=Xe;break}}catch(Xe){console.error(`Failed to load playlist ${Ue.id}:`,Xe)}}catch(Te){console.error("Failed to search playlists for video:",Te)}Y>=0&&ze.length>0&&(S(ze,ke),E(Y),T(2))},I=me=>{q===2&&me===1&&de&&(S(de.playlistItems,de.playlistId),E(de.videoIndex),je(null)),T(me)},fe=me=>{if(console.log(`Video ended in player: ${me}`),me==="main"){const Y=k+1;Y<w.length?(console.log("Autoplaying next video in main playlist"),E(Y)):console.log("Main playlist reached end")}else if(me==="second"){const Y=Ee+1;if(Y<X.length){console.log("Autoplaying next video in second playlist"),Me(Y);const ke=X[Y];ke&&Se(ke.video_url)}else console.log("Second playlist reached end")}};return c.jsxs("div",{className:`app-container bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] ${bc[D].bg}`,style:{width:"100vw",height:"100vh",overflow:"hidden"},children:[y&&c.jsxs("div",{className:"view-mode-toggle",children:[c.jsx("button",{onClick:()=>e("full"),className:i==="full"?"active":"",title:x("Full screen view"),children:"Full"}),c.jsx("button",{onClick:()=>e("half"),className:i==="half"?"active":"",title:x("Half screen view"),children:"Half"}),c.jsx("button",{onClick:()=>e("quarter"),className:i==="quarter"?"active":"",title:x("Quarter screen view"),children:"Quarter"}),i!=="full"&&c.jsx("button",{onClick:l,className:s?"active":"",title:x("Toggle menu quarter mode")||"Toggle Menu Quarter Mode",children:"Menu Q"}),c.jsx("button",{onClick:u,className:r?"active":"",title:x("Toggle debug bounds")||"Toggle Debug Bounds",style:{backgroundColor:r?"#3b82f6":"transparent",color:r?"white":"inherit",border:"1px solid #3b82f6",padding:"4px 8px",borderRadius:"4px",cursor:"pointer"},children:"Debug"}),c.jsx("button",{onClick:f,className:d?"active":"",title:x("Toggle inspect mode")||"Toggle Inspect Mode",style:{backgroundColor:d?"#8b5cf6":"transparent",color:d?"white":"inherit",border:"1px solid #8b5cf6",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",marginLeft:"8px"},children:"Inspect"}),c.jsx("button",{onClick:g,className:m?"active":"",title:x("Toggle ruler")||"Toggle Ruler",style:{backgroundColor:m?"#ef4444":"transparent",color:m?"white":"inherit",border:"1px solid #ef4444",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",marginLeft:"8px"},children:"Ruler"}),c.jsx("button",{onClick:()=>oe(!re),className:re?"active":"",title:x("Toggle radial menu")||"Toggle Radial Menu",style:{backgroundColor:re?"#10b981":"transparent",color:re?"white":"inherit",border:"1px solid #10b981",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",marginLeft:"8px"},children:"Menu"})]}),c.jsx(y4,{topController:c.jsx(U4,{onPlaylistSelect:he,onVideoSelect:xe,activePlayer:q,onActivePlayerChange:I,secondPlayerVideoUrl:se,secondPlayerVideoIndex:Ee,onSecondPlayerVideoIndexChange:Me,secondPlayerPlaylistId:W,secondPlayerPlaylistItems:X,currentThemeId:D,onThemeChange:H}),mainPlayer:ne?c.jsx(gM,{videoUrl:U,videoId:Z,playerId:"main",onEnded:()=>fe("main")}):c.jsx(E1,{videoUrl:U,playerId:"main",onEnded:()=>fe("main")}),secondPlayer:se?c.jsx(E1,{videoUrl:se,playerId:"second",onEnded:()=>fe("second")}):null,miniHeader:c.jsx("div",{className:"w-full h-full flex items-center px-4",children:c.jsx(G4,{})}),animatedMenu:re&&O&&P?c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:"transparent",pointerEvents:"auto",zIndex:10},children:c.jsx(LA,{containerConfig:O,dictionaryConfig:P,backgroundColor:"transparent"})}):null,spacerMenu:null,menuSpacerMenu:null,sideMenu:v&&A?(console.log("=== RENDERING PLAYLISTLIST IN APP ==="),console.log("showPlaylists:",v),console.log("dbInitialized:",A),c.jsx(X4,{onPlaylistSelect:he,onVideoSelect:xe})):v&&!A?c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("p",{className:"text-black",children:"Initializing database..."})}):!v&&M==="playlists"?c.jsx(sk,{onVideoSelect:xe}):!v&&M==="videos"?c.jsx(hk,{onVideoSelect:xe,onSecondPlayerSelect:J}):!v&&M==="history"?c.jsx(mk,{onVideoSelect:xe,onSecondPlayerSelect:J}):!v&&M==="likes"?c.jsx(KT,{onVideoSelect:xe}):!v&&M==="pins"?c.jsx(ZT,{onVideoSelect:xe}):!v&&M==="settings"?c.jsx(OA,{currentThemeId:D,onThemeChange:H}):!v&&M==="support"?c.jsx(VA,{onVideoSelect:xe}):null})]})}Aj.createRoot(document.getElementById("root")).render(c.jsx(dn.StrictMode,{children:c.jsx(BA,{})}));
